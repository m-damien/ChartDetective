{"version":3,"sources":["datastructure/Overlay.tsx","datastructure/ShapeCommand.tsx","view/ChartView.tsx","view/filters/FilterPanel.tsx","datastructure/AxisCoordinate1D.tsx","datastructure/AxisCoordinate2D.tsx","utils/MathUtils.tsx","utils/ShapeUtils.tsx","datastructure/chartelements/ChartElement.tsx","datastructure/chartelements/Axis.tsx","datastructure/chartelements/SubChartElement.tsx","datastructure/DataTable.tsx","datastructure/ShapeSelection.tsx","utils/Snackbar.tsx","datastructure/Rectangle.tsx","utils/TextMerger.tsx","utils/extractors/AxisExtractor.tsx","utils/UndoManager.tsx","view/DraggableShapeSelection.tsx","view/widgets/TableWidget.tsx","view/DropZone.tsx","view/widgets/AxisWidget.tsx","datastructure/chartelements/ErrorBar.tsx","utils/extractors/LegendExtractor.tsx","utils/extractors/BarExtractor.tsx","utils/extractors/BoxPlotExtractor.tsx","utils/extractors/ErrorBarExtractor.tsx","utils/extractors/LineExtractor.tsx","utils/extractors/ScatterExtractor.tsx","utils/extractors/ExtractorUtils.tsx","view/ElementDropZone.tsx","view/widgets/SeriesWidget.tsx","view/ReconstructedChart.tsx","view/filters/ColorFilter.tsx","view/filters/ShapeFilter.tsx","view/ChartExtractor.tsx","view/HookedCanvasFactory.tsx","view/pdfViewer/libs/viewer.js","view/pdfViewer/PosUtils.tsx","view/pdfViewer/PDFSelection.tsx","view/pdfViewer/PDFJSViewer.tsx","App.tsx","index.js","../node_modules/jspdf/dist sync"],"names":["OverlayType","Overlay","_classCallCheck","this","points","type","MARKS","_createClass","key","value","copy","concat","ShapeCommand","path","isFilled","lineWidth","lineCap","lineJoin","miterLimit","lineDash","font","textAlign","textBaseline","direction","fillStyle","strokeStyle","transform","globalAlpha","globalCompositeOperation","bbox","clipPaths","text","textX","textY","unicode","x","y","width","height","arguments","length","undefined","transformedPt","DOMPoint","matrixTransform","rect","topLeft","botRight","Math","min","abs","ctx","prevFont","metrics","measureText","pos","transformPos","actualBoundingBoxLeft","actualBoundingBoxAscent","posEnd","actualBoundingBoxRight","actualBoundingBoxDescent","pointsToRect","pathRect","pathToRect","left","top","right","bottom","_step","_iterator","_createForOfIteratorHelper","s","n","done","clipPath","transformedRect","leftX","max","rightX","topY","bottomY","err","e","f","lastPt","minX","Number","MAX_SAFE_INTEGER","minY","maxX","MIN_SAFE_INTEGER","maxY","i","args","types","MOVETO","LINETO","CURVETO","push","copyStyle","DOMMatrix","fromMatrix","getTransform","currentTransform","_step2","_iterator2","setTransform","a","b","c","d","applyPath","clip","clone","saveStyle","BEGIN","beginPath","CLOSE","closePath","moveTo","lineTo","bezierCurveTo","save","applyStyle","fillText","strokeText","fill","stroke","restore","get","getLineDash","setLineDash","ChartView","_React$Component","props","_this","_possibleConstructorReturn","_getPrototypeOf","call","hoveredCmdsIdx","startPt","endPt","isMouseDown","selectionColor","selectionRectOutlineColor","selectionRectColor","overlayColor","chartBuffer","zbuffer","zIncrement","offset","intervalId","globalMouseUpListener","previousWidth","previousHeight","previousShapeCount","previousGhostCount","bufferTransform","viewTransform","viewTransformedTime","viewTransformed","tmpPoint","state","isPanning","isCentered","document","createElement","_inherits","transformed","tmpTranformed","w","z","multiply","inverse","transformPoint","event","canvasRect","getElementById","getBoundingClientRect","clientX","clientY","hexColorA","hexColorB","rA","gA","bA","rB","gB","bB","r","g","zvalue","shapes","chart","idx","cmd","zbufferData","getContext","getImageData","centralVal","rgbToZValue","data","selectedCmd","zValueToCommand","colorDiff","val","deltaColor","getColorDistance","button","getDraggableSelection","addShapesIdx","shiftKey","clearShapes","redraw","eventToMousePos","onMouseMoved","dx","dy","scale","getEffectiveScale","setTmpTransform","translate","setState","sx","sy","h","selectRect","isContained","ghostShapes","includes","mousePos","getCommandAtPos","scaleFactor","cx","cy","pt","transfo","scaleSelf","translateSelf","sign","deltaY","zoom","matrix","m","E","F","G","H","Q","sqrt","R","zctx","fillRect","clearRect","floor","isGhost","cmdStyle","draw","colValue","toString","zColor","slice","overlay","thickness","CONNECTED","pixel","HORIZONTAL_GRIDLINE","VERTICAL_GRIDLINE","coord","markWidth","markHeight","canvas","Date","now","mRes","maxScale","refreshBuffers","resetTransform","drawImage","drawOverlay","draggableSelection","shapeSelection","cmdsToHighlight","isDragged","isHidden","shapesIdx","prevFilled","lineDashOffset","strokeRect","parentNode","offsetTop","parentElement","clientWidth","clientHeight","shapesRect","res","tx","ty","newViewTransfo","updateDraggableSelection","parentRect","forceUpdate","_this2","onGlobalMouseUp","bind","addEventListener","window","setInterval","resize","clearInterval","removeEventListener","_this3","React","Fragment","style","marginRight","margin","className","onMouseDown","preventDefault","onClick","aria-hidden","center","position","overflow","cursor","id","onMouseMove","onMouseUp","onMouseLeave","onWheel","onMouseWheel","Component","FilterPanel","switches","getGeneratedFilters","counter","hashToValue","shape","filter","getValue","hash","updateShape","sortedHashes","Object","keys","sort","getUniqueId","minNumberElements","canvasId","checkboxId","allowedHashes","forbiddenHashes","checked","allowed","forbidden","result","hashes","getAllowedHashes","allowMisc","warnListeners","onFilterChanged","checkbox","setAllChecked","paint","repaintSwitches","getName","replace","htmlSwitches","_loop","onDoubleClick","onChange","defaultChecked","verticalAlign","marginLeft","overflowX","overflowY","whiteSpace","display","fontWeight","fontSize","AxisCoordinate1D","pixelPosition","axis","pixelToTick","set","newValue","tickToPixel","AxisCoordinate2D","axisX","axisY","MathUtils","minA","maxA","minB","maxB","pixelPosX","prevPt","nextPt","range","coeff","pixelPosY","ax","ay","bx","by","ShapeUtils","xaxis","yaxis","j","transfoPt","xcoord","ycoord","subShapes","currentPath","subShape","computeBBox","splitIntoSubShapes","multiplicator","PI","relatedToOrigin","angles","positionHistory","p1","p2","angleRad","atan2","angle","round","p3","dAx","dAy","dBx","dBy","angleDeg","shapeToAngles","every","hex","startsWith","substring","bigint","parseInt","rgb","colorHexToRgb","ChartElementType","ChartElement","name","_type","_data","linkedElements","mainColor","canBeInterpolated","_canHaveErrorBars","LINE","BOX_PLOT","elementToCopy","_toConsumableArray","colors","mainColorfulColor","color","isColor","skipCount","interpolate","errorBar","Interpolation","Direction","Axis","_ChartElement","interpolation","AXIS","_interpolation","_direction","ticks","tick","X","Y","pixelPos","isCategorical","isNaN","CATEGORICAL","LINEAR","minTick","maxTick","minValue","parseFloat","maxValue","project","closestTick","t","_step3","_iterator3","resampledTicks","interval","str","toLowerCase","toUpperCase","substr","SubChartElement","serie","_serie","getMainColor","DataTable","series","oldRefs","oldRef","newRef","linkedElement","indexOf","mainSerie","ShapeSelection","Snackbar","snackDiv","container","append","setTimeout","removeChild","imgSrc","_createSnackDiv","backgroundColor","imgDiv","img","src","_addSnackDiv","addMessage","Rectangle","ex","ey","v","TextMerger","Promise","resolve","reject","getTextsFromTextShapes","parseRenderedText","then","chunks","_chunksToLines","letterShapes","TextChunk","alignedRect","lines","TextLine","chunk","line","isOnLine","addTextChunk","forEach","l","getWords","add","tmpCanvas","Tesseract","recognize","symbols","symbol","textChunk","x0","y0","x1","y1","wordSeparator","lineSeparator","getTextsFromShapes","texts","map","join","getAlignedBounds","p0","bounds","extractAngle","rotateSelf","ptA","ptB","ptDestA","ptDestB","ox","oy","initialChunk","textChunks","_totalAvgLetterWidth","getLetterWidth","avgLetterWidth","words","lastChunk","AxisExtractor","labelShape","mainShape","distFromLabel","isVertical","labelLowerBound","labelUpperBound","shapeLowerBound","shapeUpperBound","tickLabel","selectedShapes","allShapes","numberedTicks","stringTicks","lineId","wordId","word","getAccurateTickPos","label","cleanTickLabel","trim","isNumber","addWarningMessage","addTickValue","alert","UndoManager","undoHistory","redoHistory","dataTable","canUndo","addInfoMessage","pop","cloneState","canRedo","_instance","DraggableShapeSelection","dragOffset","mouseIntialPos","globalMouseMoveListener","isVisible","getSelection","selectionRect","divSelection","getX","getY","updateSelectionPosition","filteredShapes","cmdRect","corners","getShapesBBox","pad","invertedSelection","shapeIdx","index","splice","updateSelectionRect","alpha","clear","onGlobalMouseMove","selectionRectHTML","isDragging","border","pointerEvents","lastTableId","TableWidget","_React$PureComponent","title","floatingHeader","floatingFooter","colWidths","maxHeight","maxWidth","minWidth","columnWidth","rowHeight","cellSelectedListener","cellEditedListener","cachedTable","lastRowCount","lastColCount","stickyGrid","mainGrid","hasHorizontalScrollbar","hasVerticalScrollbar","createRef","selection","editedCell","gridWidth","gridHeight","scrollBarWidth","scrollBarHeight","current","gridDiv","_outerRef","offsetWidth","offsetHeight","getHeight","updateDataTableSize","columnId","colId","rowId","getColWidth","col","row","onEditingComplete","stopPropagation","isCellEditable","editionCell","rawData","getData","focus","startRow","startCol","endRow","endCol","isCellSelectable","onCellUnhovered","count","colCount","getColCount","nbRow","getRowCount","getFloatingHeader","getFloatingFooter","scroll","scrollUpdateWasRequested","scrollTo","scrollLeft","scrollTop","scrollToItem","align","rowIndex","getCellRect","editionRect","boxSizing","onBlur","onKeyDown","self","Cell","_ref","columnIndex","_objectSpread","getCellStyle","onMouseOver","onCellHovered","onCellClicked","flexDirection","getColumnStickyCount","Grid","ref","getColumnStickyWidth","columnCount","rowCount","_","getColumnStickyHTML","onScroll","onMainGridScrolled","getWidth","getFloatingHeaderHTML","getTableHTML","ReactDOM","createPortal","getGridOverlay","getFloatingFooterHTML","children","PureComponent","DropZoneState","AcceptFilter","TextOnly","some","TextOrShape","ShapeOnly","DropZone","dropCount","getSelectedShapes","isSelectionValid","recommendedDropCount","NEUTRAL","RECOMMENDED","DISABLED","onShapesDropped","getSelectionInvalidReason","isSelectionAccepted","dropZoneState","getDropZoneState","AxisWidget","_TableWidget","onCellSelectedCallback","_assertThisInitialized","onCellEditedCallback","extractor","addUndoRestorePoint","onShapesSelected","getTextFromShapes","updateDatatable","onInterpolationButton","getInterpolationName","onClearButton","onShapesDroppedOnTitle","coordFix","coordA","isHorizontal","newVal","_get","prototype","onShapesDroppedOnTicks","Bound","ErrorBar","_SubChartElement","bound","ERRORBAR","UPPER","_bound","LOWER","LegendExtractor","element","textShapes","candidateLegendShape","candidateLegend","candidateTextShapes","textShape","_step4","startX","_iterator4","BarExtractor","datatable","shapesToLink","mx","BoxPlotExtractor","groupedShapes","groupIdx","grect","groupx","datapoint","xpos","found","existingDatapoint","groupedBoxplots","groupShapesByCenterX","splitShapesIntoSubShapes","BOX_PLOT_Q3","BOX_PLOT_Q1","BOX_PLOT_MIN","BOX_PLOT_MAX","elementQ3","elementQ1","elementMin","elementMax","boxplotShapes","medians","q1","q3","boxplotShape","isLine","isRectangle","median","_i","_medians","candidateMedian","setDatapoint","ErrorBarExtractor","minDist","MAX_VALUE","dist","associatedPt","isLowerBound","shapesToPoints","LineExtractor","ScatterExtractor","my","ExtractorUtils","is","BAR","SCATTER","ElementDropZone","chartTypeToString","getSerieExtractor","onMouseClick","borderRadius","alt","imgFile","onShapesDroppedOnNewSerie","Tick","duplicateId","SeriesWidget","decimalPrecision","nTicks","cachedTicks","cachedHeaders","cachedData","cachedRawData","numbers","decimals","truncatedNumbers","Set","constDec","toFixed","size","values","uniqueTicks","duplicatedTicks","uniqueTicksSeries","duplicatedTicksSeries","has","hasOwnProperty","duplicatePix","tickPixels","Array","from","nb","getTicksX","getAtPixelX","headers","tickValues","minDecimals","getMinDecimals","roundedTicks","serieData","tickId","getMainSerie","mainSerieVal","dropzones","dropzoneSkipper","_loop2","nameRect","onShapesDroppedOnSerieName","dropzoneHeight","onShapesDroppedCallback","onShapesDroppedOnSerie","errorBar2","subElementsCount","lastCell","endX","downloadCSV","target","getCellValue","subElement","upperErrorBar","lowerErrorBar","lowerBound","upperBound","onAddErrorBars","extractedText","_this4","hasErrorBars","canHaveErrorBars","getRowBackgroundColor","_this5","isErrorBarButtonShown","onRowDeleted","padding","paddingLeft","paddingTop","onShapesDroppedOnErrorBar","_this6","getStickyButton","filename","setAttribute","encodeURIComponent","body","appendChild","click","csvContent","download","dragAndDropArea","seriesWidget","querySelector","scrollToRow","onNewRowAdded","ReconstructedChart","traces","styleCounter","coords","axisCoordToArray","upperValue","lowerValue","symmetric","array","arrayminus","trace","error_y","marker","styleHash","styleId","dashLineStyle","markerSymbols","barPatternStyle","Plot","useResizeHandler","layout","autosize","boxmode","ComparableColor","ColorFilter","ComparableShape","squareRatio","candidateRatio","ShapeFilter","ChartExtractor","filters","chartView","xAxisWidget","yAxisWidget","statusBarText","draggableShapeSelection","onresize","onkeydown","ev","onkeyup","onKeyUp","restoreDataTable","undo","redo","ctrlKey","metaKey","onRedo","onUndo","enterPanMode","hide","exitPanMode","show","ghosts","apply","vx","vy","isFinite","statusBar","innerHTML","dragElement","updateLayout","chartRect","chartViewHeight","chartViewHeightUnits","static","GridLayout","draggableHandle","cols","containerPadding","onLayoutChange","resizeHandles","autoSize","compactType","justifyContent","alignItems","getGhostShapes","axisWidget","flex","HookedCanvasFactory","context","hookedCtx","hookedCtxs","origGetContext","hookCtx","Error","_createCanvas","canvasAndContext","isHooked","commands","unhookCtx","currentCommand","console","log","glyphs","glyphIdx","textCommand","addCommand","getCurrentCmd","addCmd","_len","_key","_len2","_key2","_len3","_key3","cpx","cpy","radius","startAngle","endAngle","x2","y2","fillRule","radiusX","radiusY","rotation","image","hooked","clonedCmd","hookId","origFunctions","lastWidth","lastHeight","hookMethod","quadraticCurveTo","arc","arcTo","ellipse","glyphFillText","object","method","callback","block","_regeneratorRuntime","exports","Op","hasOwn","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","makeInvokeMethod","tryCatch","fn","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","record","__await","unwrapped","error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","loadViewer","modules","installedModules","__webpack_require__","moduleId","module","getter","o","mode","__esModule","ns","property","p","pdfjsWebApp","pdfjsWebAppOptions","webViewerLoad","config","appContainer","mainContainer","viewerContainer","eventBus","toolbar","numPages","pageNumber","scaleSelectContainer","scaleSelect","customScaleOption","previous","zoomIn","zoomOut","viewFind","openFile","print","presentationModeButton","viewBookmark","secondaryToolbar","toggleButton","toolbarButtonContainer","openFileButton","printButton","downloadButton","viewBookmarkButton","firstPageButton","lastPageButton","pageRotateCwButton","pageRotateCcwButton","cursorSelectToolButton","cursorHandToolButton","scrollVerticalButton","scrollHorizontalButton","scrollWrappedButton","spreadNoneButton","spreadOddButton","spreadEvenButton","documentPropertiesButton","fullscreen","contextFirstPage","contextLastPage","contextPageRotateCw","contextPageRotateCcw","sidebar","outerContainer","thumbnailButton","outlineButton","attachmentsButton","thumbnailView","outlineView","attachmentsView","sidebarResizer","resizer","findBar","bar","findField","highlightAllCheckbox","caseSensitiveCheckbox","entireWordCheckbox","findMsg","findResultsCount","findPreviousButton","findNextButton","passwordOverlay","overlayName","input","submitButton","cancelButton","documentProperties","closeButton","fields","fileName","fileSize","author","subject","keywords","creationDate","modificationDate","creator","producer","version","pageCount","pageSize","linearized","errorWrapper","errorMessage","errorMoreInfo","moreInfoButton","lessInfoButton","printContainer","openFileInputName","debuggerScriptPath","PDFViewerApplication","PDFViewerApplicationOptions","AppOptions","createEvent","initCustomEvent","source","parent","dispatchEvent","run","readyState","PDFPrintServiceFactory","DefaultExternalServices","_ui_utils","_app_options","_pdfjsLib","_pdf_cursor_tools","_pdf_rendering_queue","_pdf_sidebar","_overlay_manager","_password_prompt","_pdf_attachment_viewer","_pdf_document_properties","_pdf_find_bar","_pdf_find_controller","_pdf_history","_pdf_link_service","_pdf_outline_viewer","_pdf_presentation_mode","_pdf_sidebar_resizer","_pdf_thumbnail_viewer","_pdf_viewer","_secondary_toolbar","_toolbar","_view_history","WHEEL_ZOOM_DISABLED_TIMEOUT","ENABLE_PERMISSIONS_CLASS","ViewOnLoad","callbacks","options","shadow","validateFileURL","initialBookmark","location","_initializedCapability","createPromiseCapability","fellback","appConfig","pdfDocument","pdfLoadingTask","printService","pdfViewer","pdfThumbnailViewer","pdfRenderingQueue","pdfPresentationMode","pdfDocumentProperties","pdfLinkService","pdfHistory","pdfSidebar","pdfSidebarResizer","pdfOutlineViewer","pdfAttachmentViewer","pdfCursorTools","store","downloadManager","overlayManager","preferences","l10n","isInitialViewSet","downloadComplete","isViewerEmbedded","url","baseUrl","externalServices","_boundEvents","contentDispositionFilename","initialize","_initialize","_asyncToGenerator","_callee","_context","createPreferences","_readPreferences","_parseHashParameters","_initializeL10n","LinkTarget","NONE","TOP","_initializeViewerComponents","bindEvents","bindWindowEvents","documentElement","dispatch","_x","_readPreferences2","_callee2","prefs","_context2","getAll","t0","message","_parseHashParameters2","_callee3","hashParams","waitOn","enabled","_context3","parseQueryString","disableworker","loadFakeWorker","disablerange","disablestream","disableautofetch","disablefontface","disablehistory","webgl","verbosity","textlayer","TextLayerMode","DISABLE","classList","pdfbug","split","loadAndEnablePDFBug","locale","all","reason","_initializeL10n2","_callee4","dir","_context4","createL10n","getDirection","getElementsByTagName","_initializeViewerComponents2","_callee5","findController","viewer","_context5","EventBus","isInAutomation","OverlayManager","PDFRenderingQueue","onIdle","cleanup","PDFLinkService","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","createDownloadManager","disableCreateObjectURL","PDFFindController","linkService","PDFViewer","renderingQueue","renderer","enableWebGL","textLayerMode","imageResourcesPath","renderInteractiveForms","enablePrintAutoRotate","useOnlyCssZoom","maxCanvasPixels","setViewer","PDFThumbnailViewer","setThumbnailViewer","PDFHistory","setHistory","supportsIntegratedFind","PDFFindBar","PDFDocumentProperties","PDFCursorTools","cursorToolOnLoad","Toolbar","SecondaryToolbar","supportsFullscreen","PDFPresentationMode","contextMenuItems","passwordPrompt","PasswordPrompt","PDFOutlineViewer","PDFAttachmentViewer","PDFSidebar","elements","onToggled","forceRendering","PDFSidebarResizer","webViewerInitialized","initialized","settled","initializedPromise","promise","isInPresentationMode","newScale","currentScale","ceil","MAX_SCALE","currentScaleValue","MIN_SCALE","zoomReset","DEFAULT_SCALE_VALUE","pagesCount","page","currentPageNumber","printing","supportsPrinting","instance","support","doc","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","fullscreenEnabled","mozFullScreenEnabled","webkitFullscreenEnabled","msFullscreenEnabled","supportsDocumentFonts","loadingBar","ProgressBar","supportedMouseWheelZoomModifierKeys","initPassiveLoading","setTitleUsingUrl","getPDFFileNameFromURL","decodeURIComponent","getFilenameFromUrl","setTitle","close","_close","_callee6","_context6","destroy","setDocument","webViewerResetPermissions","PDFBug","open","_open","_callee7","file","workerParameters","parameters","apiParameters","_value","loadingTask","_context7","OptionKind","WORKER","GlobalWorkerOptions","originalUrl","API","setFileSize","getDocument","onPassword","updateCallback","externalLinkEnabled","setUpdateCallback","onProgress","loaded","total","progress","onUnsupportedFeature","fallback","load","InvalidPDFException","MissingPDFException","UnexpectedResponseException","msg","_x2","_x3","downloadByUrl","downloadUrl","onerror","blob","Blob","featureId","moreInfo","moreInfoText","build","stack","lineNumber","errorWrapperConfig","removeAttribute","textContent","onclick","scrollHeight","oncontextmenu","noContextMenuHandler","parts","level","percent","loadingParams","disableAutoFetch","disableAutoFetchLoadingBarTimeout","clearTimeout","getDownloadInfo","firstPagePromise","pageLayoutPromise","getPageLayout","pageModePromise","getPageMode","openActionPromise","getOpenAction","setPagesCount","onePageRendered","pagesPromise","storedPromise","ViewHistory","fingerprint","getMultiple","sidebarView","SidebarView","UNKNOWN","scrollMode","ScrollMode","spreadMode","SpreadMode","pdfPage","setWidth","animationStarted","_ref3","_callee8","_ref2","_ref4","stored","pageLayout","pageMode","openAction","viewOnLoad","_context8","_slicedToArray","_initializePdfHistory","initialDest","dest","apiPageModeToSidebarView","apiPageLayoutToSpreadMode","setInitialView","_initializePermissions","race","hasEqualPageSizes","_x4","update","_initializeAutoPrint","getOutline","outline","render","getAttachments","attachments","_initializePageLabels","_initializeMetadata","_initializeAutoPrint2","_callee9","_yield$Promise$all","_yield$Promise$all2","javaScript","triggerAutoPrint","js","_context9","getJavaScript","action","warn","UNSUPPORTED_FEATURES","AutoPrintRegExp","test","_x5","_x6","_initializeMetadata2","_callee10","_yield$pdfDocument$ge","metadata","pdfTitle","infoTitle","metadataTitle","versionId","generatorId","KNOWN_GENERATORS","formType","_context10","getMetadata","documentInfo","PDFFormatVersion","Producer","Creator","Title","IsAcroFormPresent","forms","IsXFAPresent","reportTelemetry","_x7","_initializePageLabels2","_callee11","labels","numLabels","_context11","getPageLabels","setPageLabels","setPageNumber","currentPageLabel","_x8","_ref5","_ref5$initialDest","resetHistory","updateUrl","initialRotation","JSON","stringify","explicitDest","_initializePermissions2","_callee12","permissions","_context12","getPermissions","PermissionFlag","COPY","_x9","storedHash","spread","_this7","_ref6","setRotation","isValidRotation","pagesRotation","isValidScrollMode","isValidSpreadMode","setHash","isThumbnailViewEnabled","isThumbnailViewVisible","renderHighestPriority","beforePrint","_this8","pageViewsReady","pagesOverview","getPagesOverview","createPrintService","notReadyMessage","printMessage","afterPrint","rotatePages","delta","newRotation","requestPresentationMode","request","_on","webViewerResize","webViewerHashchange","webViewerPageRendered","webViewerUpdateViewarea","webViewerPageChanging","webViewerScaleChanging","webViewerRotationChanging","webViewerSidebarViewChanged","webViewerPageMode","webViewerNamedAction","webViewerPresentationModeChanged","webViewerPresentationMode","webViewerPrint","webViewerDownload","webViewerFirstPage","webViewerLastPage","webViewerNextPage","webViewerPreviousPage","webViewerZoomIn","webViewerZoomOut","webViewerZoomReset","webViewerPageNumberChanged","webViewerScaleChanged","webViewerRotateCw","webViewerRotateCcw","webViewerSwitchScrollMode","webViewerScrollModeChanged","webViewerSwitchSpreadMode","webViewerSpreadModeChanged","webViewerDocumentProperties","webViewerFind","webViewerFindFromUrlHash","webViewerUpdateFindMatchesCount","webViewerUpdateFindControlState","webViewerFileInputChange","webViewerOpenFile","windowResize","windowHashChange","windowBeforePrint","windowAfterPrint","webViewerVisibilityChange","webViewerWheel","passive","webViewerClick","webViewerKeyDown","unbindEvents","_off","unbindWindowEvents","webViewerOpenFileViaURL","HOSTED_VIEWER_ORIGINS","_loadFakeWorker","_callee13","_context13","workerSrc","loadScript","PDFWorker","getWorkerSrc","enabledTabs","enable","init","OPS","queryString","search","params","fileInput","File","FileReader","FileList","evt","files","dataTransfer","dropEffect","remove","pageIndex","pageView","getPageView","updateLoadingIndicatorState","getThumbnail","setImage","Stats","stats","timestamp","getStats","_ref7","view","THUMBS","OUTLINE","ATTACHMENTS","switchView","select","toggle","_ref8","active","switchInProgress","PresentationModeState","NORMAL","CHANGING","FULLSCREEN","presentationModeState","setMultiple","href","getAnchorUrl","pdfOpenParams","loading","renderingState","RenderingStates","FINISHED","popStateInProgress","executeCommand","query","phraseSearch","caseSensitive","entireWord","highlightAll","findPrevious","_ref9","matchesCount","updateFindMatchesCount","updateResultsCount","_ref10","updateFindControlState","updateUIState","setPageScale","presetValue","pageLabel","scrollThumbnailIntoView","visibilityState","setZoomDisabledTimeout","viewerOrigin","URL","origin","_URL","protocol","loadingErrorMessage","lastIndexOf","xhr","XMLHttpRequest","onload","Uint8Array","response","responseType","send","fileReader","buffer","readAsArrayBuffer","createObjectURL","zoomDisabledTimeout","previousScale","normalizeWheelEventDelta","scaleCorrectionFactor","isOpen","containsElement","contains","handled","ensureViewerFocused","altKey","isViewerInPresentationMode","keyCode","findState","curElement","activeElement","curElementTagName","tagName","isContentEditable","turnPage","turnOnlyIfPageFit","isVerticalScrollbarEnabled","isHorizontalScrollbarEnabled","opened","switchTool","CursorTool","SELECT","HAND","ODD","EVEN","isInteger","isPortraitOrientation","clamp","defaultFilename","ii","isDataSchema","reFilename","splitURI","exec","suggestedFilename","param","backtrackBeforeAllVisibleElements","getVisibleElements","scrollEl","views","sortByVisibility","horizontal","visible","numViews","firstVisibleElementInd","binarySearchFirstItem","div","offsetLeft","clientLeft","clientTop","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","hiddenWidth","first","last","pc","roundToDivide","getPageSizeInches","_ref11","userUnit","rotate","_view","changeOrientation","approximateFraction","xinv","x_","q","getOutputScale","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","scaled","scrollIntoView","spot","skipOverflowHiddenElements","offsetParent","offsetY","offsetX","scrollWidth","getComputedStyle","dataset","_scaleY","_scaleX","watchScroll","viewAreaElement","debounceScroll","rAF","requestAnimationFrame","currentX","lastX","currentY","lastY","down","_eventHandler","deltaX","deltaMode","MOUSE_PIXELS_PER_LINE","waitOnEventOrTimeout","_ref12","_ref12$delay","delay","handler","eventHandler","timeout","WaitOnType","EVENT","timeoutHandler","TIMEOUT","moveToEndOfArray","arr","condition","moved","len","write","read","NullL10n","RendererType","VERTICAL_PADDING","SCROLLBAR_PADDING","MAX_AUTO_SCALE","UNKNOWN_SCALE","DEFAULT_SCALE","CSS_UNITS","CANVAS","SVG","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","formatL10nValue","getLanguage","_getLanguage","_callee14","_context14","_getDirection","_callee15","_context15","_callee16","_context16","_x10","_x11","_x12","_translate","_callee17","_context17","_x13","items","minIndex","maxIndex","currentIndex","elt","pageTop","_listeners","eventName","listener","external","eventListeners","externalListeners","_ref13","_ref14","units","_indeterminate","progressSize","_percent","scrollbarWidth","_updateBar","_viewer_compatibility","VIEWER","PREFERENCE","defaultOptions","kind","defaultUrl","defaultZoomValue","compatibility","viewerCompatibilityParams","disableHistory","disablePageLabels","enablePermissions","historyUpdateUrl","pdfBugEnabled","printResolution","sidebarViewOnLoad","scrollModeOnLoad","spreadModeOnLoad","cMapPacked","cMapUrl","disableFontFace","disableRange","disableStream","docBaseUrl","fontExtraProperties","isEvalSupported","maxImageSize","pdfBug","workerPort","disablePreferences","navigator","language","userOptions","userOption","defaultOption","valueType","compatibilityParams","userAgent","platform","maxTouchPoints","isAndroid","isIE","isIOS","isIOSChrome","freeze","pdfjsLib","_grab_to_pan","ZOOM","_ref15","_this9","_ref15$cursorToolOnLo","activeBeforePresentationMode","handTool","GrabToPan","_addEventListeners","tool","_this10","disableActiveTool","deactivate","activate","_dispatchEvent","_this11","previouslyActive","ownerDocument","ignoreTarget","onActiveChanged","_onmousedown","_onmousemove","_endPan","matchesSelector","CSS_CLASS_GRAB","node","originalTarget","scrollLeftStart","scrollTopStart","clientXStart","clientYStart","focusedElement","blur","isNotIEorIsIE10plus","buttons","isChrome15OrOpera15plus","isSafari6plus","which","isLeftMouseReleased","xDiff","yDiff","behavior","prefix","documentMode","chrome","webstore","app","vendor","INITIAL","RUNNING","PAUSED","highestPriorityPage","idleTimeout","renderingId","currentlyVisiblePages","scrolledDown","visibleViews","numVisible","isViewFinished","nextPageIndex","previousPageIndex","_this12","resume","finally","LAYERS","_ref16","_ref16$l10n","_ref16$disableNotific","disableNotification","_disableNotification","_hideUINotification","disabled","_switchView","forceOpen","isViewChanged","shouldForceRendering","_updateThumbnailViewer","_forceRendering","visibleView","_this13","_this14","removeNotification","_this15","outlineCount","_showUINotification","attachmentsCount","hasChildNodes","_overlays","_active","_keyDownBound","_keyDown","_register","_callee18","callerCloseMethod","canForceClose","_args18","_context18","_x14","_x15","_unregister","_callee19","_context19","_x16","_open2","_callee20","_context20","_closeThroughCaller","_x17","_close2","_callee21","_context21","_x18","_this16","verify","register","_this17","PasswordResponses","INCORRECT_PASSWORD","_this18","password","_ref17","_appendAttachment","keepRenderedCapability","_renderedCapability","content","blobUrl","_this19","viewerUrl","revokeObjectURL","downloadData","_this20","_ref18","_ref18$keepRenderedCa","names","localeCompare","item","removeNullCharacters","_bindPdfLink","_bindLink","_ref19","_this21","NON_METRIC_LOCALES","US_PAGE_NAMES","8.5x11","8.5x14","METRIC_PAGE_NAMES","297x420","210x297","getPageName","isPortrait","pageNames","_ref20","_this22","_reset","_currentPageNumber","_pagesRotation","_isNonMetricLocale","_this23","freezeFieldData","_dataAvailableCapability","fieldData","_updateUI","_ref21","_parseFileSize","maybeFileSize","_parseDate","CreationDate","ModDate","getPage","_parsePageSize","_parseLinearization","IsLinearized","_ref22","_ref23","modDate","isLinearized","Author","Subject","Keywords","_ref24","assign","_parseFileSize2","_callee22","kb","_args22","_context22","size_kb","toPrecision","toLocaleString","size_b","size_mb","_parsePageSize2","_callee23","pageSizeInches","sizeInches","sizeMillimeters","pageName","rawName","exactMillimeters","intMillimeters","_this24","_context23","_ref25","_ref26","_ref26$","unit","orientation","_x19","_x20","_parseDate2","_callee24","inputDate","dateObject","_context24","PDFDateString","toDateObject","date","toLocaleDateString","time","toLocaleTimeString","_x21","_this25","_adjustWidth","findPrev","_this26","notFound","status","FindState","FOUND","PENDING","NOT_FOUND","_this27","_ref27","_ref27$current","_ref27$total","matchesCountMsg","limit","firstElementChild","_pdf_find_utils","CHARACTERS_TO_NORMALIZE","‘","’","‚","‛","“","”","„","‟","¼","½","¾","normalizationRegex","normalize","RegExp","ch","_ref28","_linkService","_eventBus","_onFindBarClose","_pdfDocument","_firstPageCapability","_this28","_state","_shouldDirtyMatch","_dirtyMatch","_updateUIState","_extractText","findbarClosed","_highlightMatches","pendingTimeout","_findTimeout","_nextMatch","_updateAllPages","_ref29","_ref29$element","_ref29$pageIndex","_ref29$matchIndex","matchIndex","_scrollMatches","_selected","matchIdx","pageIdx","_pageMatches","_pageMatchesLength","_offset","wrapped","_extractTextPromises","_pageContents","_matchesCountTotal","_pagesToSearch","_pendingFindMatches","_resumePageIdx","isPageVisible","matchesWithLength","matches","matchesLength","isSubTerm","currentElem","nextElem","match","skipped","prevElem","matchLength","startIdx","charCodeAt","getCharacterType","endIdx","pageContent","queryLen","_isEntireWord","queryArray","subquery","subqueryLen","_prepareMatches","_query","_this$_state","_calculatePhraseMatch","_calculateWordMatch","_updatePage","_nextPageMatch","pageMatchesCount","_updateUIResultsCount","_this29","extractTextCapability","getTextContent","normalizeWhitespace","textItems","strBuf","jj","_this30","currentPageIndex","_calculateMatch","numPageMatches","_updateMatch","_advanceOffsetPage","numMatches","_matchesReady","previousPage","_this31","_this$_selected","_requestMatchesCount","_rawQuery","_normalizedQuery","charCode","isAlphabeticalScript","isAscii","isAsciiSpace","CharacterType","SPACE","isAsciiAlpha","isAsciiDigit","ALPHA_LETTER","PUNCT","isThai","THAI_LETTER","isHan","HAN_LETTER","isKatakana","KATAKANA_LETTER","isHiragana","HIRAGANA_LETTER","isHalfwidthKatakana","HALFWIDTH_KATAKANA_LETTER","isDestHashesEqual","isDestArraysEqual","getCurrentHash","_ref30","_this32","_initialized","_fingerprint","_isViewerInPresentationMode","_isPagesLoaded","onPagesLoaded","_ref31","_ref31$resetHistory","_ref31$updateUrl","reInitialized","_updateUrl","_bindEvents","history","_popStateInProgress","_blockHashChange","_currentHash","_numPositionUpdates","_uid","_maxUid","_destination","_position","_isValidState","_this$_parseCurrentHa","_parseCurrentHash","_pushOrReplaceState","destination","_updateInternalState","uid","_initialRotation","_initialBookmark","_pageHide","_unbindEvents","_updateViewareaTimeout","_ref32","_this33","_ref32$namedDest","namedDest","isArray","forceReplace","_tryPushCurrentPosition","back","forward","newUrl","shouldReplace","newState","replaceState","pushState","temporary","checkReload","_performance$getEntri","performance","getEntriesByType","perfEntry","removeTemporary","checkNameddest","unescape","nameddest","_ref33","_this34","_ref34","_this35","newHash","hashChanged","navigateTo","_this$_parseCurrentHa2","updateViewarea","_updateViewarea","popState","_popState","pageHide","destHash","pushHash","firstDest","secondDest","isEntryEqual","second","SimpleLinkService","_ref36","_ref36$externalLinkTa","_ref36$externalLinkRe","_ref36$externalLinkEn","_ref36$ignoreDestinat","_ignoreDestinationZoom","_pagesRefCache","_this36","getDestination","destArray","goToDestination","_ref37","destRef","_cachedPageNumber","getPageIndex","cachePageRef","pushCurrentPosition","scrollPageIntoView","escape","anchor","phrase","zoomArgs","zoomArg","zoomArgNumber","allowNegativeOffset","pagemode","parse","destLength","num","gen","allowNull","isValidExplicitDestination","pageNum","pageRef","refStr","_ref38","toggleOutlineTree","lastToggleIsShow","_ref39","newWindow","addLinkAttributes","BLANK","rel","getDestinationHash","_ref40","bold","italic","fontStyle","_ref41","_this37","toggler","shouldShowAll","_toggleOutlineItem","insertBefore","firstChild","root","querySelectorAll","_ref42","fragment","createDocumentFragment","queue","hasAnyNesting","levelData","shift","_setStyles","_addToggleButton","itemsDiv","SWIPE_ANGLE_THRESHOLD","_ref43","_this38","_ref43$contextMenuIte","contextMenuOpen","mouseScrollTimeStamp","mouseScrollDelta","touchSwipeState","_addFullscreenChangeListeners","_setSwitchInProgress","_notifyStateChange","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","currentTime","getTime","storedTime","_resetMouseScrollState","totalDelta","_goToPreviousPage","_goToNextPage","_this39","_removeFullscreenChangeListeners","_this40","_resetSwitchInProgress","_addWindowListeners","_showControls","removeAllRanges","_this41","_removeWindowListeners","_hideControls","_this42","controlsTimeout","touches","pageX","startY","pageY","endY","absAngle","showControlsBind","mouseDownBind","_mouseDown","mouseWheelBind","_mouseWheel","resetMouseScrollStateBind","contextMenuBind","_contextMenu","touchSwipeBind","_touchSwipe","isFullscreen","_enter","_exit","fullscreenChangeBind","_fullscreenChange","fullscreenElement","mozFullScreen","webkitIsFullScreen","msFullscreenElement","SIDEBAR_WIDTH_VAR","SIDEBAR_MIN_WIDTH","_this43","isRTL","sidebarOpen","_width","_outerContainerWidth","CSS","supports","newWidth","outerContainerWidth","setProperty","_updateWidth","mouseMove","mouseUp","_this44","_mouseMove","_mouseUp","updated","_pdf_thumbnail_view","_ref44","_ref44$l10n","_scrollUpdated","_resetView","_thumbnails","visibleThumbs","_getVisibleThumbs","numVisibleThumbs","shouldScroll","PDFThumbnailView","_pageLabels","_pagesRequests","WeakMap","_this45","_cancelRendering","firstPdfPage","viewport","getViewport","thumbnail","defaultViewport","disableCanvasToImageConversion","firstThumbnailView","setPdfPage","cancelRendering","setPageLabel","thumbView","_this46","delete","_this47","getHighestPriority","_ensurePdfPageLoaded","renderView","THUMBNAIL_CANVAS_BORDER_WIDTH","THUMBNAIL_WIDTH","TempImageFactory","tempCanvasCache","getCanvas","tempCanvas","mozOpaque","destroyCanvas","_ref45","_ref45$disableCanvasT","_ref45$l10n","pdfPageRotate","renderTask","pageWidth","pageHeight","pageRatio","canvasWidth","canvasHeight","_thumbPageTitle","ring","borderAdjustment","totalRotation","childNodes","cancel","noCtxScale","outputScale","_this48","_thumbPageCanvas","toDataURL","_this49","renderCapability","finishRenderTask","RenderingCancelledException","_convertCanvasToImage","renderContext","canvasContext","_getPageDrawContext","onContinue","cont","isHighestPriority","reducedWidth","reducedHeight","reducedImage","reducedImageCtx","_this50","_base_viewer","_base_viewer$BaseView","_ref46","pageDiv","_ref46$pageSpot","pageSpot","_ref46$pageNumber","_this$container","_isScrollModeHorizontal","_get2","_getCurrentVisiblePage","visiblePages","currentId","stillFullyVisible","_setCurrentPageNumber","BaseViewer","_annotation_layer_builder","_pdf_page_view","_text_layer_builder","PDFPageViewBuffer","newSize","pagesToKeep","pageIdsToKeep","iMax","_this51","_name","removePageBorders","defaultRenderingQueue","_scrollUpdate","_onBeforeDraw","_onAfterDraw","_pages","resetCurrentPageView","_resetCurrentPageView","_getVisiblePages","_onePageRenderedCapability","_this52","_pagesCapability","_buffer","cssTransform","textLayerFactory","PDFPageView","_viewerElement","annotationLayerFactory","firstPageView","_spreadMode","_updateSpreadMode","_onePageRenderedOrForceFetch","getPagesLeft","_pageNum","_currentScale","_currentScaleValue","_location","_scrollMode","_updateScrollMode","_ref47","_ref47$pageSpot","noScroll","preset","oldScale","isSameScale","isChangingPresentationMode","_setScaleUpdatePages","currentPage","noPadding","hPadding","vPadding","_ref48","pageWidthScale","pageHeightScale","horizontalScale","_setScale","_scrollIntoView","_ref49","_ref49$destArray","_ref49$allowNegativeO","_ref49$ignoreDestinat","widthScale","heightScale","boundingRect","convertToViewportPoint","firstPage","normalizedScaleValue","currentPageView","getPagePoint","intLeft","intTop","numVisiblePages","newCacheSize","_updateHelper","_updateLocation","_this53","_this54","scrollAhead","textLayerDiv","enhanceTextSelection","TextLayerBuilder","AnnotationLayerBuilder","isFirstPagePortrait","pages","parity","cloneNode","DefaultAnnotationLayerFactory","_ref50","_ref50$imageResources","_ref50$renderInteract","_ref50$l10n","_cancelled","_this55","intent","getAnnotations","annotations","dontFlip","AnnotationLayer","MAX_CANVAS_PIXELS","hasRestrictedScaling","paintTask","paintedViewportMap","annotationLayer","textLayer","zoomLayer","removeFromDOM","zoomLayerCanvas","keepZoomLayer","keepAnnotations","currentZoomLayerNode","currentAnnotationNode","_resetZoomLayer","svg","loadingIconDiv","isScalingRestricted","hasAttribute","redrawAnnotations","relativeRotation","absRotation","scaleX","scaleY","textLayerViewport","textRelativeRotation","textAbsRotation","transX","transY","transformOrigin","convertToPdfPoint","_this56","canvasWrapper","createTextLayerBuilder","renderContinueCallback","finishPaintTask","_ref51","_callee25","_context25","_x22","paintOnSvg","paintOnCanvas","onRenderContinue","resultPromise","readableStream","streamTextContent","setTextContentStream","createAnnotationLayerBuilder","isCanvasHidden","showCanvas","actualSizeViewport","pixelsInViewport","sfx","sfy","hookedCanvasFactory","canvasFactory","_pageIndex","pageShapeCommands","getCommands","onPageReloaded","wrapper","_this57","cancelled","ensureNotCancelled","getOperatorList","opList","SVGGraphics","commonObjs","objs","getSVG","DefaultTextLayerFactory","_ref52","_ref52$findController","_ref52$enhanceTextSel","textContentItemsStr","textContentStream","renderingDone","textDivs","textLayerRenderTask","_onUpdateTextLayerMatches","_bindMouse","endOfContent","numTextDivs","_this58","textLayerFrag","renderTextLayer","_finishRendering","_updateMatches","iIndex","end","mm","begin","divIdx","isSelectedPage","selected","selectedMatchIdx","prevEnd","infinity","i0","i1","isSelected","highlightSuffix","scrollMatchIntoView","appendTextToDiv","beginText","n0","n1","fromOffset","toOffset","createTextNode","span","clearedUntilDivIdx","highlightMatches","pageMatches","pageMatchesLength","_convertMatches","_renderMatches","_this59","expandDivsTimer","expandTextDivs","adjustTop","getPropertyValue","divBounds","_pdf_single_page_viewer","_this60","eventDetails","lastPage","pageRotateCw","pageRotateCcw","containerHeight","previousContainerHeight","_bindClickListeners","_bindCursorToolsListener","_bindScrollModeListener","_bindSpreadModeListener","_setMaxHeight","PDFSinglePageViewer","_this61","_step5","_iterator5","_loop3","_ref53","details","_ref54","_this62","scrollModeChanged","_ref55","isScrollModeHorizontal","_this63","spreadModeChanged","_ref56","_base_viewer$BaseView2","_this64","_ensurePageViewVisible","_previousPageNumber","_shadowViewer","_updateScrollDown","previousPageView","viewerNodes","_ref57","_this65","_ref57$pageSpot","_ref57$pageNumber","_wasLocalized","_bindListeners","hasPageLabels","pageScaleValue","pageScale","_step6","_this66","_this$items","_iterator6","_loop4","_ref58","_adjustScaleWidth","resetNumPages","customScale","_step7","predefinedValueFound","_iterator7","option","_adjustScaleWidth2","_callee26","predefinedValuesPromise","_getComputedStyle","fontFamily","_iterator8","_step8","predefinedValue","_ctx$measureText","_context26","t1","SCALE_SELECT_WIDTH","DEFAULT_VIEW_HISTORY_CACHE_SIZE","_this67","cacheSize","_initializedPromise","_readFromStorage","databaseStr","database","_writeToStorage2","_callee27","_context27","localStorage","setItem","_readFromStorage2","_callee28","_context28","getItem","_set","_callee29","_context29","_writeToStorage","_x23","_x24","_setMultiple","_callee30","properties","_context30","_x25","_get3","_callee31","defaultValue","_context31","_x26","_x27","_getMultiple","_callee32","_context32","_x28","GenericCom","_app","_preferences","_download_manager","_genericl10n","GenericPreferences","_preferences$BasePref","_writeToStorage3","_callee33","prefObj","_context33","_x29","_readFromStorage3","_callee34","_context34","_x30","BasePreferences","GenericExternalServices","_app$DefaultExternalS","DownloadManager","_ref59","_ref59$locale","GenericL10n","defaultPreferences","_this68","defaults","prefValue","_writeToStorage4","_callee35","_context35","_x31","_readFromStorage4","_callee36","_context36","_x32","_reset2","_callee37","_context37","_set2","_callee38","defaultType","_context38","_x33","_x34","_get4","_callee39","_context39","_x35","_getAll","_callee40","_context40","DISABLE_CREATE_OBJECT_URL","_ref60","_ref60$disableCreateO","createValidAbsoluteUrl","contentType","msSaveBlob","webL10n","lang","_lang","_ready","setLanguage","_getLanguage2","_callee41","_context41","_getDirection2","_callee42","_context42","_get5","_callee43","_context43","_x36","_x37","_x38","_translate2","_callee44","_context44","_x39","gL10nData","gTextData","gTextProp","gLanguage","gMacros","gReadyState","gAsyncResourceLoading","xhrLoadText","onSuccess","onFailure","overrideMimeType","onreadystatechange","responseText","ontimeout","parseResource","successCallback","failureCallback","baseURL","parsedPropertiesCallback","dictionary","reBlank","reComment","reSection","reImport","reSplit","parseRawLines","rawText","extendedSyntax","parsedRawLinesCallback","entries","currentLang","genericLang","skipLang","nextEntry","loadImport","tmp","parseProperties","prop","loadLocale","langLinks","langCount","onResourceLoaded","gResourceCount","L10nResourceLink","dict","script","getL10nDictionary","locales","default_locale","defaultLocale","anyCaseLang","link","getL10nData","rv","substArguments","substIndexes","reMatch","macroName","paramName","macro","matched_text","translateElement","l10nId","getAttribute","l10nArgs","getL10nAttributes","childElementCount","nodeType","getChildElementCount","nodeValue","textNode","k","plural","_pluralRules","isIn","list","isBetween","start","pluralRules","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","af","ak","am","ar","asa","az","be","bem","bez","bg","bh","bm","bn","bo","br","brx","bs","ca","cgg","chr","cs","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hr","hu","ig","it","iu","ja","jmc","jv","ka","kab","kaj","kcg","kde","kea","kk","kl","km","kn","ko","ksb","ksh","ku","kw","lag","lb","lg","ln","lo","lt","lv","mas","mg","mk","ml","mn","mo","mr","ms","mt","nah","naq","nd","ne","nl","nn","no","nr","nso","ny","nyn","om","or","pa","pap","pl","ps","rm","ro","rof","ru","rwk","sah","saq","se","seh","ses","sg","sh","shi","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","to","tr","ts","tzm","uk","ur","ve","vi","vun","wa","wae","wo","xh","xog","yo","zh","zu","getPluralRules","fallbackString","getText","shortCode","getTranslatableChildren","elementCount","getReadyState","ready","once","PDFPrintService","activeService","scratchCanvas","throwIfInactive","pageStyleSheet","ensureOverlay","renderPages","_this69","renderNextPage","renderProgress","activeServiceOnEntry","PRINT_UNITS","renderPage","useRenderedPage","printItem","toBlob","performPrint","_this70","overlayPromise","eventType","abort","progressContainer","progressBar","progressPerc","opera","stopImmediatePropagation","stopPropagationIfNeeded","detail","PosUtils","_PosUtils","pageRect","_pageRect","getPageViewerRect","getDPI","PDFSelection","_useState","useState","_useState2","isSelecting","setIsSelecting","_useState3","onText","_useState4","startPos","setStartPos","_useState5","_useState6","endPos","setEndPos","getPageFromMouseEvent","mouseEvent","viewerToShapeCoord","background","zIndex","PDFJSViewer","showLoadingPopup","endsWith","svgContainer","svgElement","baseVal","pdf","jsPDF","svg2pdf","output","readAsText","tabIndex","data-l10n-id","placeholder","htmlFor","autoComplete","hidden","data-l10n-args","aria-label","opacity","accept","onFileLoaded","paddingRight","readOnly","App","chartSelection","setSelectedChart","getChart","StrictMode","webpackEmptyContext","req","code"],"mappings":"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","file":"static/js/main.66a2bfe2.chunk.js","sourcesContent":["import AxisCoordinate2D from \"./AxisCoordinate2D\";\n\nexport enum OverlayType {\n    MARKS,\n    CONNECTED,\n    HORIZONTAL_GRIDLINE,\n    VERTICAL_GRIDLINE\n}\n\nexport default class Overlay {\n    points : AxisCoordinate2D[];\n    type : OverlayType;\n\n    constructor() {\n        this.points = []\n        this.type = OverlayType.MARKS;\n    }\n\n    clone() : Overlay {\n        var copy = new Overlay();\n        copy.type = this.type;\n        copy.points = [].concat(this.points);\n\n        return copy;\n    }\n\n    clear() : void {\n        this.type = OverlayType.MARKS;\n        this.points = [];\n    }\n}","interface Rectangle {\n    x : number;\n    y : number;\n    width : number;\n    height : number;\n}\n\ninterface Point {\n    x : number;\n    y : number;\n}\n\nexport default class ShapeCommand {\n    path : any[];\n    isFilled : boolean;\n    lineWidth : number;\n    lineCap : string;\n    lineJoin : string;\n    miterLimit : number;\n    lineDash : number[];\n    font : string;\n    textAlign : string;\n    textBaseline : string;\n    direction : string;\n    fillStyle : string;\n    strokeStyle : string;\n    transform : any;\n    globalAlpha : number;\n    globalCompositeOperation : string;\n    bbox : any;\n    clipPaths : any[][];\n\n    text : string;\n    textX : number;\n    textY : number;\n\n    unicode : any;\n\n    constructor() {\n        this.path = [];\n        this.isFilled = false;\n        this.lineWidth = 1.0;\n        this.lineCap = \"butt\";\n        this.lineJoin = \"miter\";\n        this.miterLimit = 10;\n        this.lineDash = [];\n        \n        this.font = '10px sans-serif';\n        this.textAlign = 'start';\n        this.textBaseline = 'alphabetic';\n        this.direction = 'inherit';\n\n        this.fillStyle = \"#000\";\n        this.strokeStyle = \"#000\";\n        this.transform = null;\n\n        this.globalAlpha = 1.0;\n        this.globalCompositeOperation = 'source-over';\n\n        this.bbox = {x:0, y:0, width:0, height:0};\n        this.clipPaths = null;\n    }\n\n    static types = {\n        BEGIN: 0,\n        CLOSE: 1,\n        MOVETO: 2,\n        LINETO: 3,\n        CURVETO: 4\n    };\n    \n    /**\n     * Apply the current transform used by this shape to a coordinate\n     * @param {Number} x \n     * @param {Number} y \n     */\n    transformPos(x : number, y : number, transform = this.transform) : any {\n        var point = new DOMPoint(x, y);\n        var transformedPt = point.matrixTransform(transform);\n\n        return {x: transformedPt.x, y: transformedPt.y};\n    }\n\n    get rect() : any {\n        return this.bbox;\n    }\n\n    /**\n     * Test if the ShapeCommand is fully contained within a specified rectangle\n     * @param {Rectangle} rect\n     */\n    isContained(rect : Rectangle) : boolean {\n        return rect.x < this.rect.x && rect.y < this.rect.y &&\n        rect.x + rect.width > this.rect.x + this.rect.width &&\n        rect.y + rect.height > this.rect.y + this.rect.height;\n    }\n\n    pointsToRect(topLeft : Point, botRight : Point) : any {\n        return {\n            x: Math.min(topLeft.x, botRight.x), \n            y: Math.min(topLeft.y, botRight.y), \n            width: Math.abs(botRight.x-topLeft.x), \n            height: Math.abs(botRight.y-topLeft.y)\n        };\n    }\n\n    computeBBox(ctx : CanvasRenderingContext2D) : void {\n        if (this.text !== undefined) {\n            // We make sure the ctx has the right style to properly measure the text width\n            var prevFont = ctx.font;\n            ctx.font = this.font;\n            \n            var metrics = ctx.measureText(this.text);\n            var pos = this.transformPos(this.textX-metrics.actualBoundingBoxLeft,\n                this.textY-metrics.actualBoundingBoxAscent);\n\n            var posEnd = this.transformPos(this.textX+metrics.actualBoundingBoxRight,\n                this.textY+metrics.actualBoundingBoxDescent);\n\n            this.bbox = this.pointsToRect(pos, posEnd);\n\n            // Restore style\n            ctx.font = prevFont;\n        } else {\n            var pathRect = this.pathToRect(this.path);\n            var thickness = 0;//this.isFilled? 0 : this.lineWidth/2;\n            var topLeft = this.transformPos(pathRect.left-thickness, pathRect.top-thickness);\n            var botRight = this.transformPos(pathRect.right+thickness, pathRect.bottom+thickness);\n    \n            this.bbox = this.pointsToRect(topLeft, botRight);\n        }\n\n        // Take into account clipping path\n        if (this.clipPaths) {\n            for (const clipPath of this.clipPaths) {\n                if (clipPath) {\n                    const rect = this.pathToRect((clipPath as any).path);\n                    const transform = (clipPath as any).transform;\n\n                    var topLeft = this.transformPos(rect.left, rect.top, transform);\n                    var botRight = this.transformPos(rect.right, rect.bottom, transform);\n                    var transformedRect = this.pointsToRect(topLeft, botRight);\n\n                    // Intersect with previous clipping rect if there is one\n                    var leftX   = Math.max( transformedRect.x, this.bbox.x );\n                    var rightX  = Math.min( transformedRect.x+transformedRect.width, this.bbox.x+this.bbox.width );\n                    var topY    = Math.max( transformedRect.y, this.bbox.y );\n                    var bottomY = Math.min( transformedRect.y+transformedRect.height, this.bbox.y+this.bbox.height);\n                    this.bbox = {x: leftX, y: topY, width: rightX-leftX, height: bottomY-topY };\n                }\n            }\n        }\n    }\n\n    pathToRect(path) {\n        var lastPt = {x: 0, y: 0};\n        var minX = Number.MAX_SAFE_INTEGER\n        var minY = Number.MAX_SAFE_INTEGER;\n        var maxX = Number.MIN_SAFE_INTEGER;\n        var maxY = Number.MIN_SAFE_INTEGER;\n\n        for (var i = 0; i < path.length; ++i) {\n            var type = path[i][0];\n            var args = path[i][1];\n            if (type === ShapeCommand.types.MOVETO) {\n                lastPt = {x: args[0], y: args[1]};\n            } else if (type === ShapeCommand.types.LINETO) {\n                minX = Math.min(lastPt.x, args[0], minX);\n                minY = Math.min(lastPt.y, args[1], minY);\n                maxX = Math.max(lastPt.x, args[0], maxX);\n                maxY = Math.max(lastPt.y, args[1], maxY);\n                lastPt = {x: args[0], y: args[1]};\n            } else if (type === ShapeCommand.types.CURVETO) {\n                //TODO: Better approximation\n                // The bbox could be much larger depending on the curve\n                // Needs more computations to estimate it properly\n                minX = Math.min(lastPt.x, args[4], minX);\n                minY = Math.min(lastPt.y, args[5], minY);\n                maxX = Math.max(lastPt.x, args[4], maxX);\n                maxY = Math.max(lastPt.y, args[5], maxY);\n                lastPt = {x: args[4], y: args[5]};\n            }\n        }\n\n        return {left: minX, x: minX, top: minY, y: minY, width: maxX-minX, height: maxY-minY, right: maxX, bottom: maxY};\n    }\n\n    addCmd(type : number, args=[]) : void {\n        this.path.push([type, args]);\n    }\n\n    /**\n     * Copy all style related variables of b and apply them on a\n     * @param {Object} a Receiver: Object that receive the style of b\n     * @param {Object} b Giver: Object that gets its style copied\n     */\n    static copyStyle(a : any, b : any) : void {\n        a.lineWidth = b.lineWidth;\n        a.lineCap = b.lineCap;\n        a.lineJoin = b.lineJoin;\n        a.miterLimit = b.miterLimit;\n        // setLineDash is kind of an outlier in the canvas API in that it uses functions\n        // Because we want to stay compatible with Contexts, we need to use the function if it exists\n        var lineDash = b.getLineDash !== undefined ? b.getLineDash() : b.lineDash;\n        if (a.setLineDash !== undefined) {\n            a.setLineDash(lineDash);\n        } else {\n            a.lineDash = lineDash;\n        }\n        \n        a.font = b.font;\n        a.textAlign = b.textAlign;\n        a.textBaseline = b.textBaseline;\n        a.direction = b.direction;\n\n        a.fillStyle = b.fillStyle;\n        a.strokeStyle = b.strokeStyle;\n        \n        a.globalAlpha = b.globalAlpha;\n        a.globalCompositeOperation = b.globalCompositeOperation;\n\n        a.clipPaths = b.clipPaths;\n    }\n\n\n    saveStyle(ctx : any) : void {\n        ShapeCommand.copyStyle(this, ctx);\n\n        this.transform = DOMMatrix.fromMatrix(ctx.getTransform());\n    }\n\n    applyStyle(ctx : any) : void {\n        ShapeCommand.copyStyle(ctx, this);\n\n        const currentTransform = DOMMatrix.fromMatrix(ctx.getTransform());\n\n        if (this.clipPaths) {\n            for (const clipPath of this.clipPaths) {\n                if (clipPath) {\n                    const path = (clipPath as any).path;\n                    const transform = (clipPath as any).transform;\n\n                    ctx.setTransform(currentTransform.a, currentTransform.b,\n                        currentTransform.c, currentTransform.d, \n                        currentTransform.e, currentTransform.f);\n\n                    ctx.transform(transform.a, transform.b,\n                        transform.c, transform.d, \n                        transform.e, transform.f);\n\n                    this.applyPath(path, ctx);\n                    ctx.clip();\n                }\n            }\n        }\n\n        ctx.setTransform(currentTransform.a, currentTransform.b,\n            currentTransform.c, currentTransform.d, \n            currentTransform.e, currentTransform.f);\n\n        ctx.transform(this.transform.a, this.transform.b,\n            this.transform.c, this.transform.d, \n            this.transform.e, this.transform.f);\n    }\n\n    getTransform() : DOMMatrix {\n        return this.transform;\n    }\n\n    clone() : ShapeCommand {\n        var clone = new ShapeCommand();\n        clone.saveStyle(this);\n        clone.path = clone.path.concat(this.path);\n        if (this.clipPaths) {\n            clone.clipPaths = clone.clipPaths.concat(this.clipPaths);\n        }\n        clone.isFilled = this.isFilled;\n\n        clone.text = this.text;\n        clone.textX = this.textX;\n        clone.textY = this.textY;\n        clone.unicode = this.unicode;\n\n        clone.bbox = {x: this.bbox.x, y: this.bbox.y, width: this.bbox.width, height: this.bbox.height};\n\n        return clone;\n    }\n\n    applyPath(path, ctx) {\n        for (var i = 0; i < path.length; ++i) {\n            var type = path[i][0];\n            var args = path[i][1];\n\n            if (type === ShapeCommand.types.BEGIN) {\n                ctx.beginPath();\n            } else if (type === ShapeCommand.types.CLOSE) {\n                ctx.closePath();\n            } else if (type === ShapeCommand.types.MOVETO) {\n                ctx.moveTo(args[0], args[1]);\n            } else if (type === ShapeCommand.types.LINETO) {\n                ctx.lineTo(args[0], args[1]);\n            } else if (type === ShapeCommand.types.CURVETO) {\n                ctx.bezierCurveTo(args[0], args[1], args[2], args[3], args[4], args[5]);\n            }\n        }\n    }\n\n    draw(ctx : CanvasRenderingContext2D) : void {\n        ctx.save();\n        this.applyStyle(ctx);\n\n        if (this.text !== undefined) {\n            if (this.isFilled) {\n                ctx.fillText(this.text, this.textX, this.textY);\n            } else {\n                ctx.strokeText(this.text, this.textX, this.textY);\n            }\n            \n        } else {\n            this.applyPath(this.path, ctx);\n\n            if (this.isFilled) {\n                ctx.fill();\n            } else {\n                ctx.stroke();\n            }\n        }\n        ctx.restore();\n    }\n}","import React, { Fragment } from 'react';\nimport AxisCoordinate2D from '../datastructure/AxisCoordinate2D';\nimport { OverlayType } from '../datastructure/Overlay';\nimport ShapeCommand from '../datastructure/ShapeCommand';\n\ninterface Point {\n    x: number;\n    y: number;\n}\n\ninterface CommandWithIdx {\n    cmd : ShapeCommand;\n    idx : number;\n}\n\ninterface ChartViewProps {\n    chart : any;\n    getDraggableSelection : any;\n    onMouseMoved : any;\n    state : any;\n    ghostShapes : any;\n    setState : any;\n}\n\ninterface ChartViewState {\n    isPanning : boolean,\n    isCentered : boolean\n}\n\nexport default class ChartView extends React.Component<ChartViewProps, ChartViewState> {\n    hoveredCmdsIdx : number[];\n    startPt : Point;\n    endPt : Point;\n    isMouseDown : boolean;\n    selectionColor : string;\n    selectionRectOutlineColor : string;\n    selectionRectColor : string;\n    overlayColor : string;\n    chartBuffer : HTMLCanvasElement;\n    zbuffer : HTMLCanvasElement;\n    zIncrement : number;\n    offset : number;\n    intervalId : number;\n    globalMouseUpListener : any;\n\n    previousWidth : number;\n    previousHeight : number;\n    previousShapeCount : number;\n    previousGhostCount : number;\n\n    // Transformations related\n    bufferTransform : DOMMatrix; // Transformation applied to the buffer (high res), should be limited to scale. Needs call to #refreshBuffers\n    viewTransform : DOMMatrix; // Transformation applied to the view, used for translation and \"temporary\" re-scaling (low res). Needs call to #redraw\n    viewTransformedTime : number; // Timestamp of the last time the view was transformed (used to decide when to move a view transform to a buffer transform for higher res)\n    viewTransformed : boolean; // True when the view was transformed (but the buffer was not)\n    tmpPoint : DOMPoint; // A point stored to avoid re-allocating\n\n    constructor(props : ChartViewProps) {\n        super(props);\n        this.state = {isPanning: false, isCentered: true};\n        // Selection\n        this.hoveredCmdsIdx = [];\n        this.startPt = {x: 0, y:0};\n        this.endPt = {x: 0, y: 0};\n        this.isMouseDown = false;\n\n        // Style \n        this.selectionColor = 'rgba(55, 133, 246, 255)';\n        this.selectionRectOutlineColor = 'rgba(127, 127, 127)';\n        this.selectionRectColor = 'rgba(81, 131, 251, 0)';\n        this.overlayColor = 'rgba(55, 133, 246, 255)';\n\n        // Double-buffering to avoid redrawing the chart\n        this.chartBuffer = document.createElement('canvas');\n\n        // Variables related to the Z-Buffer\n        this.zbuffer = document.createElement('canvas');\n        this.zIncrement = 0;\n\n        // Offset to animate dashed lines\n        this.offset = 0;\n\n        // Used to avoid useless refreshes\n        this.previousWidth = 0;\n        this.previousHeight = 0;\n        this.previousShapeCount = 0;\n        this.previousGhostCount = 0;\n\n        // Transformations applied to the chart (used for panning and zooming)\n        this.viewTransform = new DOMMatrix();\n        this.bufferTransform = new DOMMatrix();\n        this.tmpPoint = new DOMPoint();\n        this.viewTransformedTime = 0;\n        this.viewTransformed = false;\n    }\n\n    transformPos(x : number, y : number, transformed = false, tmpTranformed = false) : Point {\n        this.tmpPoint.x = x;\n        this.tmpPoint.y = y;\n        this.tmpPoint.w = 1;\n        this.tmpPoint.z = 0;\n\n        var transformedPt = this.tmpPoint;\n\n        if (transformed && tmpTranformed) {\n            transformedPt = this.viewTransform.multiply(this.bufferTransform).inverse().transformPoint(this.tmpPoint);\n        } else {\n            if (tmpTranformed) {\n                transformedPt = this.viewTransform.inverse().transformPoint(this.tmpPoint);\n            }\n    \n            if (transformed) {\n                transformedPt = this.bufferTransform.inverse().transformPoint(this.tmpPoint);\n            }\n        }\n\n        return { x: transformedPt.x, y: transformedPt.y };\n    }\n\n    eventToMousePos(event : MouseEvent|WheelEvent, transformed = false, tmpTranformed = false) : Point {\n        var canvas = document.getElementById(\"chartview-canvas\");\n        var canvasRect = canvas.getBoundingClientRect();\n        var x = (event.clientX - canvasRect.left);\n        var y = (event.clientY - canvasRect.top);\n\n        return this.transformPos(x, y, transformed, tmpTranformed);\n    }\n\n    getColorDistance(hexColorA : number, hexColorB : number) : number {\n        var rA = (hexColorA >> 16) & 255;\n        var gA = (hexColorA >> 8) & 255;\n        var bA = hexColorA & 255;\n        var rB = (hexColorB >> 16) & 255;\n        var gB = (hexColorB >> 8) & 255;\n        var bB = hexColorB & 255;\n\n        return Math.abs(rA - rB) + Math.abs(gA - gB) + Math.abs(bA - bB);\n    }\n\n    rgbToZValue(r : number, g : number, b : number) : number{\n        return ((r << 16) + (g << 8) + (b)) - 1; // Ignore alpha\n    }\n\n    zValueToCommand(zvalue : number) : CommandWithIdx {\n        if (zvalue % this.zIncrement !== 0) {\n            return null;\n        }\n\n        var shapes = this.props.chart.shapes;\n        var idx = zvalue / this.zIncrement;\n\n        if (idx < shapes.length) {\n            return { cmd: shapes[idx], idx: idx };\n        }\n        return null;\n    }\n\n    getCommandAtPos(x : number, y : number) : CommandWithIdx {\n        // Look at the depth value exactly at the location, and around it (in a 3x3 square)\n        var zbufferData = this.zbuffer.getContext('2d').getImageData(x - 1, y - 1, 3, 3);\n        var centralVal = this.rgbToZValue(zbufferData.data[16], zbufferData.data[17], zbufferData.data[18]);\n        var selectedCmd = this.zValueToCommand(centralVal);\n\n        if (selectedCmd === null) {\n            // This can happen because of antialiasing on the zBuffer\n            // Unfortunately, there is no way of disabling antialiasing in Javascript with a canvas\n            // And re-writing all the drawing primitives to remove antialiasing would be too costly\n            // So we are stuck with a zBuffer not as reliable as it shoud be.\n\n            // This code tries to mitigate this issue by also looking at the surrounding pixels\n            // That way, if the pixel targeted is an artefact resulting from antialiasing\n            // this will be detected (because the pixel color is unknown) and we will look\n            // at the pixels around it to find the closest in value that matches a known zValue\n\n            // In the (very) rare occasions that antialiasing created a plausible color, well, there is not much we can do\n            // and it will result in a random element being selected\n            var colorDiff = 0;\n            for (var i = 0; i < zbufferData.data.length; i += 4) {\n                var val = this.rgbToZValue(zbufferData.data[i], zbufferData.data[i + 1], zbufferData.data[i + 2]);\n                var cmd = this.zValueToCommand(val);\n\n                if (cmd !== null) {\n                    // We found a surrounding pixel that matches a known zValue!\n                    // If there is multiple candidates, we pick the one with the closest color\n                    var deltaColor = this.getColorDistance(centralVal, val);\n                    if (deltaColor < colorDiff || selectedCmd === null) {\n                        selectedCmd = cmd;\n                        colorDiff = deltaColor;\n                    }\n                }\n            }\n        }\n\n        return selectedCmd;\n    }\n\n    onGlobalMouseUp(event : MouseEvent) : void {\n        if (event.button === 0) {\n            this.isMouseDown = false;\n        }\n    }\n\n    onMouseUp(event : MouseEvent) : void {\n        if (event.button === 0) {\n            // Only accept selections sarted in the canvas\n            if (this.isMouseDown && !this.state.isPanning) {\n                if (this.hoveredCmdsIdx.length > 0) {\n                    // Shapes hovered are now selected\n                    this.props.getDraggableSelection().addShapesIdx(this.hoveredCmdsIdx, event.shiftKey && this.hoveredCmdsIdx.length === 1); // We only invert the selection for single selection to make sure it was not a mistake\n                } else if (!event.shiftKey) { // Do not clear the selection if using shift\n                    this.props.getDraggableSelection().clearShapes();\n                }\n                this.redraw();\n            }\n            this.isMouseDown = false;\n        }\n    }\n\n    onMouseDown(event : MouseEvent) : void {\n        if (event.button === 0) {\n            if (!this.state.isPanning && !event.shiftKey) { // Shift allows to select multiple elements\n                // We are starting a new selection so we should reset the current one\n                this.props.getDraggableSelection().clearShapes();\n            }\n            \n            // Start a new selection\n            const transform = !this.state.isPanning;\n            var pos = this.eventToMousePos(event, transform, transform);\n            this.startPt = pos;\n            this.endPt = pos;\n            this.isMouseDown = true;\n        }\n    }  \n\n    onMouseMove(event : MouseEvent) : void {\n        const transform = !this.state.isPanning;\n        var pos = this.eventToMousePos(event, transform, transform);\n        this.props.onMouseMoved({x: pos.x + this.props.chart.rect.x, y: pos.y + this.props.chart.rect.y});\n\n        if (this.isMouseDown) {\n            if (this.state.isPanning) { \n                const dx = this.endPt.x - pos.x;\n                const dy = this.endPt.y - pos.y;\n                const scale = this.getEffectiveScale(this.viewTransform);\n                this.setTmpTransform(this.viewTransform.translate(-dx/scale.x, -dy/scale.y));\n                this.startPt = pos;\n                this.endPt = pos; \n                this.setState({isCentered: false}); // We modified the pos, we shouldn't autonatically resize anymore\n            } else {\n                // This is a dragging selection\n                // We should select the shapes contained in the selection rectangle\n                var shapes = this.props.chart.shapes;\n                this.endPt = pos;\n                // Get all the selected shapes\n                var sx = Math.min(this.startPt.x, this.endPt.x);\n                var sy = Math.min(this.startPt.y, this.endPt.y);\n                var w = Math.abs(this.endPt.x - this.startPt.x);\n                var h = Math.abs(this.endPt.y - this.startPt.y);\n\n                if (w > 2 && h > 2) { // Give some loose so that one-click selection works even if there is small movements\n                    var selectRect = { x: sx+this.props.chart.rect.x, y: sy+this.props.chart.rect.y, width: w, height: h };\n                    this.hoveredCmdsIdx = [];\n                    for (var i = 0; i < shapes.length; ++i) {\n                        if (shapes[i].isContained(selectRect)) {\n                            var isGhost = this.props.ghostShapes.includes(shapes[i]);\n                            if (!isGhost) { // Only select if it is not a ghost\n                                this.hoveredCmdsIdx.push(i);\n                            }\n                        }\n                    }\n                }\n            }\n            \n            this.redraw();\n        } else {\n            var mousePos = this.eventToMousePos(event, false, true);\n            var cmd = this.getCommandAtPos(mousePos.x, mousePos.y);\n\n            if (cmd !== null) {\n                if (this.hoveredCmdsIdx.length !== 1 || this.hoveredCmdsIdx[0] !== cmd.idx) {\n                    this.hoveredCmdsIdx = [cmd.idx];\n                    this.redraw();\n                }\n            } else if (this.hoveredCmdsIdx.length > 0) {\n                this.hoveredCmdsIdx = [];\n                this.redraw();\n            }\n        }\n    }\n\n    onMouseLeave(event : MouseEvent) : void {\n        if (this.hoveredCmdsIdx.length > 0) {\n            this.hoveredCmdsIdx = [];\n            this.redraw();\n        }\n    }\n\n    zoom(scaleFactor : number, cx = -1, cy = -1) : void {\n        if (cx === -1 && cy === -1) {\n            const pt = this.transformPos(this.previousWidth/2, this.previousHeight/2, false, true);\n            cx = pt.x;\n            cy = pt.y;\n        }\n\n        const transfo = this.viewTransform.translate(cx, cy);\n        transfo.scaleSelf(scaleFactor+1, scaleFactor+1);\n        transfo.translateSelf(-cx, -cy);\n        this.setTmpTransform(transfo);\n        this.setState({isCentered: false}); // We modified the zooming, we shouldn't autonatically resize anymore\n    }\n\n    onMouseWheel(event : WheelEvent) : void {\n        var pos = this.eventToMousePos(event, false, true);\n        const sign = event.deltaY < 0? 1 : -1;\n        const scaleFactor = Math.min(Math.abs(event.deltaY) * 0.01, 0.4) * sign;\n\n        this.zoom(scaleFactor, pos.x, pos.y);\n    }\n\n    getEffectiveScale(matrix : DOMMatrix = null) : Point {\n        const m = matrix === null? this.viewTransform.multiply(this.bufferTransform) : matrix;\n        var E = (m.a + m.d) / 2\n        var F = (m.a - m.d) / 2\n        var G = (m.c + m.b) / 2\n        var H = (m.c - m.b) / 2\n\n        var Q = Math.sqrt(E * E + H * H);\n        var R = Math.sqrt(F * F + G * G);\n\n        return {x: Q+R, y: Q-R};\n    }\n\n    /**\n     * Merge the bounding box of all the shapes to get the bounding box\n     * @param {Array} shapes \n     */\n    getShapesRect(shapes : ShapeCommand[]) : any {\n        var topLeft = { x: shapes[0].rect.x, y: shapes[0].rect.y };\n        var botRight = { x: topLeft.x + shapes[0].rect.width, y: topLeft.y + shapes[0].rect.height };\n\n        for (var i = 1; i < shapes.length; ++i) {\n            var rect = shapes[i].rect;\n            topLeft.x = Math.min(topLeft.x, rect.x);\n            topLeft.y = Math.min(topLeft.y, rect.y);\n\n            botRight.x = Math.max(botRight.x, rect.x + rect.width);\n            botRight.y = Math.max(botRight.y, rect.y + rect.height);\n        }\n\n        return { x: topLeft.x, y: topLeft.y, width: botRight.x - topLeft.x, height: botRight.y - topLeft.y };\n    }\n\n    refreshBuffers() : void {\n        var canvas = document.getElementById(\"chartview-canvas\") as HTMLCanvasElement;\n\n        if (canvas !== undefined) {\n            const scale = this.getEffectiveScale(this.bufferTransform);\n\n            // Resize the buffers accordingly\n            this.zbuffer.width = this.props.chart.rect.width*scale.x;\n            this.zbuffer.height = this.props.chart.rect.height*scale.y;\n\n            this.chartBuffer.width = this.props.chart.rect.width*scale.x;\n            this.chartBuffer.height = this.props.chart.rect.height*scale.y;\n\n            var ctx = this.chartBuffer.getContext('2d');\n            var zctx = this.zbuffer.getContext('2d');\n\n            ctx.fillStyle = \"white\";\n            ctx.fillRect(0, 0, this.chartBuffer.width, this.chartBuffer.height);\n            zctx.clearRect(0, 0, this.zbuffer.width, this.zbuffer.height);\n\n            var shapes = this.props.chart.shapes;\n\n            if (shapes.length > 0) {\n                ctx.save();\n                zctx.save();\n\n                \n                ctx.setTransform(this.bufferTransform);\n                ctx.translate(-this.props.chart.rect.x, -this.props.chart.rect.y) // We want the chart to start at 0,0 to fit within the buffer\n                zctx.setTransform(ctx.getTransform());\n                \n\n                this.zIncrement = Math.floor(((256 * 256 * 256) - 1) / shapes.length);\n\n                for (var i = 0; i < shapes.length; ++i) {\n                    var isGhost = this.props.ghostShapes.includes(shapes[i]);\n\n                    // Save the shape's style\n                    var cmdStyle = {};\n                    ShapeCommand.copyStyle(cmdStyle, shapes[i]);\n\n                    // Draw on the ChartBuffer\n                    if (isGhost) {\n                        // Ghosts are translucent\n                        shapes[i].globalAlpha = 0.2;\n                        shapes[i].globalCompositeOperation = 'source-over';\n                    }\n                    shapes[i].draw(ctx);\n\n                    // Draw on the ZBuffer\n                    if (!isGhost) { // Ghost shoud not be selectable\n                        // Use a custom color to differentiate shapes on the ZBuffer\n                        var colValue = (this.zIncrement * i + 1).toString(16);\n                        var zColor = '#000000'.slice(0, -colValue.length) + colValue;\n                        shapes[i].fillStyle = zColor;\n                        shapes[i].strokeStyle = zColor;\n                        shapes[i].globalAlpha = 1.0; // Force the shape to be opaque, otherwise it messes up the Z-buffer\n                        shapes[i].draw(zctx);\n                    }\n\n                    // Restore the shape's original style\n                    ShapeCommand.copyStyle(shapes[i], cmdStyle);\n                }\n                ctx.restore();\n                zctx.restore();\n            }\n        }\n    }\n\n    drawOverlay(ctx : CanvasRenderingContext2D) : void {\n        var overlay = this.props.state.overlay\n        if (overlay.points.length > 0) {\n            ctx.save();\n            const scale = this.getEffectiveScale(this.bufferTransform);\n            ctx.setTransform(ctx.getTransform().multiply(this.bufferTransform));\n            ctx.translate(-this.props.chart.rect.x, -this.props.chart.rect.y) // We want the chart to start at 0,0 to fit within the buffer\n            const markWidth = 10;\n            const markHeight = 10\n            const thickness = 1*1/scale.x; // Thickness should be proportional with zooming level\n\n            ctx.strokeStyle = this.overlayColor;\n            ctx.lineWidth = thickness;\n            ctx.fillStyle = this.overlayColor;\n\n            if (overlay.type === OverlayType.CONNECTED) {\n                ctx.beginPath();\n                ctx.moveTo(overlay.points[0].x.pixel, overlay.points[0].y.pixel);\n                for (let i = 1; i < overlay.points.length; ++i) {\n                    ctx.lineTo(overlay.points[i].x.pixel, overlay.points[i].y.pixel);\n                }\n                ctx.stroke();\n            } else if (overlay.type === OverlayType.HORIZONTAL_GRIDLINE) {\n                ctx.beginPath();\n                for (let i = 0; i < overlay.points.length; ++i) {\n                    ctx.moveTo(this.props.chart.rect.x, overlay.points[i].y.pixel);\n                    ctx.lineTo(this.props.chart.rect.x+this.props.chart.rect.width, overlay.points[i].y.pixel);\n                } \n                ctx.stroke();\n            } else if (overlay.type === OverlayType.VERTICAL_GRIDLINE) {\n                ctx.beginPath();\n                for (let i = 0; i < overlay.points.length; ++i) {\n                    ctx.moveTo(overlay.points[i].x.pixel, this.props.chart.rect.y);\n                    ctx.lineTo(overlay.points[i].x.pixel, this.props.chart.rect.y+this.props.chart.rect.height);\n                } \n                ctx.stroke();\n            } else {\n                for (let i = 0; i < overlay.points.length; ++i) {\n                    var coord : AxisCoordinate2D = overlay.points[i];\n                    ctx.fillRect(coord.x.pixel - markWidth/2, coord.y.pixel-thickness/2, markWidth, thickness);\n                    ctx.fillRect(coord.x.pixel - thickness/2, coord.y.pixel-markHeight/2, thickness, markHeight);\n                }\n            }\n            ctx.restore();\n        }\n    }\n\n    redraw() : void {\n        var canvas = document.getElementById(\"chartview-canvas\") as HTMLCanvasElement;\n\n        if (canvas !== null) {\n            if (this.viewTransformed && Date.now() - this.viewTransformedTime > 1000) {\n                const mRes = this.viewTransform.multiply(this.bufferTransform);\n                let scale = this.getEffectiveScale(mRes).x;\n\n                // Most browsers support canvas up to 268,435,456pixels. But it gets really slow + sometines disappears (?)\n                // So we arbitrarily fix the limit to 7,000,000 pixels. Beyond this, the zoom gets partially handled by the viewTransform (hence, lower res)\n                const maxScale = 7000000 / (canvas.width*canvas.height);\n                scale = Math.min(scale, maxScale);\n\n                // Buffer should contain all the scaling info\n                this.bufferTransform = new DOMMatrix();\n                this.bufferTransform.scaleSelf(scale, scale);\n\n                this.viewTransform = mRes.multiply(this.bufferTransform.inverse());\n                this.viewTransformed = false;\n                this.refreshBuffers();\n            }\n            var ctx = canvas.getContext('2d');\n            ctx.fillStyle = \"white\";\n            ctx.resetTransform();\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.setTransform(this.viewTransform);\n            ctx.drawImage(this.chartBuffer, 0, 0);\n            var shapes = this.props.chart.shapes;\n            var scale = this.getEffectiveScale(); // Return the scale factor\n\n            // Draw the overlay, which highlights specific coordinates on the chart (used when selecting cells in the datatable)\n            this.drawOverlay(ctx);\n\n            if (shapes !== undefined && shapes.length > 0) {\n                // Draw the selection on top of the chart\n                ctx.save();\n                ctx.setTransform(ctx.getTransform().multiply(this.bufferTransform));\n\n                ctx.save();\n                ctx.translate(-this.props.chart.rect.x, -this.props.chart.rect.y) // We want the chart to start at 0,0, like the buffer\n\n                var draggableSelection = this.props.state.shapeSelection;\n\n                var cmdsToHighlight = [];\n                cmdsToHighlight = cmdsToHighlight.concat(this.hoveredCmdsIdx);\n\n                if (!draggableSelection.isDragged && !draggableSelection.isHidden()) {\n                    // Also highlight shapes in the draggable selection\n                    cmdsToHighlight = cmdsToHighlight.concat(draggableSelection.shapesIdx);\n                }\n                \n\n                for (var i = 0; i < cmdsToHighlight.length; ++i) {\n                    var cmd : ShapeCommand = shapes[cmdsToHighlight[i]];\n                    var cmdStyle = {};\n                    ShapeCommand.copyStyle(cmdStyle, cmd);\n                    var prevFilled = cmd.isFilled;\n                    cmd.strokeStyle = \"white\";\n                    if (cmd.isFilled) {\n                        cmd.isFilled = false;\n                        cmd.lineWidth = 1;\n                    }\n                    cmd.isFilled = false;\n                    cmd.globalAlpha = 0.8;\n                    cmd.globalCompositeOperation = 'source-over';\n\n                    cmd.draw(ctx);\n\n                    // Also draw the hitbox, so that the selected shape is obvious\n                    var rect = cmd.rect;\n                    ctx.lineWidth = 1.0/scale.x; // Divide by scale to make it independent from zooms\n                    ctx.lineJoin = 'round';\n                    ctx.setLineDash([cmd.lineWidth*4, cmd.lineWidth*3]);\n                    ctx.lineDashOffset = this.offset;\n                    ctx.strokeStyle =  this.selectionColor;\n                    ctx.strokeRect(rect.x, rect.y, rect.width, rect.height);\n\n                    // Restore the style of the command\n                    ShapeCommand.copyStyle(cmd, cmdStyle);\n                    cmd.isFilled = prevFilled;\n                }\n\n                // Draw the selection rect untransformed\n                ctx.restore()\n\n                // Draw selection rect\n                if (this.isMouseDown) {\n                    ctx.fillStyle = this.selectionRectColor;\n                    ctx.strokeStyle = this.selectionRectOutlineColor;\n                    ctx.lineWidth = 2.0/scale.x; // Divide by scale to make it independent from zooms\n                    ctx.globalAlpha = 1.0;\n                    ctx.lineDashOffset = 0;\n                    ctx.setLineDash([ctx.lineWidth, ctx.lineWidth]);\n                    ctx.globalCompositeOperation = 'source-over';\n                    var sx = this.startPt.x;\n                    var sy = this.startPt.y;\n                    var w = this.endPt.x - sx\n                    var h = this.endPt.y - sy;\n                    ctx.fillRect(sx, sy, w, h);\n                    ctx.strokeRect(sx, sy, w, h);\n                    ctx.setLineDash([]);\n                }\n\n                ctx.restore();\n            }\n        }\n    }\n\n    isCentered() {\n        return this.state.isCentered;\n    }\n\n    center() {\n        this.previousWidth = -1;// A dirty hack to force a redraw (otherwise, the code is optimized to only redraw when absolutely necessary, e.g., size changed)\n        this.setState({isCentered: true});\n    }\n\n    resize() : void {\n        var canvas = document.getElementById(\"chartview-canvas\") as HTMLCanvasElement;\n        // Size to the parent element\n        var parentNode = canvas.parentNode as any;\n        var offsetTop = parentNode.offsetTop-parentNode.parentElement.offsetTop;\n        canvas.width = parentNode.clientWidth;\n        canvas.height = parentNode.clientHeight-offsetTop;\n        var chart = this.props.chart;\n\n        if (canvas.width === this.previousWidth && canvas.height === this.previousHeight &&\n             this.props.chart.shapes.length === this.previousShapeCount && this.props.ghostShapes.length === this.previousGhostCount) {\n            this.redraw();\n            return; // Avoid refreshing if not absolutely necessary (e.g., the size of the canvas changed)\n        }\n\n        this.previousWidth = canvas.width;\n        this.previousHeight = canvas.height\n        this.previousShapeCount = this.props.chart.shapes.length;\n        this.previousGhostCount = this.props.ghostShapes.length;\n        \n        if (chart.shapes !== undefined && chart.shapes.length > 0 && this.state.isCentered) {\n            // Update transformation accordingly\n            var shapesRect = chart.rect;\n            var sx = canvas.width / shapesRect.width;\n            var sy = canvas.height / shapesRect.height;\n            var scale = Math.min(sx, sy);\n            // We change the viewTransform while keeping the bufferTransform\n            // 1) Compute the matrice that we would like at the end\n            const res = new DOMMatrix();\n            res.scaleSelf(scale, scale);\n            var tx = ((canvas.width - shapesRect.width*scale) / 2) / scale;//-shapesRect.x + ((canvas.width - shapesRect.width * scale) / 2) / scale;\n            var ty = ((canvas.height - shapesRect.height*scale) / 2) / scale;//-shapesRect.y + ((canvas.height - shapesRect.height * scale) / 2) / scale;\n            res.translateSelf(tx, ty);\n\n            // 2) Compute viewTransform so that viewTransfom*bufferTransform = res\n            const newViewTransfo = res.multiply(this.bufferTransform.inverse());\n            this.setTmpTransform(newViewTransfo);\n\n            this.updateDraggableSelection();\n        }\n\n        this.refreshBuffers();\n    }\n\n    setTmpTransform(transform : DOMMatrix) : void {\n        this.viewTransformedTime = Date.now() + (this.viewTransformedTime === 0 ? -1001 : 0); // Force the transfo to be done immediately if it is the first call\n        this.viewTransformed = true;\n        this.viewTransform = transform;\n        this.updateDraggableSelection();\n    }\n\n    updateDraggableSelection() : void {\n        \n        var canvas = document.getElementById(\"chartview-canvas\") as HTMLCanvasElement;\n        // Size to the parent element\n        var parentNode = canvas.parentNode as any;\n\n        // Draggable selections should match with the ChartView and scale with it\n        var draggableSelection = this.props.getDraggableSelection();\n        if (draggableSelection !== undefined) {\n            draggableSelection.scale = this.getEffectiveScale();\n            // Translate should take into account the position of the div + position of chart in the div\n            var parentRect = parentNode.getBoundingClientRect()\n            this.tmpPoint.x = 0; \n            this.tmpPoint.y = 0;\n            this.tmpPoint.w = 1;\n            this.tmpPoint = this.viewTransform.multiply(this.bufferTransform).transformPoint(this.tmpPoint);\n\n            draggableSelection.translate = {x:  parentRect.x + this.tmpPoint.x - this.props.chart.rect.x*draggableSelection.scale.x, y: parentRect.y + this.tmpPoint.y - this.props.chart.rect.y*draggableSelection.scale.y};\n            draggableSelection.forceUpdate();\n        }\n    }\n\n    componentDidMount() : void {\n        this.globalMouseUpListener = this.onGlobalMouseUp.bind(this);\n        document.addEventListener('mouseup', this.globalMouseUpListener);\n        // Refresh every 250ms to allow animations\n        this.intervalId = window.setInterval(() => { this.offset += 2; this.redraw() }, 250);\n        this.resize();\n        this.updateDraggableSelection();\n    }\n\n    componentDidUpdate() : void {\n        this.resize();\n        this.updateDraggableSelection();\n    }\n\n    componentWillUnmount() : void {\n        window.clearInterval(this.intervalId);\n        document.removeEventListener('mouseup', this.globalMouseUpListener);\n    }\n\n    enterPanMode() : void {\n        if (!this.state.isPanning) {\n            this.setState({isPanning: true});\n        }\n    }\n\n    exitPanMode() : void {\n        this.setState({isPanning: false});\n    }  \n\n    render() : JSX.Element {\n        return (<Fragment>\n        <div style={{textAlign: 'right', marginRight: '2px'}}>\n            <button style={{margin: '2px'}} className=\"button gray small\" onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.zoom(0.1)}>\n                <i className=\"fa fa-search-plus\" aria-hidden=\"true\"></i>\n            </button>\n            <button style={{margin: '2px'}} className=\"button gray small\" onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.zoom(-0.1)}>\n                <i className=\"fa fa-search-minus\" aria-hidden=\"true\"></i>\n            </button>\n\n            <button style={{margin: '2px'}} className={\"button small \" + (this.isCentered() ? \"gray disabled\" : \"\")} onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.center()}>\n                <i className=\"fa fa-arrows-alt\" aria-hidden=\"true\"></i> Center & Fit\n            </button>\n        </div> \n            <div className=\"noselect\" style={{position: 'relative', width: '100%', height: '100%', overflow: 'hidden' }}>\n                <canvas style={{cursor: this.state.isPanning ? 'grab' : 'crosshair'}} id='chartview-canvas'\n                    onMouseDown={this.onMouseDown.bind(this) as any}\n                    onMouseMove={this.onMouseMove.bind(this) as any}\n                    onMouseUp={this.onMouseUp.bind(this) as any}\n                    onMouseLeave={this.onMouseLeave.bind(this) as any}\n                    onWheel={this.onMouseWheel.bind(this) as any}\n                >Canvas not supported</canvas>\n            </div>\n        </Fragment>\n        );\n    }\n}\n","import React from 'react';\nimport ShapeCommand from '../../datastructure/ShapeCommand';\n\ninterface FilterPanelState {\n  switches : any[];\n}\n\ninterface FilterPanelProps {\n  shapes : ShapeCommand[];\n  onFilterChanged : any;\n  filter : any;\n}\n\nexport default class FilterPanel extends React.Component<FilterPanelProps, FilterPanelState> {\n\n  constructor(props : FilterPanelProps) {\n    super(props);\n\n    this.state = {\n        switches: this.getGeneratedFilters()\n    };\n  }\n\n  getGeneratedFilters(): any[] {\n    var shapes = this.props.shapes;\n    var counter = {};\n    var hashToValue = {};\n    var i = 0;\n    for (i = 0; i < shapes.length; ++i) {\n        var shape = shapes[i];\n        var value = this.props.filter.getValue(shape);\n        if (counter[value.hash] === undefined) {\n            counter[value.hash] = 0;\n            hashToValue[value.hash] = value;\n        }\n        hashToValue[value.hash].updateShape(shape);\n        counter[value.hash] += 1;\n    }\n\n    var sortedHashes = Object.keys(counter);\n    sortedHashes.sort(function(a, b) {\n        return counter[b] - counter[a];\n    });\n\n    var switches = [];\n\n    for (i = 0; i < sortedHashes.length; ++i) {\n        var id = this.getUniqueId(i);\n        var value = hashToValue[sortedHashes[i]];\n        if (counter[sortedHashes[i]] > this.props.filter.minNumberElements() && i < 25) { // We fix a maximum of 25 filters\n          switches.push({value: hashToValue[sortedHashes[i]], canvasId: id+\"Canvas\", checkboxId: id+\"Checkbox\"});\n        } else {\n          // Add a \"Misc\" button for all other filters that did not make the cut\n          switches.push({value: {hash: \"misc\"}, canvasId: id+\"Canvas\", checkboxId: id+\"Checkbox\"});\n          break;\n        }\n    }\n\n    return switches;\n  }\n\n  getAllowedHashes() : any {\n    var allowedHashes = [];\n    var forbiddenHashes = [];\n    for (var i = 0; i < this.state.switches.length; ++i) {\n      var s = this.state.switches[i];\n      var checkbox : any = document.getElementById(s.checkboxId);\n\n      (checkbox.checked ? allowedHashes : forbiddenHashes).push(s.value.hash);\n    }\n\n    return {allowed: allowedHashes, forbidden: forbiddenHashes};\n  }\n\n  apply(shapes : ShapeCommand[]) : ShapeCommand[] {\n    var result = [];\n    var hashes = this.getAllowedHashes();\n    var allowMisc = hashes.allowed.includes(\"misc\");\n\n    for (var i = 0; i < shapes.length; ++i) {\n      const hash = this.props.filter.getValue(shapes[i]).hash\n\n      if (hashes.allowed.includes(hash) || (allowMisc && !hashes.forbidden.includes(hash))) {\n        result.push(shapes[i]);\n      }\n    }\n\n    return result;\n  }\n  \n  /**\n   * Check or uncheck all the filters\n   */\n  setAllChecked(checked = true, warnListeners = true) : void {\n    for (var i = 0; i < this.state.switches.length; ++i) {\n      var s = this.state.switches[i];\n      var checkbox : any = document.getElementById(s.checkboxId);\n\n      checkbox.checked = checked;\n    }\n    if (warnListeners) {\n      this.props.onFilterChanged();\n    }\n  }\n\n  setChecked(hashes : string[], warnListeners = true) : void {\n    for (var i = 0; i < this.state.switches.length; ++i) {\n      var s = this.state.switches[i];\n      var checkbox : any = document.getElementById(s.checkboxId);\n      checkbox.checked = hashes.includes(s.value.hash);\n    }\n    if (warnListeners) {\n      this.props.onFilterChanged();\n    }\n  }\n\n  onDoubleClick(s : any) : void {\n    var checkbox : any = document.getElementById(s.checkboxId);\n    this.setAllChecked(false, false);\n    checkbox.checked = true;\n    this.props.onFilterChanged();\n  }\n\n\n  onChange() : void {\n    this.props.onFilterChanged();\n  }\n\n  repaintSwitches() : void {\n    for (var i = 0; i < this.state.switches.length; ++i) {\n      var s = this.state.switches[i];\n      var canvas : any = document.getElementById(s.canvasId);\n      var ctx = canvas.getContext('2d');\n\n      this.props.filter.paint(ctx, s.value, canvas.width, canvas.height);\n    }\n  }\n\n  componentDidMount() : void {\n    this.repaintSwitches();\n  }\n\n  componentDidUpdate() : void {\n    this.repaintSwitches();\n  }\n\n  getUniqueId(idx : number) : string {\n    return this.props.filter.getName().replace(/ /g, \"\") + idx.toString();\n  }\n\n  render() : JSX.Element {\n    var htmlSwitches = [];\n    for (var i = 0; i < this.state.switches.length; ++i) {\n        const s = this.state.switches[i];\n        htmlSwitches.push(\n        <label onDoubleClick={(event) => this.onDoubleClick(s)} key={i.toString()} className=\"switch tooltip\">\n            <input id={s.checkboxId} type=\"checkbox\" \n            onChange={(event) => this.onChange()}\n            defaultChecked />\n            <span className=\"switch-rect\"></span>\n            <canvas id={s.canvasId} width={100} height={100} className=\"switch-inside\"></canvas>\n            <span className='tooltiptext tooltip-bottom'>Double click to select only this.</span>\n        </label>);\n    }\n\n    return (\n      <div style={{textAlign: 'left', verticalAlign: 'middle', marginLeft: 10, overflowX: 'hidden', overflowY: 'hidden', whiteSpace: 'nowrap'}}>\n          <span style={{width: '90px', display: \"inline-block\", fontWeight: 800, fontSize: '14px'}}>{this.props.filter.getName()}: </span>\n          <button className=\"button\" onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.setAllChecked(true)}>All</button>\n          <button className=\"button gray\" onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.setAllChecked(false)}>None</button>\n          {htmlSwitches}\n      </div>\n    );\n  }\n}\n","import Axis from \"./chartelements/Axis\";\n\nexport default class AxisCoordinate1D {\n    pixel : number;\n    axis : Axis;\n\n    /**\n     * \n     * @param {Number} pixelPosition \n     * @param {Axis} axis \n     */\n    constructor(pixelPosition : number, axis : Axis) {\n        this.pixel = pixelPosition;\n        this.axis = axis;\n    }\n\n    get value() : string {\n        return this.axis.pixelToTick(this.pixel);\n    }\n\n    set value(newValue : string) {\n        this.pixel = this.axis.tickToPixel(newValue);\n    }\n\n    clone(axis : Axis) : AxisCoordinate1D {\n        return new AxisCoordinate1D(this.pixel, axis);\n    }\n}","import AxisCoordinate1D from \"./AxisCoordinate1D\"\nimport Axis from \"./chartelements/Axis\";\n\nexport default class AxisCoordinate2D {\n    x : AxisCoordinate1D;\n    y : AxisCoordinate1D;\n\n    constructor(x: AxisCoordinate1D, y : AxisCoordinate1D) {\n        this.x = x;\n        this.y = y;\n    }\n\n    clone(axisX : Axis = this.x.axis, axisY : Axis = this.y.axis) : AxisCoordinate2D {\n        return new AxisCoordinate2D(this.x.clone(axisX), this.y.clone(axisY));\n    }\n}","import AxisCoordinate1D from \"../datastructure/AxisCoordinate1D\";\nimport AxisCoordinate2D from \"../datastructure/AxisCoordinate2D\";\n\nexport default class MathUtils {\n    /**\n     * Project a value that is contained within [minA, maxA] to the corresponding value in [minB, maxB]\n     * @param value \n     * @param minA \n     * @param maxA \n     * @param minB \n     * @param maxB \n     * @returns Projected value\n     */\n    static project(value : number, minA : number, maxA : number, minB : number, maxB : number) : number {\n        return ((value-minA)/(maxA-minA)*(maxB-minB))+minB;\n    }\n\n    static interpolate(points : AxisCoordinate2D[], pixelPosX : number) : AxisCoordinate2D {\n        if (points.length === 0) {\n            return null;\n        }\n\n        // First, find the two values immediately before and after the value to interpolate\n        var prevPt = points[0];\n        var nextPt = points[points.length-1];\n\n        // This assumes the points are not sorted, otherhwise could be optimized\n        for (var i = 0; i < points.length; ++i) {\n            var pt = points[i];\n\n            if (pt.x.pixel === pixelPosX) {\n                // Exact match\n                return pt;\n            }\n            if (pt.x.pixel > pixelPosX && pt.x.pixel < nextPt.x.pixel) {\n                nextPt = pt;\n            }\n\n            if (pt.x.pixel < pixelPosX && pt.x.pixel > prevPt.x.pixel) {\n                prevPt = pt;\n            }\n        }\n\n        if (prevPt.x.pixel > pixelPosX || nextPt.x.pixel < pixelPosX) {\n            return null; // Cannot interpolate if lies outside of range\n        }\n\n        var range = Math.abs(nextPt.x.pixel - prevPt.x.pixel);\n        // We have an exact match, no need to interpolate\n        if (range === 0) {\n            return nextPt;\n        }\n\n        var coeff = Math.abs(nextPt.x.pixel - pixelPosX) / range;\n        var pixelPosY = (prevPt.y.pixel * (coeff) + nextPt.y.pixel * (1-coeff));\n\n        return new AxisCoordinate2D(\n            new AxisCoordinate1D(pixelPosX, prevPt.x.axis), \n            new AxisCoordinate1D(pixelPosY, prevPt.y.axis)\n        );\n    }\n\n    /**\n     * Euclidean distance between two points\n     * @param ax \n     * @param ay \n     * @param bx \n     * @param by \n     */\n    static dist(ax, ay, bx, by) : number {\n        const dx = bx - ax;\n        const dy = by = ay;\n        return Math.sqrt(dx*dx + dy*dy);\n    }\n}","import AxisCoordinate1D from \"../datastructure/AxisCoordinate1D\";\nimport ShapeCommand from \"../datastructure/ShapeCommand\";\nimport Axis from \"../datastructure/chartelements/Axis\";\nimport AxisCoordinate2D from \"../datastructure/AxisCoordinate2D\";\n\nexport default class ShapeUtils {\n    /**\n     * Converts a list of shapes to a list of coordinates\n     * This implementation is fairly basic, possible improvements:\n     * - Handling other types (e.g. Bezier curves)\n     * - Ignoring useless moveto\n     * @param {[ShapeCommand]} shapes \n     * @param {Axis} xaxis\n     * @param {Axis} yaxis\n     * @returns {[AxisCoordinate2D]} A list containing all the points forming the shape\n     */\n    static shapesToPoints(shapes : ShapeCommand[], xaxis : Axis, yaxis : Axis) : AxisCoordinate2D[] {\n        var points : AxisCoordinate2D[] = [];\n\n        for (var i = 0; i < shapes.length; ++i) {\n            var path = shapes[i].path;\n            var transfo = shapes[i].transform;\n            for (var j = 0; j < path.length; ++j) {\n                var type = path[j][0];\n                var args = path[j][1];\n    \n                if (type === ShapeCommand.types.LINETO || type === ShapeCommand.types.MOVETO) {\n                    var pt = new DOMPoint(args[0], args[1]);\n                    var transfoPt = pt.matrixTransform(transfo);\n                    var xcoord = new AxisCoordinate1D(transfoPt.x, xaxis);\n                    var ycoord = new AxisCoordinate1D(transfoPt.y, yaxis);\n                    points.push(new AxisCoordinate2D(xcoord, ycoord));\n                }\n            }\n        }\n        return points;\n    }\n\n    /**\n     * Take one shape and split into sub-shapes, if possible\n     * This assumes multiple disconnected shapes are being drawn using the same path (by using 'moveto')\n     * @param shape \n     */\n    static splitIntoSubShapes(shape : ShapeCommand) : ShapeCommand[] {\n        var path = shape.path;\n        var transfo = shape.transform;\n        var subShapes = [];\n        let currentPath = [];\n\n        for (var j = 0; j < path.length; ++j) {\n            var type = path[j][0];\n\n            if (type === ShapeCommand.types.MOVETO) {\n                if (currentPath.length > 1) {\n                    // TODO: Smarter split, based on the moveto position. Only split if moves away from any known point\n                    const subShape = new ShapeCommand();\n                    ShapeCommand.copyStyle(subShape, shape);\n                    subShape.path = currentPath;\n                    subShape.transform = transfo;\n                    subShape.isFilled = shape.isFilled;\n                    subShape.computeBBox(null);\n                    subShapes.push(subShape);\n                    currentPath = [];\n                }\n            }\n\n            currentPath.push(path[j]);\n        }\n\n        if (currentPath.length > 0) {\n            const subShape = new ShapeCommand();\n            ShapeCommand.copyStyle(subShape, shape);\n            subShape.path = currentPath;\n            subShape.transform = transfo;\n            subShape.isFilled = shape.isFilled;\n            subShape.computeBBox(null);\n            subShapes.push(subShape);\n        }\n\n        return subShapes;\n    }\n\n    /**\n     * Same as #splitIntoSubShapes but for a list of shapes (all shapes are going to be split, and resulting subshapes are returned in the same list)\n     * @param shapes \n     */\n    static splitShapesIntoSubShapes(shapes : ShapeCommand[]) : ShapeCommand[] {\n        let subShapes = [];\n        for (const shape of shapes) {\n            subShapes = subShapes.concat(ShapeUtils.splitIntoSubShapes(shape));\n        }\n        return subShapes;\n    }\n\n    /**\n     * Calculate the angles between the successive path operations froming the shape\n     * @param shape \n     * @param multiplicator Multiplicators applied to the angle in radians. By default, will convert to degree\n     * @returns List of shape angles in degree\n     */\n    static shapeToAngles(shape : ShapeCommand, multiplicator = 180/Math.PI, relatedToOrigin = false)  : number[] {\n        const angles = [];\n\n        if (shape != null && shape.path.length > 2) {\n            const positionHistory : number[][] = [];\n            for (var i = 0; i < shape.path.length; ++i) {\n                const type = shape.path[i][0];\n\n                if (type === ShapeCommand.types.BEGIN) {\n                    continue; // Thse commands do not have x,y positions, so we skip them\n                } \n\n                let x = 0;\n                let y = 0;\n                if (type === ShapeCommand.types.CLOSE) {\n                    x = positionHistory[0][0]\n                    y = positionHistory[0][1]\n                } else {\n                    const args = shape.path[i][1];\n                    x = args[0];\n                    y = args[1];\n                }\n                \n                positionHistory.push([x, y]);\n                \n                if (relatedToOrigin) {\n                    if (positionHistory.length >= 2) {\n                        const p1 = positionHistory[positionHistory.length-2];\n                        const p2 = positionHistory[positionHistory.length-1];\n    \n                        const angleRad = Math.atan2(p1[1] - p2[1], p1[0] - p2[0]);\n                        const angle = Math.round(angleRad * multiplicator);\n                        angles.push(angle)\n                    }\n                } else {\n                    if (positionHistory.length >= 3) {\n                        const p1 = positionHistory[positionHistory.length-3];\n                        const p2 = positionHistory[positionHistory.length-2];\n                        const p3 = positionHistory[positionHistory.length-1];\n    \n                        const dAx = p2[0] - p1[0];\n                        const dAy = p2[1] - p1[1];\n                        const dBx = p3[0] - p2[0];\n                        const dBy = p3[1] - p2[1];\n                        const angleRad = Math.atan2(dAx * dBy - dAy * dBx, dAx * dBx + dAy * dBy);\n                        const angleDeg = angleRad * 180/Math.PI;\n                        \n                        if (Math.abs(angleDeg) !== 0 && Math.abs(angleDeg) !== 180) { // Discard flat angles\n                            const angle = Math.round(angleRad * multiplicator);\n                            angles.push(angle)\n                        }\n                    }\n                }\n\n                \n            }  \n        }\n\n        return angles;\n    }\n\n    static isLine(shape : ShapeCommand) : boolean {\n        return ShapeUtils.shapeToAngles(shape).length === 0;\n    }\n\n    static isRectangle(shape : ShapeCommand) : boolean {\n        const angles = ShapeUtils.shapeToAngles(shape);\n        return angles.length === 3 && angles.every((e) => {return Math.abs(e) === 90});\n    }\n\n    // https://stackoverflow.com/a/11508164\n    static colorHexToRgb(hex : string) : number[] {\n        hex = hex.startsWith('#') ? hex.substring(1, hex.length) : hex;\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n    \n        return [r, g, b];\n    }\n\n    /**\n     * Test if a color is a color (as in, not black, white, or gray)\n     * @param hex \n     */\n    static isColor(hex : string) : boolean {\n        const rgb = ShapeUtils.colorHexToRgb(hex);\n        return !(rgb[0] === rgb[1] && rgb[1] === rgb[2]);\n    }\n}","import MathUtils from \"../../utils/MathUtils\";\nimport ShapeUtils from \"../../utils/ShapeUtils\";\nimport AxisCoordinate1D from \"../AxisCoordinate1D\";\nimport AxisCoordinate2D from \"../AxisCoordinate2D\";\nimport ShapeCommand from \"../ShapeCommand\";\nimport Axis from \"./Axis\";\nimport ErrorBar from \"./ErrorBar\";\n\nexport enum ChartElementType {\n    AXIS,\n    BAR,\n    LINE,\n    SCATTER,\n    ERRORBAR,\n    BOX_PLOT,\n    BOX_PLOT_Q1,\n    BOX_PLOT_Q3,\n    BOX_PLOT_MIN,\n    BOX_PLOT_MAX\n}\n\nexport default class ChartElement {\n    _type : ChartElementType;\n    name : string;\n    _data : AxisCoordinate2D[];\n    shapes : ShapeCommand[];\n    linkedElements : ChartElement[];\n    mainColor : string;\n    canBeInterpolated : boolean;\n    _canHaveErrorBars : boolean;\n\n    constructor(type : ChartElementType, name : string) {\n        this._type = type;\n        this.name = name;\n        this._data = [];\n        this.shapes = [];\n        this.mainColor = null;\n        this.linkedElements = [null, null]; // The first are always reserved for errorbars\n        this.canBeInterpolated = type === ChartElementType.LINE; // Only lines can be interpolated\n        this._canHaveErrorBars = type !== ChartElementType.BOX_PLOT; // Only boxplots cannot have error bars\n    }\n\n    get data() : AxisCoordinate2D[] {\n        return this._data;\n    }\n\n    set data(d : AxisCoordinate2D[]) {\n        this._data = d;\n    }\n\n    /**\n     * Copy another ChartElement\n     * @param {ChartElement} elementToCopy \n     */\n    copy(elementToCopy : ChartElement, axisX : Axis, axisY : Axis) : void {\n        this._type = elementToCopy._type;\n        this.name = elementToCopy.name;\n        this._data = [];\n        for (var coord of elementToCopy.data) {\n            this._data.push(coord.clone(axisX, axisY));\n        }\n        this.linkedElements = [...elementToCopy.linkedElements];\n        // Shallow copy of shapes here\n        // Shapes should not be cloned, we assume that the shape referenced still exists\n        this.shapes = [...elementToCopy.shapes];\n    }\n\n    /**\n     * Creates a copy of this element\n     * @returns The cloned element\n     */\n    clone(axisX : Axis, axisY : Axis) : ChartElement {\n        var copy = new ChartElement(this._type, this.name);\n        copy.copy(this, axisX, axisY);\n        return copy;\n    }\n\n    /**\n     * Test the object's type\n     * @param {ChartElement.type} type \n     */\n    is(type : ChartElementType) : boolean {\n        return this._type === type;\n    }\n\n    /**\n     * Returns the main color of this serie based on the selected shapes\n     */\n    getMainColor() : string {\n        // TODO: Reset main color everytime shapes is modified\n        if (this.mainColor !== null) {\n            return this.mainColor;\n        }\n\n        var colors = {};\n        var mainColor = null;\n        var mainColorfulColor = null;\n        for (var i = 0; i < this.shapes.length; ++i) {\n            var shape = this.shapes[i];\n            var color = shape.strokeStyle;\n            if (shape.isFilled) {\n                color = shape.fillStyle;\n            }\n            colors[color] = color in colors ? colors[color]+1 : 1;\n\n            if (mainColor === null || colors[color] > colors[mainColor]) {\n                mainColor = color;\n            }\n\n            if (ShapeUtils.isColor(color) && (mainColorfulColor === null || colors[color] > colors[mainColorfulColor])) {\n                mainColorfulColor = color;\n            }\n        }\n\n        this.mainColor = mainColorfulColor !== null ? mainColorfulColor : mainColor; // Prefer colorful colors over gray/white/black\n        return this.mainColor;\n    }\n\n    /**\n     * Get the serie's coordinate at the X position\n     * @param {String} x Value on the X axis\n     * @returns {AxisCoordinate1D} The y value if it exists, otherwise null\n     */\n    getAtTickX(x : string) : AxisCoordinate1D {\n        for (var i = 0; i < this.data.length; ++i) {\n            var pt = this.data[i];\n            if (pt.x.value === x) {\n                return pt.y;\n            }\n        }\n\n        return null;\n    }\n\n    getAtPixelX(pixelPosX : number, skipCount=0) : AxisCoordinate2D {\n        if (!this.canBeInterpolated) {\n            for (const coord of this.data) {\n                if (coord.x.pixel === pixelPosX) {\n                    if (skipCount === 0) {\n                        return coord;\n                    }\n                    skipCount--;\n                }\n            }\n            return null; // Value not found...\n        }\n\n        return MathUtils.interpolate(this.data, pixelPosX);\n    }\n\n    canHaveErrorBars() : boolean {\n        return this._canHaveErrorBars;\n    }\n\n    hasErrorBars() : boolean {\n        return this.linkedElements[0] !== null && this.linkedElements[1] !== null;\n    }\n\n    get upperErrorBar() : ErrorBar {\n        return this.linkedElements[0] as ErrorBar;\n    }\n\n    set upperErrorBar(errorBar : ErrorBar) {\n        this.linkedElements[0] = errorBar;\n    }\n\n    get lowerErrorBar() : ErrorBar {\n        return this.linkedElements[1] as ErrorBar;\n    }\n\n    set lowerErrorBar(errorBar : ErrorBar) {\n        this.linkedElements[1] = errorBar;\n    }\n}","import MathUtils from \"../../utils/MathUtils\";\nimport AxisCoordinate1D from \"../AxisCoordinate1D\";\nimport ChartElement, { ChartElementType } from \"./ChartElement\";\n\n\ninterface TickValue {\n    pixel : number,\n    value : string\n}\n\nexport enum Interpolation {\n    LINEAR,\n    CATEGORICAL\n}\n\nexport enum Direction {\n    X,\n    Y\n}\n\nexport default class Axis extends ChartElement {\n    _interpolation : Interpolation;\n    _direction : Direction;\n    ticks : TickValue[];\n    /**\n     * \n     * @param {Axis.interpolation} interpolation \n     */\n    constructor(name : string, interpolation : number, direction : number) {\n        super(ChartElementType.AXIS, name);\n        this._interpolation = interpolation;\n        this._direction = direction;\n        this.ticks = [];\n    }\n\n    /**\n     * Create a copy of this Axis element\n     * @returns {Axis} a copy of the element\n     */\n    clone() : Axis {\n        var copy = new Axis(this.name, this._interpolation, this._direction);\n        copy.copy(this, null, null);\n        copy.ticks = [];\n        for (var tick of this.ticks) {\n            copy.ticks.push({pixel: tick.pixel, value: tick.value});\n        }\n\n        return copy;\n    }\n\n    isHorizontal() : boolean {\n        return this._direction === Direction.X;\n    }\n\n    isVertical() : boolean {\n        return this._direction === Direction.Y;\n    }\n\n    /**\n     * Add the value and position of a tick on the axis\n     * If the axis is linear, only 2 tick values are needed\n     * @param {String} value \n     * @param {Number} pixelPos \n     */\n    addTickValue(value : string, pixelPos : number) : void {\n        this.ticks.push({value: value, pixel: pixelPos});\n\n        // If the value is not a number, set the axis as categorical\n        if (!this.isCategorical() && isNaN(value as any)) {\n            this._interpolation = Interpolation.CATEGORICAL;\n        }\n\n        // Keep the ticks sorted by their pixel position\n        this.ticks = this.ticks.sort(function(a, b) {\n            return a.pixel - b.pixel;\n        });\n    }\n\n    /**\n     * Convert a pixel position into the corresponding tick on the axis\n     * @param {Number} pixelPos \n     * @returns {String} tick value\n     */\n    pixelToTick(pixelPos : number) : any {\n        if (this.ticks.length === 0) {\n            // Not enough ticks to do the conversion, so we return the pixel position by default\n            return pixelPos;\n        }\n\n        if (this._interpolation === Interpolation.LINEAR && this.ticks.length > 1) {\n            // Works because ticks are sorted by pixel position\n            var minTick = this.ticks[0];\n            var maxTick = this.ticks[this.ticks.length-1];\n            var minValue = parseFloat(minTick.value);\n            var maxValue = parseFloat(maxTick.value);\n            \n            return MathUtils.project(pixelPos, minTick.pixel, maxTick.pixel, minValue, maxValue);\n        }\n\n        if (this._interpolation === Interpolation.CATEGORICAL && this.ticks.length > 1) {\n            // Categorical, we simply look for the closest tick\n            let closestTick = this.ticks[0];\n\n            for (let i = 1; i < this.ticks.length; ++i) {\n                const tick = this.ticks[i];\n                const dist = Math.abs(tick.pixel - pixelPos);\n                if (dist < Math.abs(closestTick.pixel - pixelPos)) {\n                    closestTick = tick;\n                }\n            }\n\n            return closestTick.value;\n        }\n\n        return this.ticks.length > 0 ? this.ticks[0].value : \"0\";\n    }\n\n    /**\n     * Convert a pixel position into the corresponding tick on the axis\n     * @param {Number} pixelPos \n     * @returns {String} tick value\n     */\n     tickToPixel(tick : string) : any {\n        if (this.ticks.length === 0) {\n            // Not enough ticks to do the conversion, so we return the tick converted to float by default\n            return parseFloat(tick);\n        }\n\n        if (this._interpolation === Interpolation.LINEAR && this.ticks.length > 1) {\n            // Works because ticks are sorted by pixel position\n            var minTick = this.ticks[0];\n            var maxTick = this.ticks[this.ticks.length-1];\n            var minValue = parseFloat(minTick.value);\n            var maxValue = parseFloat(maxTick.value);\n            var value = parseFloat(tick);\n            \n            return MathUtils.project(value, minValue, maxValue, minTick.pixel, maxTick.pixel);\n        }\n\n        if (this._interpolation === Interpolation.CATEGORICAL && this.ticks.length > 1) {\n            // Categorical, we simply look for the specified tick and return its pixel position\n            for (const t of this.ticks) {\n                if (t.value === tick) {\n                    return t.pixel;\n                }\n            }\n\n            // If we cannot find the tick, we arbitrarily return the first tick. TODO: Propagate error message?\n            return this.ticks[0].pixel;\n        }\n\n        // This should never be reached\n        return 0;\n    }\n\n\n    getTicks(n=null) : AxisCoordinate1D[] {\n        if (n === null) {\n            // Just return the list of ticks converted to the right type\n            const res = [];\n            for (const tick of this.ticks) {\n                res.push(new AxisCoordinate1D(tick.pixel, this));\n            }\n            return res;\n        }\n\n        if (this.ticks.length === 0 || n <= 0) {\n            return [];\n        }\n\n        var resampledTicks : AxisCoordinate1D[] = [];\n        var min = this.ticks[0].pixel;\n        var max = this.ticks[this.ticks.length-1].pixel;\n        var interval = n <= 1 ? 0 : (max-min)/(n-1);\n        \n        for (var i = 0; i < n; ++i) {\n            resampledTicks.push(new AxisCoordinate1D(min+interval*i, this));\n        }\n        return resampledTicks;\n    }\n\n    isCategorical() : boolean {\n        return this._interpolation === Interpolation.CATEGORICAL;\n    }\n\n    getInterpolationName() : string {\n        let str = Interpolation[this._interpolation].toLowerCase().replace(\"_\", \" \");\n        \n        if (str.length > 0) {\n            str = str[0].toUpperCase() + str.substr(1, str.length)\n        }\n\n        return str;\n    }\n\n    clear() : void {\n        this.ticks = [];\n        this.shapes = [];\n        this._interpolation = Interpolation.LINEAR;\n    }\n}","import Axis from \"./Axis\";\nimport ChartElement, { ChartElementType } from \"./ChartElement\";\n\n\nexport enum Bound {\n    UPPER,\n    LOWER\n}\n\nexport default class SubChartElement extends ChartElement {\n    _serie : ChartElement // Sub elements cannot live on their own, they are always associated with series\n    /**\n     * \n     */\n    constructor(type : ChartElementType, serie : ChartElement, name : string) {\n        super(type, name);\n        this._serie = serie;\n    }\n\n    /**\n     * Create a copy of this ErrorBar element\n     * @returns {ErrorBar} a copy of the element\n     */\n    clone(axisX : Axis, axisY : Axis) : SubChartElement {\n        var copy = new SubChartElement(this._type, this._serie, this.name);\n        copy.copy(this, axisX, axisY);\n        return copy;\n    }\n\n    getMainColor() : string {\n        // Inherit the color of the associated serie\n        return this._serie.getMainColor();\n    }\n\n    getMainSerie() : ChartElement {\n        return this._serie;\n    }\n\n    canHaveErrorBars() : boolean {\n        return false;\n    }\n}","import Axis, { Direction, Interpolation } from \"./chartelements/Axis\";\nimport ChartElement, { ChartElementType } from \"./chartelements/ChartElement\";\nimport SubChartElement from \"./chartelements/SubChartElement\";\n\nexport default class DataTable {\n    name : string;\n    axisX : Axis;\n    axisY : Axis;\n    series : ChartElement[];\n\n    constructor() {\n        this.name = \"Chart Title\";\n        this.axisX = new Axis(\"Horizontal (X) Axis\", Interpolation.LINEAR, Direction.X);\n        this.axisY = new Axis(\"Vertical (Y) Axis\", Interpolation.LINEAR, Direction.Y);\n\n        this.series = [];\n    }\n\n    clone() : DataTable {\n        var copy = new DataTable();\n        copy.axisX = this.axisX.clone();\n        copy.axisY = this.axisY.clone();\n        copy.name = this.name;\n\n        var oldRefs : ChartElement[] = []; // Maintain a list of the old refs so that we can later fix broken links\n        \n        for (var i = 0; i < this.series.length; ++i) {\n            const oldRef = this.series[i];\n            const newRef = oldRef.clone(copy.axisX, copy.axisY);\n            oldRefs.push(oldRef);\n            copy.series.push(newRef);\n        }\n\n        // Fix broken references\n        for (var i = 0; i < copy.series.length; ++i) {\n\n            for (let j = 0; j < oldRefs[i].linkedElements.length; ++j) {\n                const linkedElement = oldRefs[i].linkedElements[j];\n                if (linkedElement !== null) {\n                    const idx = oldRefs.indexOf(linkedElement);\n                    copy.series[i].linkedElements[j] = copy.series[idx];\n                }\n            }\n\n            if (copy.series[i] instanceof SubChartElement) {\n                const mainSerie = (oldRefs[i] as SubChartElement)._serie;\n                (copy.series[i] as SubChartElement)._serie = copy.series[oldRefs.indexOf(mainSerie)];\n            }\n        }\n\n        return copy;\n    }\n}","export default class ShapeSelection {\n    rect : any;\n    shapesIdx : number[];\n    isDragged : boolean;\n\n    constructor() {\n        this.rect = null;\n        this.shapesIdx = [];\n        this.isDragged = false;\n    }\n\n    clone() : ShapeSelection {\n        var copy = new ShapeSelection();\n        copy.rect = {x: this.rect.x, y: this.rect.y, width: this.rect.width, height: this.rect.height};\n        copy.shapesIdx = [].concat(this.shapesIdx);\n\n        return copy;\n    }\n\n    isHidden() : boolean {\n        return this.rect === null;\n    }\n\n    clear() : void {\n        this.rect = null;\n        this.isDragged = false;\n        this.shapesIdx = [];\n    }\n}","export class Snackbar {\n\n    static _createSnackDiv() : HTMLDivElement {\n        var snackDiv = document.createElement(\"div\");\n        snackDiv.className = \"snackbar show\";\n        return snackDiv;\n    }\n\n    static _addSnackDiv(snackDiv : HTMLDivElement) : void {\n        var container = document.getElementById(\"snackbar-container\");\n        container.append(snackDiv);\n\n        // Remove the div after a bit to avoid having too many \"ghost divs\"\n       setTimeout(function() { \n            container.removeChild(snackDiv);\n        }, 4000);\n    }\n    \n    static addMessage(text : string, color : string = null, imgSrc : string = null) : void {\n        const snackDiv = this._createSnackDiv();\n\n        if (color !== null) {\n            snackDiv.style.backgroundColor = color;\n        }\n\n        if (imgSrc !== null) {\n            const imgDiv = document.createElement(\"div\");\n            const img = document.createElement(\"img\");\n            img.src = imgSrc;\n            imgDiv.append(img);\n            snackDiv.append(imgDiv);\n        }\n\n        snackDiv.append(text);\n        this._addSnackDiv(snackDiv);\n    }\n\n    static addWarningMessage(text : string, imgSrc : string = null) : void {\n        this.addMessage(text, \"rgb(185, 62, 65)\", imgSrc);\n    }\n\n    static addInfoMessage(text : string, imgSrc : string = null) : void {\n        this.addMessage(text, null, imgSrc);\n    }\n}","export default class Rectangle {\n    sx : number;\n    sy : number;\n    ex : number;\n    ey : number;\n\n    constructor(x : number, y : number, width : number, height : number) {\n        this.sx = x;\n        this.sy = y;\n        this.ex = x + width;\n        this.ey = y + height;\n    }\n\n    get x() : number {\n        return this.sx;\n    }\n\n    set x(v : number) {\n        var width = this.width;\n        this.sx = v;\n        this.ex = v+width;\n    }\n\n    get y() : number {\n        return this.sy;\n    }\n\n    set y(v : number) {\n        var height = this.height;\n        this.sy = v;\n        this.ey = v+height;\n    }\n\n    get width() : number {\n        return this.ex - this.sx;\n    }\n\n    get height() : number {\n        return this.ey - this.sy;\n    }\n\n    add(rect : Rectangle) : void {\n        this.sx = Math.min(this.sx, rect.sx);\n        this.sy = Math.min(this.sy, rect.sy);\n        this.ex = Math.max(this.ex, rect.ex);\n        this.ey = Math.max(this.ey, rect.ey);\n    }\n\n    clone() : Rectangle {\n        return new Rectangle(this.x, this.y, this.width, this.height);\n    }\n}","import Rectangle from \"../datastructure/Rectangle\";\nimport ShapeCommand from \"../datastructure/ShapeCommand\";\nimport Tesseract from 'tesseract.js';\n\n/**\n * A utility class that takes shapes and convert them to text, forming words (given that the selection include some 'Character' shapes).\n * Words are formed based on the positon and angle of the letters.\n * This class is still relatively basic, if needed, future improvements could include:\n * - Exploiting the already formed \"chunks\" of letters in the PDF (right now, letters are considered individually).\n * - Properly handling selections with letters using different angles (not sure what 'properly' would mean here).\n */\nexport default class TextMerger {\n    /**\n     * Make sense of shapes and try to form lines and words\n     * Also works for text that is rendered\n     * @param {[ShapeCommand]} shapes \n     */\n    static getTextsFromShapes(shapes : ShapeCommand[]) : Promise<TextChunk[][]> {\n        return new Promise((resolve, reject) => {\n            const result = TextMerger.getTextsFromTextShapes(shapes)\n\n            if (result === null) {\n                // No letters found, we try parsing the text instead\n                TextMerger.parseRenderedText(shapes).then((chunks) => {\n                    if (chunks.length > 0) resolve(TextMerger._chunksToLines(chunks));\n                })\n            } else {\n                resolve(result)\n            }\n        });\n    }\n\n    /**\n     * Make sense of \"text\" shapes and try to form lines and words\n     * @param shapes \n     * @returns \n     */\n    static getTextsFromTextShapes(shapes : ShapeCommand[]) : TextChunk[][] {\n        // First, we filter everything that is not text\n        var letterShapes : TextChunk[] = [];\n\n        for (var i = 0; i < shapes.length; ++i) {\n            if (shapes[i].text !== undefined) {\n                var shape = shapes[i];\n                letterShapes.push(new TextChunk(shape));\n            }\n        }\n\n        if (letterShapes.length === 0) {\n            return null;\n        }\n\n        return TextMerger._chunksToLines(letterShapes)\n    }\n\n    /**\n     * Form a 2D list of text chunks based on the spacings between letters\n     * @param letterShapes \n     * @returns \n     */\n    static _chunksToLines(letterShapes : TextChunk[]) : TextChunk[][] {\n        // Second, we sort the letters based on their position (using their aligned bounding boxes)\n        letterShapes = letterShapes.sort(function(a, b) {\n            return a.alignedRect.x - b.alignedRect.x;\n        });\n\n        // Third, we seperate the text into lines (if the text is on different lines)\n        var lines = [new TextLine(letterShapes[0])]; // Always at least one line\n        for (let i = 1; i < letterShapes.length; ++i) {\n            var chunk = letterShapes[i];\n            // Test if the chunk belongs to any existing line\n            var line : TextLine = null;\n            for (var j = 0; j < lines.length; ++j) {\n                if (lines[j].isOnLine(chunk)) {\n                    line = lines[j];\n                    break;\n                }\n            }\n            \n            if (line === null) {\n                // If not, this chunk is forming a new line\n                line = new TextLine(chunk);\n                lines.push(line);\n            } else {\n                line.addTextChunk(chunk);\n            }\n        }\n\n        // Fourth, sort the lines by their y position\n        lines = lines.sort(function(a, b) {\n            return a.alignedRect.y - b.alignedRect.y;\n        });\n\n        // Fourth, form the 2D table of line/words\n        var text = [];\n        lines.forEach(l => {\n            text.push(l.getWords());\n        })\n\n        return text;\n    }\n\n    /**\n     * Parse text using OCR. Only for rendered text.\n     */\n    static parseRenderedText(shapes : ShapeCommand[]) : Promise<TextChunk[]> {\n\n        if (shapes.length > 0) {\n            const rect = new Rectangle(shapes[0].rect.x, shapes[0].rect.y, shapes[0].rect.width, shapes[0].rect.height);\n\n            for (const shape of shapes) {\n                rect.add(new Rectangle(shape.rect.x, shape.rect.y, shape.rect.width, shape.rect.height))\n            }\n\n            var tmpCanvas = document.createElement('canvas');\n            tmpCanvas.width = rect.width;\n            tmpCanvas.height = rect.height;\n\n            var ctx = tmpCanvas.getContext('2d');\n            ctx.translate(-rect.x, -rect.y)\n            for (const shape of shapes) {\n                shape.draw(ctx);\n            }\n            ctx.translate(rect.x, rect.y)\n            \n            return new Promise((resolve, reject) => {\n                Tesseract.recognize(tmpCanvas, 'eng', { /*logger: m => console.log(m)*/ }).then((text) => {\n                    const chunks : TextChunk[] = [];\n                    for (const symbol of text.data.symbols) {\n                        const textChunk = new TextChunk(null, symbol.text, new Rectangle(symbol.bbox.x0+rect.x,\n                             symbol.bbox.y0+rect.y, \n                             symbol.bbox.x1-symbol.bbox.x0, \n                             symbol.bbox.y1-symbol.bbox.y0\n                            ))\n                        chunks.push(textChunk)\n                    }\n    \n                    resolve(chunks)\n                })\n            });\n        }\n    }\n\n    /**\n     * Make sense of shapes and returns a single string (with spaces between words, and \\n between lines)\n     * @param shapes \n     */\n    static getTextFromShapes(shapes : ShapeCommand[], wordSeparator=\" \", lineSeparator=\"\\n\") : Promise<string> {\n        return new Promise((resolve, reject) => {\n            TextMerger.getTextsFromShapes(shapes).then((texts) => {\n                resolve(texts.map(line => {\n                    return line.map(chunk => chunk.text).join(wordSeparator)\n                }).join(lineSeparator));\n            });\n        });\n    }\n}\n\nexport class TextChunk {\n    text : string;\n    rect : Rectangle;\n    alignedRect : Rectangle;\n\n    constructor(shape : ShapeCommand, unicode : string = null, rect : Rectangle = null) {\n        if (shape) {\n            this.text = shape.unicode;\n            this.rect = new Rectangle(shape.rect.x, shape.rect.y, shape.rect.width, shape.rect.height);\n            this.alignedRect = this.getAlignedBounds(shape);\n        } else {\n            this.text = unicode;\n            this.alignedRect = this.rect = rect;\n        }\n    }\n\n    /**\n     * \n     * @returns The average width of the letter composing the chunk\n     */\n    getLetterWidth() {\n        return this.alignedRect.width / this.text.length;\n    }\n\n    /**\n     * Exracts the rotation angle from a shape\n     * @param {ShapeCommand} shape \n     * @returns {Number} the angle in radians\n     */\n    extractAngle(shape : ShapeCommand) : number {\n        // We apply the transform and then measure the angle\n        var p0 = shape.transformPos(0, 0);\n        var p1 = shape.transformPos(1, 0);\n        var dx = p1.x - p0.x;\n        var dy = p1.y - p0.y;\n        return Math.atan2(dy, dx);\n    }\n    \n    /**\n     * Compute the aligned bouding box (i.e. not oriented)\n     * @param {ShapeCommand} shape \n     * @returns {Rectangle} \n     */\n    getAlignedBounds(shape : ShapeCommand) : Rectangle {\n        var bounds = shape.rect;\n        var angle = this.extractAngle(shape);\n        \n\t\tif (angle === 0) {\n\t\t\treturn new Rectangle(bounds.x, bounds.y, bounds.width, bounds.height);\n        }\n        \n        var transfo = new DOMMatrix();\n        transfo = transfo.rotateSelf(-angle * (180/Math.PI)); // rotateSelf takes degrees\n        \n\t\tvar ptA = new DOMPoint(bounds.x, bounds.y);\n\t\tvar ptB = new DOMPoint(bounds.x + bounds.width, bounds.y + bounds.height);\n\t\t\n\t\tvar ptDestA = ptA.matrixTransform(transfo);\n        var ptDestB = ptB.matrixTransform(transfo);\n        \n\t\tvar ox = Math.min(ptDestA.x, ptDestB.x);\n\t\tvar oy = Math.min(ptDestA.y, ptDestB.y);\n\t\tvar width = Math.abs(ptDestA.x - ptDestB.x);\n\t\tvar height = Math.abs(ptDestA.y - ptDestB.y);\n\t\t\n\t\treturn new Rectangle(ox, oy, width, height);\n    }\n\n    add(chunk : TextChunk) : void {\n        this.text += chunk.text;\n        this.alignedRect.add(chunk.alignedRect);\n        this.rect.add(chunk.rect);\n    }\n}\n\nclass TextLine {\n    textChunks : TextChunk[];\n    alignedRect : Rectangle;\n    _totalAvgLetterWidth : number;\n\n    constructor(initialChunk : TextChunk) {\n        this.textChunks = [initialChunk];\n        this.alignedRect = initialChunk.alignedRect.clone();\n        this._totalAvgLetterWidth = initialChunk.getLetterWidth();\n    }\n\n    addTextChunk(chunk : TextChunk) : void {\n        this.textChunks.push(chunk);\n        this.alignedRect.add(chunk.alignedRect);\n        this._totalAvgLetterWidth += chunk.getLetterWidth();\n    }\n\n    /**\n     * Test if a TextChunk is on this line\n     * @param chunk the chunk that is being tested\n     * @returns True if the TextChunk belongs to the line\n     */\n    isOnLine(chunk : TextChunk) : boolean {\n        // Belongs to the line if there is a height overlap\n        var a = chunk.alignedRect.sy;\n        var b = chunk.alignedRect.ey;\n        var c = this.alignedRect.sy;\n        var d = this.alignedRect.ey;\n        return  Math.max(0, Math.min(b, d) - Math.max(a, c)) !== 0;\n    }\n\n    getWords() {\n        var avgLetterWidth = this._totalAvgLetterWidth / this.textChunks.length;\n\n        // We split everytime the space between two letter is more than the width of an average letter\n        var words = [this.textChunks[0]];\n\n        for (var i = 1; i < this.textChunks.length; ++i) {\n            var chunk = this.textChunks[i];\n            var lastChunk = words[words.length-1];\n            var space = chunk.alignedRect.sx - lastChunk.alignedRect.ex;\n            if (space >= avgLetterWidth) {\n                words.push(chunk);\n            } else {\n                lastChunk.add(chunk);\n            }\n        }\n\n        return words;\n    }\n}","import Axis from \"../../datastructure/chartelements/Axis\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport { Snackbar } from \"../Snackbar\";\nimport TextMerger from \"../TextMerger\";\nimport { TextChunk } from \"../TextMerger\";\nimport ShapeUtils from \"../ShapeUtils\";\n\nexport default class AxisExtractor {\n    axis: Axis;\n\n    constructor(axis : Axis) {\n        this.axis = axis;\n    }\n\n    getAccurateTickPos(labelShape : TextChunk, shapes : ShapeCommand[]) : number {\n        // The selection might contain tick marks / gridlines (i.e., a line that helps see were the label is postionned)\n        // We try to extract these marks because they are often the most accurate depiction of the position\n        for (const mainShape of shapes) {\n            const subShapes = ShapeUtils.splitIntoSubShapes(mainShape); // Sometimes, the gridlines are grouped (e.g., excel)\n            for (const shape of subShapes) {\n                if (shape.text === undefined && shape.path.length <= 3) { // Only consider shapes that are lines and not words\n                    let distFromLabel =  labelShape.rect.y - (shape.rect.y + shape.rect.height);\n                    if (this.axis.isVertical()) {\n                        distFromLabel = shape.rect.x - (labelShape.rect.x+labelShape.rect.width);\n                    }\n                    \n                    // The mark has to start AFTER the label (ideally, immediately after)\n                    if (distFromLabel < 0 || distFromLabel > labelShape.rect.width*4) { // We use the label width to have a value that is proportional to the chart \n                        continue;\n                    }\n    \n                    let labelLowerBound = labelShape.rect.x\n                    let labelUpperBound = labelShape.rect.x + labelShape.rect.width;\n                    let shapeLowerBound = shape.rect.x\n                    let shapeUpperBound = shape.rect.x + shape.rect.width;\n    \n                    if (this.axis.isVertical()) {\n                        labelLowerBound = labelShape.rect.y\n                        labelUpperBound = labelShape.rect.y + labelShape.rect.height;\n                        shapeLowerBound = shape.rect.y\n                        shapeUpperBound = shape.rect.y + shape.rect.height;\n                    }\n\n                    const pos = shapeLowerBound + (shapeUpperBound-shapeLowerBound)/2.0;\n                    if (pos > labelLowerBound && pos < labelUpperBound) {\n                        return pos;\n                    }\n                }\n            }\n        }\n\n        // If we cannot find any marks or gridlines, we just use the middle of the label\n        return this.axis.isVertical() ? labelShape.rect.y + labelShape.rect.height/2 :  labelShape.rect.x + labelShape.rect.width/2;\n    }\n\n    /**\n     * Clean-up the tick label to make sure it will be properly understood as a number\n     * @param tickLabel \n     */\n    cleanTickLabel(tickLabel : string) : string {\n        return tickLabel.replace(\"−\", \"-\"); // This is a different character and javascript does not see it as a valid minus symbol\n    }\n\n    isNumber(tickLabel : string) : boolean {\n        return !isNaN(tickLabel as any);\n    }\n\n    onShapesSelected(selectedShapes : ShapeCommand[], allShapes : ShapeCommand[] = []) : void {\n        TextMerger.getTextsFromShapes(selectedShapes).then (texts => {\n            if (texts === null) {\n                alert(\"No text found in selection\");\n                return;\n            }\n    \n            // We look for axis labels\n            const numberedTicks = [];\n            const stringTicks = [];\n            for (var lineId = 0; lineId < texts.length; ++lineId) {\n                for (var wordId = 0; wordId < texts[lineId].length; ++wordId) {\n                    var word = texts[lineId][wordId];\n    \n                    const position = this.getAccurateTickPos(word, allShapes);\n                    const label = this.cleanTickLabel(word.text);\n    \n                    if (label.trim().length > 0) {\n                        if (this.isNumber(label)) {\n                            numberedTicks.push({label: label, position: position});\n                        } else {\n                            stringTicks.push({label: label, position: position});\n                        }\n                    }\n                }\n            }\n            let ticks = [];\n            // If more than half the ticks are numbered, then we assume the rest was a mistake and do not include them\n            if (stringTicks.length > 0 && numberedTicks.length / (numberedTicks.length + stringTicks.length) > 0.5) {\n                ticks = ticks.concat(numberedTicks);\n                Snackbar.addWarningMessage(\"Tick(s) '\" + stringTicks.map((e) => {return e.label}).join(\", \") + \n                        \"' could not be parsed as numbers and were excluded from the selection.\")\n            } else {\n                // All ticks are of mostly the same type, no conflict\n                ticks = ticks.concat(numberedTicks);\n                ticks = ticks.concat(stringTicks);\n            }\n    \n            for (const tick of ticks) {\n                this.axis.addTickValue(tick.label, tick.position);\n            }\n            \n    \n            // Link the axis with the shapes\n            // TODO: Remove unused shapes\n            this.axis.shapes = this.axis.shapes.concat(selectedShapes);\n        });\n    }\n\n    get element() : Axis {\n        return this.axis;\n    }\n}\n","import DataTable from \"../datastructure/DataTable\";\nimport { Snackbar } from \"./Snackbar\";\n\nexport default class UndoManager {\n    undoHistory : DataTable[];\n    redoHistory : DataTable[];\n    dataTable : DataTable;\n\n    static _instance : UndoManager = null;\n\n    constructor() {\n        this.undoHistory = [];\n        this.redoHistory = [];\n    }\n\n    static get() : UndoManager {\n        if (UndoManager._instance === null) {\n            UndoManager._instance = new UndoManager();\n        }\n\n        return UndoManager._instance;\n    }\n\n    clearMemory() : void {\n        this.undoHistory = [];\n        this.redoHistory = [];\n    }\n\n    canUndo() : boolean {\n        return this.undoHistory.length > 0;\n    }\n\n    undo() : DataTable {\n        if (this.canUndo()) {\n            Snackbar.addInfoMessage(\"Undo\");\n            var state = this.undoHistory.pop()\n            this.redoHistory.push(this.cloneState());\n            return state;\n        }\n    }\n\n    canRedo() : boolean {\n        return this.redoHistory.length > 0;\n    }\n\n    redo() : DataTable {\n        if (this.canRedo()) {\n            Snackbar.addInfoMessage(\"Redo\");\n            var state = this.redoHistory.pop()\n            this.undoHistory.push(this.cloneState());\n            return state;\n        }\n    }\n\n    addUndoRestorePoint() : void {\n        this.undoHistory.push(this.cloneState());\n        // Redo history is not compatible anymore, we clear it\n        this.redoHistory = [];\n    }\n\n    /**\n     * Clone the necessary variables to restore the state usig #restoreState\n     * Used for Undo/Redo. \n     * This does not save the chart itself, therefore, restoring a state using a different\n     * chart will result in undefined behaviors.\n     */\n    cloneState() : DataTable {\n        return this.dataTable.clone();\n    }\n}","import React from 'react';\nimport ShapeCommand from '../datastructure/ShapeCommand';\nimport ShapeSelection from '../datastructure/ShapeSelection';\n\ninterface Coordinate {\n    x : number,\n    y : number\n}\n\ninterface DraggableShapeSelectionProps {\n    state : any\n    setState : any\n}\n\nexport default class DraggableShapeSelection extends React.Component<DraggableShapeSelectionProps, any> {\n    dragOffset : Coordinate;\n    mouseIntialPos : Coordinate;\n    scale : Coordinate;\n    translate : Coordinate;\n    globalMouseMoveListener : any;\n    globalMouseUpListener : any;\n    isVisible : boolean;\n\n    constructor(props : DraggableShapeSelectionProps) {\n        super(props);\n        this.dragOffset = {x: 0, y: 0};\n        this.mouseIntialPos = {x: 0, y: 0};\n\n        this.scale = {x: 1, y: 1};\n        this.translate = {x: 0, y: 0};\n\n        this.isVisible = true;\n    }\n\n    onMouseDown(event : MouseEvent) : void {\n        if (event.button === 0) {\n            this.getSelection().isDragged = true;\n            this.props.setState({shapeSelection: this.getSelection()});\n            this.mouseIntialPos = {x: event.clientX, y: event.clientY};\n            event.preventDefault();\n        }\n    }\n\n    getX() : number {\n        var selectionRect = this.getSelection().rect;\n        if (selectionRect === null) {\n            return 0;\n        }\n        return (selectionRect.x*this.scale.x+this.translate.x)-this.dragOffset.x;\n    }\n\n    getY() : number {\n        var selectionRect = this.getSelection().rect;\n        if (selectionRect === null) {\n            return 0;\n        }\n        return (selectionRect.y*this.scale.y+this.translate.y)-this.dragOffset.y;\n    }\n\n    updateSelectionPosition() : void {\n        var divSelection = document.getElementById(\"draggableSelection\");\n        if (divSelection !== null) {\n            // Modify the DOM directly to make movement smoother\n            divSelection.style.left = (this.getX()) + \"px\";\n            divSelection.style.top = (this.getY()) + \"px\";\n        }\n    }\n\n    onGlobalMouseMove(event : MouseEvent) : void {\n        if (this.getSelection().isDragged) {\n            this.dragOffset = {\n                x: this.mouseIntialPos.x-event.clientX,\n                y: this.mouseIntialPos.y-event.clientY\n            }\n            this.updateSelectionPosition();\n            event.preventDefault();\n        }\n    }\n\n    onGlobalMouseUp(event : MouseEvent) : void {\n        if (event.button === 0) {\n            // Move the rect back to its initial position\n            this.dragOffset = {x: 0, y: 0};\n            this.updateSelectionPosition();\n\n            if (this.getSelection().isDragged) {\n                this.getSelection().isDragged = false;\n                this.props.setState({shapeSelection: this.getSelection()});\n                this.forceUpdate();\n                event.preventDefault();\n            }\n        }\n    }\n\n    getShapesBBox(shapesIdx : number[]) : any {        \n        if (shapesIdx.length === 0) {\n            return null;\n        }\n        var shapes = this.props.state.filteredShapes;\n        var cmdRect = shapes[shapesIdx[0]].rect;\n        var corners = {\n            sx: cmdRect.x,\n            sy: cmdRect.y,\n            ex: cmdRect.x+cmdRect.width,\n            ey: cmdRect.y+cmdRect.height\n        };\n\n        for (var i = 1; i < shapesIdx.length; ++i) {\n            var cmd = shapes[shapesIdx[i]];\n            corners.sx = Math.min(corners.sx, cmd.rect.x);\n            corners.sy = Math.min(corners.sy, cmd.rect.y);\n            corners.ex = Math.max(corners.ex, cmd.rect.x+cmd.rect.width);\n            corners.ey = Math.max(corners.ey, cmd.rect.y+cmd.rect.height);\n        }\n        \n        return {x: corners.sx, y: corners.sy, width: corners.ex-corners.sx, height: corners.ey-corners.sy};\n    }\n\n    getSelection() : ShapeSelection {\n        return this.props.state.shapeSelection;\n    }\n\n    updateSelectionRect() {\n        var rect = this.getShapesBBox(this.getSelection().shapesIdx);\n        // Add some padding to the rect\n        var pad = 2;\n        rect = {x: rect.x-pad, y: rect.y-pad, \n            width: rect.width+pad*2, height: rect.height+pad*2};\n            \n        this.getSelection().rect = rect;\n        this.props.setState({shapeSelection: this.getSelection()});\n    }\n\n    addShapesIdx(shapesIdx : number[], invertedSelection = false) : void {\n        for (const shapeIdx of shapesIdx) {\n            const index = this.getSelection().shapesIdx.indexOf(shapeIdx);\n            if (index > -1) { // Shape already exists in selection\n                if (invertedSelection) {\n                    // Invert the selection, so we remove the shape\n                    this.getSelection().shapesIdx.splice(index, 1);\n                }\n                // Do nothing if not inverted, the element is already included...\n            } else {\n                this.getSelection().shapesIdx.push(shapeIdx)\n            }\n        }\n        this.updateSelectionRect();\n    }\n\n    hide() {\n        var canvas = document.getElementById(\"draggableSelection\") as HTMLCanvasElement;\n        if (canvas !== null) {\n            canvas.style.display = \"none\";\n            this.isVisible = false;\n        }\n    }\n\n    show() {\n        var canvas = document.getElementById(\"draggableSelection\") as HTMLCanvasElement;\n        if (canvas !== null) {\n            canvas.style.display = \"block\";\n            this.isVisible = true;\n        }\n    }\n\n    redraw() : void {\n        var canvas = document.getElementById(\"draggableSelection\") as HTMLCanvasElement;\n\n        // Draw the shapes in the selection rect\n        if (canvas !== null) {\n            var ctx = canvas.getContext(\"2d\");\n            \n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Only if the selection is being dragged, otherwise we'd rather see through it\n            if (this.getSelection().isDragged) {\n                var shapes = this.props.state.filteredShapes as ShapeCommand[];\n                var rect = this.getSelection().rect;\n                ctx.save();\n                ctx.scale(this.scale.x, this.scale.y);\n                ctx.translate(-rect.x, -rect.y);\n                for (var i = 0; i < this.getSelection().shapesIdx.length; ++i) {\n                    var cmd = shapes[this.getSelection().shapesIdx[i]];\n                    const alpha = cmd.globalAlpha;\n                    cmd.globalAlpha = 0.4;\n                    cmd.draw(ctx);\n                    cmd.globalAlpha = alpha;\n                }\n                ctx.restore();\n            }\n        }\n    }\n\n    clearShapes() : void {\n        this.getSelection().clear();\n        this.props.setState({shapeSelection: this.getSelection()});\n    }\n\n    componentDidMount() : void {\n        this.globalMouseMoveListener = this.onGlobalMouseMove.bind(this);\n        document.addEventListener('mousemove', this.globalMouseMoveListener);\n\n        this.globalMouseUpListener = this.onGlobalMouseUp.bind(this);\n        document.addEventListener('mouseup', this.globalMouseUpListener);\n        this.redraw();\n    }\n\n    componentDidUpdate() : void{\n        this.redraw();\n    }\n\n    render() : JSX.Element {\n        var selectionRect = this.getSelection().rect;\n        var selectionRectHTML = null;\n        var isDragging = false;\n        if (selectionRect !== null) {\n            var cursor = 'grab';\n            if (this.getSelection().isDragged) {\n                cursor = 'grabbing';\n                isDragging = true;\n            }\n            selectionRectHTML = (<canvas id=\"draggableSelection\" \n            onMouseDown={this.onMouseDown.bind(this) as any}\n            width={selectionRect.width*this.scale.x}\n            height={selectionRect.height*this.scale.y}\n            style={{position: 'absolute',\n                    left: this.getX(), \n                    top: this.getY(),\n                    display: this.isVisible ? \"block\" : \"none\",\n                    border: '1px solid rgba(81, 131, 251)', \n                    backgroundColor: 'rgba(0, 0, 0, 0)',\n                    pointerEvents: isDragging ? 'none' : 'all',\n                    cursor: cursor\n            }}\n            ></canvas>);\n        }\n\n        return selectionRectHTML;\n    }\n\n    componentWillUnmount() : void {\n        document.removeEventListener('mousemove', this.globalMouseMoveListener);\n        document.removeEventListener('mouseup', this.globalMouseUpListener);\n    }\n}","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport Rectangle from '../../datastructure/Rectangle';\nimport { VariableSizeGrid as Grid } from 'react-window';\n\n/**\n * A simple widget to show a table as a spreadsheet\n */\n\ninterface TableSelection {\n    startRow: number;\n    endRow: number;\n    startCol: number;\n    endCol: number;\n}\n\ninterface TableWidgetState {\n    selection: TableSelection,\n    editedCell: TableSelection,\n    gridWidth : number,\n    gridHeight : number\n}\n\nvar lastTableId = 0;\nexport default class TableWidget extends React.PureComponent<any, TableWidgetState> {\n    data: string[][];\n    title: string;\n    id: string;\n    floatingHeader: string;\n    floatingFooter: string;\n    colWidths: number[];\n    maxHeight: number;\n    maxWidth: number;\n    minWidth: number;\n    columnWidth: 50;\n    rowHeight: 22;\n    cellSelectedListener: any;\n    cellEditedListener: any;\n    cachedTable: JSX.Element;\n    lastRowCount: number;\n    lastColCount: number;\n    stickyGrid : any;\n    mainGrid : any;\n    hasHorizontalScrollbar : boolean;\n    hasVerticalScrollbar : boolean;\n\n\n    constructor(props: any) {\n        super(props);\n        this.data = [];\n        this.title = null;\n        this.id = \"table\" + (lastTableId++);\n        this.floatingHeader = null;\n        this.floatingFooter = null;\n        this.colWidths = [];\n\n        this.columnWidth = 50;\n        this.rowHeight = 22;\n\n        this.maxHeight = this.rowHeight * 6 + 1; // By default, we only show 5 rows\n        this.maxWidth = -1; // No max width by default\n        this.minWidth = 50;\n\n        this.cellSelectedListener = null;\n        this.cellEditedListener = null;\n\n        this.cachedTable = null;\n        this.lastRowCount = 0;\n        this.lastColCount = 0;\n\n        this.stickyGrid = React.createRef();\n        this.mainGrid = React.createRef();\n        this.hasHorizontalScrollbar = false;\n        this.hasVerticalScrollbar = false;\n\n        this.state = {\n            selection: null,\n            editedCell: null,\n            gridWidth: 200,\n            gridHeight : this.rowHeight\n        }\n    }\n\n    getData(): string[][] {\n        return this.data;\n    }\n\n    getTitle(): string {\n        return this.title;\n    }\n\n    getFloatingFooter(): string {\n        return this.floatingFooter;\n    }\n\n    getFloatingHeader(): string {\n        return this.floatingHeader;\n    }\n\n    updateDataTableSize(): void {\n        var dataTable = document.getElementById(this.id);\n        if (dataTable !== null) {\n            var scrollBarWidth = 0;\n            var scrollBarHeight = 0;\n\n            if (this.mainGrid.current !== null) {\n                const gridDiv = this.mainGrid.current._outerRef; // This should point directly to the grid's div\n                scrollBarWidth = gridDiv.offsetWidth - gridDiv.clientWidth;\n                scrollBarHeight = gridDiv.offsetHeight - gridDiv.clientHeight;\n            }\n\n            this.hasHorizontalScrollbar = scrollBarHeight > 0;\n            this.hasVerticalScrollbar = scrollBarWidth > 0;\n\n            this.setState({\n                gridWidth: dataTable.clientWidth,\n                gridHeight: Math.min(this.getHeight() + scrollBarHeight, this.maxHeight)\n            });\n        }\n    }\n\n    componentDidUpdate(): void {\n        this.updateDataTableSize();\n    }\n\n    componentDidMount(): void {\n        this.updateDataTableSize();\n    }\n\n    getColWidth(columnId: number): number {\n        if (columnId < this.colWidths.length) {\n            return this.colWidths[columnId];\n        }\n        return this.columnWidth;\n    }\n\n    /**\n        Returns the rectangle (i.e. coordinates and size) of a specific cell\n     */\n    getCellRect(colId: number, rowId: number): Rectangle {\n        var rowHeight = this.rowHeight;\n        var y = rowHeight * rowId;\n\n        // We take into account that columns' width can vary\n        var x = 0;\n        for (var i = 0; i < colId; ++i) {\n            x += this.getColWidth(i);\n        }\n\n        return new Rectangle(x, y, this.getColWidth(colId), rowHeight);\n    }\n\n    isCellSelectable(col: number, row: number): boolean {\n        return true;\n    }\n\n    isCellEditable(col: number, row: number): boolean {\n        return true;\n    }\n\n    onCellClicked(event: React.MouseEvent<Element, MouseEvent>, col: number, row: number): void {\n        if (this.state.editedCell !== null) {\n            // This might happen if we click out of the editing by clicking another cell\n            this.onEditingComplete();\n        }\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (this.isCellEditable(col, row)) {\n            var editionCell = document.getElementById(this.id + \"_editionCell\") as HTMLInputElement;\n            if (editionCell !== null) {\n                let data = \"\";\n                const rawData = this.getData();\n                if (row < rawData.length && col < rawData[row].length) {\n                    data = rawData[row][col];\n                }\n                editionCell.value = data;\n                editionCell.focus();\n            }\n            this.setState({ editedCell: { startRow: row, startCol: col, endRow: row, endCol: col } });\n        }\n    }\n\n    onEditingComplete(cancel = false): void {\n        if (!cancel && this.state.editedCell !== null) {\n            this.cachedTable = null; // Value might have been modified, just in case, we force a table to be re-generated\n            var editionCell = document.getElementById(this.id + \"_editionCell\") as HTMLInputElement;\n            if (this.cellEditedListener !== null) {\n                this.cellEditedListener.call(this, this.state.editedCell.startCol, this.state.editedCell.startRow, editionCell.value);\n            }\n        }\n        this.setState({ editedCell: null });\n    }\n\n    onCellHovered(event: React.MouseEvent<Element, MouseEvent>, col: number, row: number): void {\n        if (this.isCellSelectable(col, row) && !this.props.state.shapeSelection.isDragged) {\n            if (this.state.selection === null || col != this.state.selection.startCol || row != this.state.selection.startRow) {\n                this.setState({ selection: {\n                    startRow: row, startCol: col, endRow: row, endCol: col\n                }});\n    \n                if (this.cellSelectedListener !== null) {\n                    this.cellSelectedListener.call(this, col, row);\n                }\n            }\n        } else {\n            this.onCellUnhovered();\n        }\n    }\n\n    onCellUnhovered(): void {\n        this.setState({ selection: null });\n        if (this.cellSelectedListener !== null) {\n            this.cellSelectedListener.call(this, -1, -1);\n        }\n    }\n\n\n    /**\n     * Get the number of columns of the table\n     */\n    getColCount(): number {\n        var count = 0;\n        if (this.getData().length > 0) {\n            // Assume that all rows have the same length\n            count = this.getData()[0].length;\n        }\n\n        return count;\n    }\n\n    /**\n     * Get the number of rows of the table\n     */\n    getRowCount(): number {\n        return this.getData().length;\n    }\n\n    getWidth(): number {\n        var width = 0;\n        var colCount = this.getColCount();\n        for (var i = 0; i < colCount; ++i) {\n            width += this.getColWidth(i);\n        }\n        return Math.max(this.minWidth, Math.min(width + 1, this.maxWidth <= 0 ? 99999999 : this.maxWidth));\n    }\n\n    getHeight(): number {\n        var nbRow = this.getRowCount();\n\n        return Math.min(this.rowHeight * nbRow + 1, this.maxHeight);\n    }\n\n    getFloatingHeaderHTML(): JSX.Element {\n        return (\n            <div style={{ left: '50%', width: '100%', top: '50%', transform: 'translate(-50%, -50%)', position: 'absolute' }}>\n                {this.getFloatingHeader()}\n            </div>\n        );\n    }\n\n    getFloatingFooterHTML(): JSX.Element {\n        return (\n            <div style={{ left: '50%', width: '100%', top: '50%', transform: 'translate(-50%, -50%)', position: 'absolute' }}>\n                {this.getFloatingFooter()}\n            </div>\n        );\n    }\n\n    onMainGridScrolled(scroll, scrollUpdateWasRequested) {\n        if (this.stickyGrid.current !== null && !scrollUpdateWasRequested) {\n            this.stickyGrid.current.scrollTo({scrollLeft: scroll.scrollLeft, scrollTop:scroll.scrollTop});\n        }\n    }\n\n    scrollToRow(rowId : number) {\n        if (this.mainGrid.current !== null && this.hasVerticalScrollbar) {\n            this.mainGrid.current.scrollToItem({align: \"end\", rowIndex: rowId});\n        }\n    }\n\n    getCellStyle(col : number, row : number) {\n        return {backgroundColor: \"#ffffff\"}\n    }\n\n    getColumnStickyCount() {\n        return 0;\n    }\n\n    getColumnStickyWidth() {\n        return 0;\n    }\n\n    getColumnStickyHTML() {\n        return null;\n    }\n\n    /**\n     * This content is placed inside the grid's div. Useful to make overlays.\n     */\n    getGridOverlay() {\n        var selectionRect = null;\n        if (this.state !== null && this.state.selection !== null) {\n            var selection: TableSelection = this.state.selection;\n            selectionRect = this.getCellRect(selection.startCol, selection.startRow);\n            selectionRect.add(this.getCellRect(selection.endCol, selection.endRow));\n        }\n\n        var editionRect = { x: -200, y: -200, width: 0, height: 0 };\n        if (this.state !== null && this.state.editedCell !== null) {\n            // Only support edition of a single cell\n            editionRect = this.getCellRect(this.state.editedCell.startCol, this.state.editedCell.startRow);\n        }\n\n        return <Fragment>{selectionRect !== null &&\n            <div style={{  position: 'absolute', top: selectionRect.y + 1, left: selectionRect.x + 1, width: selectionRect.width - 1, height: selectionRect.height - 1, border: \"2px solid rgb(79, 140, 252)\", boxSizing: 'border-box' , pointerEvents: 'none'}}>\n            </div>\n        }\n        <input type=\"text\" id={this.id + \"_editionCell\"}\n            onBlur={e => this.onEditingComplete()}\n            onKeyDown={e => {\n                if (e.key === 'Enter') { this.onEditingComplete() }\n                if (e.key === 'Escape') { this.onEditingComplete(true) }\n            }}\n            style={{\n                position: 'absolute',\n                top: editionRect.y + 1, left: editionRect.x + 1, width: editionRect.width - 1, height: editionRect.height - 1,\n                border: \"2px solid rgb(79, 140, 252)\", boxSizing: 'border-box'\n            }}\n        />\n        </Fragment>\n    }\n\n    getTableHTML() {\n        var height = this.getHeight();\n        const self = this;\n        const Cell = ({ columnIndex, rowIndex, style }) => (\n            <div className={\"tableCell \" + \n                            (columnIndex % 2 === 0 ? \"evenCol \" : \"oddCol \") +\n                            (rowIndex % 2 === 0 ? \"evenRow \" : \"oddRow \") +\n                            (rowIndex === 0 ? \"firstRow \" : \"\") + \n                            (columnIndex === 0 ? \"firstCol \" : \"\") + \n                            (rowIndex === this.getRowCount()-1 ? \"lastRow \" : \"\") + \n                            (columnIndex === this.getColCount()-1 ? \"lastCol \" : \"\")\n                        }\n                style={{...style, ...this.getCellStyle(columnIndex, rowIndex), width: this.getColWidth(columnIndex), pointerEvents: 'auto', cursor: \"default\"}}\n\n                onMouseOver={this.props.state.shapeSelection.isDragged ? null : (e => this.onCellHovered(e, columnIndex, rowIndex))}\n                onMouseDown={e => this.onCellClicked(e, columnIndex, rowIndex)}>\n                {self.data[rowIndex][columnIndex]}\n            </div>\n        );\n\n        return <div id={this.id} style={{ position: 'relative', display: 'flex', flexDirection: 'row', width: '100%'}} onMouseLeave={e => this.onCellUnhovered()}>\n        {this.getColumnStickyCount() > 0 &&\n            <Grid\n                ref={this.stickyGrid}\n                style={{ overflowX: this.hasHorizontalScrollbar ? \"scroll\" : \"hidden\", overflowY: \"hidden\", minWidth: this.getColumnStickyWidth() }}\n                columnCount={this.getColumnStickyCount()}\n                columnWidth={index => this.getColumnStickyWidth() / this.getColumnStickyCount()}\n                height={this.state.gridHeight}\n                rowCount={this.getRowCount()}\n                rowHeight={_ => this.rowHeight}\n                width={this.getColumnStickyWidth()}\n            >\n                {this.getColumnStickyHTML()}\n            </Grid>\n        }\n        <Grid\n            onScroll={this.onMainGridScrolled.bind(this)}\n            style={{ }}\n            ref={this.mainGrid}\n            columnCount={this.getColCount()}\n            columnWidth={index => self.getColWidth(index)}\n            height={this.state.gridHeight}\n            rowCount={this.getRowCount()}\n            rowHeight={_ => this.rowHeight}\n            width={this.state.gridWidth}\n        >\n            {Cell}\n        </Grid>\n    </div>\n    }\n\n    render(): JSX.Element {\n        var width = this.getWidth();\n        this.data = this.getData();\n\n        var res = (\n            <div style={{position: \"relative\"}}>\n                {this.getFloatingHeader() !== null &&\n                    <div className=\"tableFloatingHeader\" style={{width: \"100%\", height: this.rowHeight + 1 }}>\n                        {this.getFloatingHeaderHTML()}\n                    </div>\n                }\n\n                {this.getTableHTML()}\n\n                {this.mainGrid.current !== null && ReactDOM.createPortal(\n                        this.getGridOverlay(),\n                        this.mainGrid.current._outerRef\n                    )}\n\n                {this.getFloatingFooter() !== null &&\n                    <div className=\"tableFloatingFooter\" id={this.id + \"_footer\"} style={{width: width - 2, height: this.rowHeight }}>\n                        {this.getFloatingFooterHTML()}\n                    </div>\n                }\n\n                {this.props.children}\n            </div>);\n        return res;\n    }\n}","import React from 'react';\nimport ShapeCommand from '../datastructure/ShapeCommand';\nimport { Snackbar } from '../utils/Snackbar';\nimport {ChartExtractorState} from './ChartExtractor';\n\ninterface DropZoneProps {\n    state : ChartExtractorState;\n    setState : any;\n    onShapesDropped : any;\n    style : React.CSSProperties;\n    text : string;\n    isSelectionAccepted? : (shapes: ShapeCommand[]) => boolean; /* Disable the dropzone depending on the selection */\n    recommendedDropCount? : number /* Dropzone is recommended up until a limited number of drops */\n}\n\nexport enum DropZoneState {\n    RECOMMENDED, /* Dropzone is always highlighted (when drag n drop is happening) */\n    NEUTRAL, /* Dropzone is only highlighted when hovered */\n    DISABLED /* Dropzone cannot be used + blocked on hover */\n}\n\nexport const AcceptFilter = {\n    TextOnly: (shapes : ShapeCommand[]) => {return shapes.some((s) => s.unicode !== undefined);},\n    TextOrShape: (shapes : ShapeCommand[]) => {return shapes.length > 0;},\n    ShapeOnly: (shapes : ShapeCommand[]) => {return shapes.every((s) => s.unicode === undefined);}\n}\n\nexport default class DropZone extends React.Component<DropZoneProps, any> {\n    dropCount: number;\n\n    constructor(props) {\n        super(props)\n        this.dropCount = 0;\n    }\n\n    getSelectedShapes() : ShapeCommand[] {\n        var shapes  = [];\n        var shapesIdx = this.props.state.shapeSelection.shapesIdx;\n\n        for (var i = 0; i < shapesIdx.length; ++i) {\n            shapes.push(this.props.state.filteredShapes[shapesIdx[i]]);\n        }\n        return shapes;\n    }\n\n    getDropZoneState(shapes = undefined) : DropZoneState {\n        const _shapes = shapes === undefined? this.getSelectedShapes() : shapes;\n\n        if (!this.isSelectionValid(shapes)) {\n            return DropZoneState.DISABLED;\n        }\n\n        if (this.props.recommendedDropCount !== undefined && this.dropCount >= this.props.recommendedDropCount) {\n            return DropZoneState.NEUTRAL;\n        }\n\n        return DropZoneState.RECOMMENDED;\n    }\n\n    onMouseUp(event : MouseEvent) : void {\n        var shapeSelection = this.props.state.shapeSelection;\n        if (shapeSelection.isDragged) {\n            // DraggableShapeSelection dropped in the zone\n            const shapes = this.getSelectedShapes();\n            if (this.isSelectionValid(shapes)) {\n                if (this.props.onShapesDropped(shapes)) {\n                    // Processing is successful, we clear the selection\n                    this.dropCount += 1;\n                    shapeSelection.clear();\n                    this.props.setState({shapeSelection: shapeSelection});\n                } else {\n                    Snackbar.addWarningMessage(\"The selection could not be processed.\");\n                }\n            } else {\n                // We should give a brief explanation of why was the selection considered as invalid\n                Snackbar.addWarningMessage(this.getSelectionInvalidReason());\n            }\n        }\n    }\n\n    getSelectionInvalidReason() : string {\n        if (this.props.isSelectionAccepted === AcceptFilter.ShapeOnly) {\n            return \"The selection contains textual elements. You cannot drop textual elements in this dropzone.\";\n        }\n        if (this.props.isSelectionAccepted === AcceptFilter.TextOnly) {\n            return \"The selection does not contain any textual element. This dropzone only accepts textual elements.\";\n        }\n        return \"You cannot drop these elements in this dropzone.\"\n    }\n\n    isSelectionValid(shapes = undefined) {\n        if (this.props.isSelectionAccepted === undefined) {\n            return true; // Always valid if no selection filter\n        }\n\n        // Convert the ShapeSelection to the list of shapes so that the filter can make sense of it.\n        return this.props.isSelectionAccepted(shapes === undefined ? this.getSelectedShapes() : shapes);\n    }\n\n    render() : JSX.Element {\n        if (!this.props.state.shapeSelection.isDragged) {\n            // We only show the drop zone while the selection is dragged, and the selection is valid\n            return null;\n        }\n\n        var className = \"dropZone\";\n        const dropZoneState = this.getDropZoneState();\n\n        if (dropZoneState === DropZoneState.DISABLED) {\n            className += \" disabledDropZone\"\n        }\n\n        if (dropZoneState === DropZoneState.NEUTRAL) {\n            className += \" neutralDropZone\"\n        }\n\n        return (<div className={className}\n        onMouseUp={this.onMouseUp.bind(this) as any}\n        style={this.props.style}\n        ><div className='dropZoneLabel'>{this.props.text}</div></div>);\n    }\n}","import React, { Fragment } from 'react';\nimport TableWidget from './TableWidget';\nimport DropZone, { AcceptFilter } from '../DropZone';\nimport AxisExtractor from '../../utils/extractors/AxisExtractor';\nimport TextMerger from '../../utils/TextMerger';\nimport ShapeCommand from '../../datastructure/ShapeCommand';\nimport AxisCoordinate2D from '../../datastructure/AxisCoordinate2D';\nimport AxisCoordinate1D from '../../datastructure/AxisCoordinate1D';\nimport { OverlayType } from '../../datastructure/Overlay';\nimport UndoManager from '../../utils/UndoManager';\nimport { Interpolation } from '../../datastructure/chartelements/Axis';\n\n/**\n * A widget to show a table representing an axis\n * Shapes can be dropped in the table to fill it.\n */\nexport default class AxisWidget extends TableWidget {\n    constructor(props) {\n        super(props);\n\n        this.cellSelectedListener = this.onCellSelectedCallback.bind(this);\n        this.cellEditedListener = this.onCellEditedCallback.bind(this);\n    }\n\n    getData() : string[][] {\n        var data = [[\"Value\"], [\"Pixel\"]];\n\n        for (var i = 0; i < this.props.axis.ticks.length; ++i) {\n            var tick = this.props.axis.ticks[i];\n            data[1].push(tick.pixel);\n            data[0].push(tick.value);\n        }\n\n        // Add at least two column so that the table doesn't look too small\n        while (data[0].length <= 2) {\n            data[0].push(\"\");\n            data[1].push(\"\");\n        }\n\n        return data;\n    }\n\n    isCellSelectable(col : number, row : number) : boolean {\n        return col > 0; // Cells on the first column cannot be edited because they are labels\n    }\n\n    isCellEditable(col : number, row : number) : boolean {\n        return col > 0; // Cells on the first column cannot be edited because they are labels\n    }\n\n    getHeaders() : string[] {\n        // No headers\n        return null;\n    }\n\n    getFloatingHeader() : string {\n        return this.props.axis.name;\n    }\n\n\n    onShapesDroppedOnTicks(shapes : ShapeCommand[]) : boolean {\n        var extractor = new AxisExtractor(this.props.axis);\n        UndoManager.get().addUndoRestorePoint();\n        extractor.onShapesSelected(shapes, this.props.shapes);\n        this.cachedTable = null;\n        return true;\n    }\n\n    updateDatatable() : void {\n        this.props.setState({dataTable: this.props.state.dataTable});\n    }\n\n    onShapesDroppedOnTitle(shapes : ShapeCommand[]) : boolean {\n        TextMerger.getTextFromShapes(shapes).then(value => {\n            if (value === null) {\n                alert(\"No text found in selection\");\n            }\n            UndoManager.get().addUndoRestorePoint();\n            this.props.axis.name = value;\n            this.updateDatatable();\n        });\n        return true;\n    }\n\n    onClearButton(event : any) : void {\n        UndoManager.get().addUndoRestorePoint();\n        this.props.axis.clear();\n        this.cachedTable = null;\n        this.updateDatatable();\n    }\n\n    onInterpolationButton(event : any) : void {\n        UndoManager.get().addUndoRestorePoint();\n        this.props.axis._interpolation = this.props.axis.isCategorical() ? Interpolation.LINEAR : Interpolation.CATEGORICAL;\n        this.updateDatatable();\n    }\n\n    getFloatingHeaderHTML() : JSX.Element {\n        return(<div style={{ width: '100%', height: '100%', position: 'relative' }}>\n            <div style={{left: '0%', width: '90%', top: '50%', transform: 'translate(0%, -50%)', position: 'absolute'}}>\n                {this.getFloatingHeader()}\n            </div>\n            <div style={{right: 1, top: '50%', transform: 'translate(0%, -50%)', position: 'absolute'}}>\n                <button style={{marginRight:3}} className=\"button small gray tooltip\" onClick={this.onInterpolationButton.bind(this)}>{this.props.axis.getInterpolationName()}</button>\n                <button className=\"button small gray tooltip\" onClick={this.onClearButton.bind(this)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\n            </div>\n            <DropZone\n                isSelectionAccepted={AcceptFilter.TextOnly}\n                recommendedDropCount={1}\n                state={this.props.state}\n                setState={this.props.setState}\n                style={{width: '100%', height: '100%', position: 'absolute', top: 0, left: 0}}\n                text=\"\"\n                onShapesDropped={this.onShapesDroppedOnTitle.bind(this)}\n            />\n        </div>)\n    }\n\n    onCellSelectedCallback(col : number, row : number) : void {\n        // Update the overlay\n        this.props.state.overlay.clear();\n        this.props.state.overlay.type = OverlayType.VERTICAL_GRIDLINE;\n        if (col >= 1 && col-1 < this.props.axis.ticks.length) { // Row titles cannot be edited\n            var tick = this.props.axis.ticks[col-1];\n            const coordFix = new AxisCoordinate1D(tick.pixel, this.props.axis);\n            const coordA = new AxisCoordinate1D(0, this.props.axis);\n\n            if (this.props.axis.isHorizontal()) {\n                this.props.state.overlay.points.push(new AxisCoordinate2D(coordFix, coordA));\n            } else {\n                this.props.state.overlay.type = OverlayType.HORIZONTAL_GRIDLINE;\n                this.props.state.overlay.points.push(new AxisCoordinate2D(coordA, coordFix));\n            }\n        }\n        \n        this.updateDatatable();\n    }\n\n    onCellEditedCallback(col : number, row : number, newVal : string) : void {\n        if (col >= 1) { // Row titles cannot be edited\n            UndoManager.get().addUndoRestorePoint();\n            if (col > this.props.axis.ticks.length) {\n                // If the tick does not exist, we add one\n                this.props.axis.addTickValue(newVal, parseFloat(newVal));\n            } else {\n                var tick = this.props.axis.ticks[col-1];\n                if (row == 0) {\n                    tick.value = newVal;\n                } else {\n                    tick.pixel = parseFloat(newVal)\n                }\n            }\n        }\n    }\n\n    getCellStyle(col : number, row : number) {\n        if (col === 0) {\n            return {backgroundColor: \"#f0f0f0\", textAlign: \"center\"};\n        }\n        return super.getCellStyle(col, row);\n    }\n\n    getGridOverlay(): JSX.Element {\n        // We modify the table to also add dropzones\n        this.cachedTable = null;\n        return (<Fragment>\n            {super.getGridOverlay()}\n            {/* Dropzone for the data */}\n            <DropZone\n                recommendedDropCount={1}\n                isSelectionAccepted={AcceptFilter.TextOrShape} // Could use OCR if necessary\n                state={this.props.state}\n                setState={this.props.setState}\n                style={{width: this.getWidth()-2, height: 42, position: 'absolute', top: 0, left: 0}}\n                text=\"\"\n                onShapesDropped={this.onShapesDroppedOnTicks.bind(this)}\n            /></Fragment>);\n    }\n\n}","import AxisCoordinate2D from \"../AxisCoordinate2D\";\nimport Axis from \"./Axis\";\nimport ChartElement, { ChartElementType } from \"./ChartElement\";\nimport SubChartElement from \"./SubChartElement\";\n\n\nexport enum Bound {\n    UPPER,\n    LOWER\n}\n\nexport default class ErrorBar extends SubChartElement {\n    _bound : Bound\n    /**\n     * \n     */\n    constructor(serie : ChartElement, bound : Bound) {\n        super(ChartElementType.ERRORBAR, serie, \"↳ Error \" + (bound === Bound.UPPER? \"⏉\" : \"⏊\"));\n        this._bound = bound;\n    }\n\n    get data() : AxisCoordinate2D[] {\n        // We make sure that the data is always at least the same size as the serie\n        if (this._data.length < this._serie.data.length) {\n            for (let i = this._data.length; i < this._serie.data.length; ++i) {\n                this._data.push(this._serie.data[i].clone());\n            }\n        }\n\n        return this._data;\n    }\n\n    /**\n     * Create a copy of this ErrorBar element\n     * @returns {ErrorBar} a copy of the element\n     */\n    clone(axisX : Axis, axisY : Axis) : ErrorBar {\n        var copy = new ErrorBar(this._serie, this._bound);\n        copy.copy(this, axisX, axisY);\n        return copy;\n    }\n\n    isUpperBound() : boolean {\n        return this._bound === Bound.UPPER;\n    }\n\n    isLowerBound() : boolean {\n        return this._bound === Bound.LOWER;\n    }\n}","import ChartElement from \"../../datastructure/chartelements/ChartElement\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport TextMerger from \"../TextMerger\";\n\nexport default class LegendExtractor {\n    element: ChartElement;\n\n    constructor(element : ChartElement) {\n        this.element = element;\n    }\n\n    onShapesSelected(shapes : ShapeCommand[]) : void {\n        // Algorithm to figure out the name of the legend associated with an element\n        // The algorithm looks for elements that match the series' characteristic (either color or shape)\n        // And then reads the text on its right. Should work in most cases.\n\n        // First, we get all the texts in the image\n        const textShapes : ShapeCommand[] = []\n        for (var i = 0; i < shapes.length; ++i) {\n            if (shapes[i].text !== undefined) {\n                var shape = shapes[i];\n                textShapes.push(shape);\n            }\n        }\n\n        // Second, find a line with the same color and extract the text at its right\n        const mainColor = this.element.getMainColor();\n        let candidateLegendShape = null;\n        let candidateLegend = [];\n        for (const shape of shapes) {\n            // TODO: Implement shape matching too\n            if (!this.element.shapes.includes(shape) && shape.strokeStyle === mainColor && shape.text === undefined) {\n                if (candidateLegendShape !== null && shape.rect.width*shape.rect.height > candidateLegendShape.rect.width*candidateLegendShape.rect.height) {\n                    continue; // If we already have a candidate legend, we only consider new legends if they are smaller\n                }\n                // We found a line with the same characteristics, let's look for text on its right\n                const candidateTextShapes = [];\n                for (const textShape of textShapes) {\n                    const dy = Math.abs((shape.rect.y+shape.rect.height/2)-(textShape.rect.y+textShape.rect.height/2));\n                    if (textShape.rect.x > shape.rect.x + shape.rect.width && dy < textShape.rect.height) {\n                        candidateTextShapes.push(textShape);\n                    }\n                }\n\n                if (candidateTextShapes.length > 0) {\n                    const text = TextMerger.getTextsFromTextShapes(candidateTextShapes)\n                    for (const line of text) {\n                        let startX = shape.rect.x + shape.rect.width;\n                        for (const word of line) {\n                            const dx = (word.rect.x - startX);\n                            if (dx < (word.rect.width/word.text.length)*2) {\n                                if (candidateLegendShape !== shape) {\n                                    candidateLegendShape = shape;\n                                    candidateLegend = [];\n                                }\n                                candidateLegend.push(word.text);\n                                startX = word.rect.x + word.rect.width;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        if (candidateLegend.length > 0) {\n            // We found the legend! We can rename the element\n            this.element.name = candidateLegend.join(\" \");\n        }\n    }\n}\n","import AxisCoordinate1D from \"../../datastructure/AxisCoordinate1D\";\nimport AxisCoordinate2D from \"../../datastructure/AxisCoordinate2D\";\nimport ChartElement from \"../../datastructure/chartelements/ChartElement\";\nimport DataTable from \"../../datastructure/DataTable\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport ShapeUtils from \"../ShapeUtils\";\nimport LegendExtractor from \"./LegendExtractor\";\n\nexport default class BarExtractor {\n    datatable : DataTable;\n    element : ChartElement;\n\n    constructor(datatable : DataTable, element : ChartElement) {\n        this.datatable = datatable;\n        this.element = element;\n    }\n\n    onShapesSelected(shapes : ShapeCommand[], allShapes : ShapeCommand[] = []) : void {\n        const shapesToLink = shapes;\n        if (shapes.length === 1) {\n            // It happens quite often that bars are drawn using a single shape (but multiple calls to moveto)\n            // When we receive only one shape, we look if it is possible to divide it into subshapes\n            shapes = ShapeUtils.splitIntoSubShapes(shapes[0]);\n        }\n\n        // We simply extract all the upper-most point of all shapes\n        for (const shape of shapes) {\n            const mx = shape.rect.x + shape.rect.width/2;\n            this.element.data.push(new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(shape.rect.y, this.datatable.axisY)));\n        }\n\n        // Link the element with the shapes\n        this.element.shapes = this.element.shapes.concat(shapesToLink);\n\n        // Automatically extract the name of the serie by looking for a legend\n        if (allShapes.length > 0) {\n            const legendExtractor = new LegendExtractor(this.element);\n            legendExtractor.onShapesSelected(allShapes);\n        }\n    }\n}\n","import AxisCoordinate1D from \"../../datastructure/AxisCoordinate1D\";\nimport AxisCoordinate2D from \"../../datastructure/AxisCoordinate2D\";\nimport ChartElement, { ChartElementType } from \"../../datastructure/chartelements/ChartElement\";\nimport SubChartElement from \"../../datastructure/chartelements/SubChartElement\";\nimport DataTable from \"../../datastructure/DataTable\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport ShapeUtils from \"../ShapeUtils\";\n\nexport default class BoxPlotExtractor {\n    datatable : DataTable;\n    serie : ChartElement;\n\n    constructor(datatable : DataTable, serie : ChartElement) {\n        this.datatable = datatable;\n        this.serie = serie;\n    }\n\n    groupShapesByCenterX(shapes : ShapeCommand[]) {\n        const groupedShapes = [];\n        for (const shape of shapes) {\n            const rect = shape.rect;\n            const mx = rect.x + (rect.width/2);\n\n\n            let groupIdx = -1;\n            for (let i = 0; i < groupedShapes.length; ++i) {\n                const grect = groupedShapes[i][0].rect;\n                const groupx = grect.x + (grect.width/2);\n\n                if (Math.abs(groupx - mx) < 1) {\n                    groupIdx = i;\n                    break;\n                }\n            }\n            if (groupIdx === -1) {\n                // No group found, we form a new group\n                groupedShapes.push([shape]);\n            } else {\n                groupedShapes[groupIdx].push(shape)\n            }\n        }\n\n        return groupedShapes;\n    }\n\n    /**\n     * Helper function to set a datapoint if it already exists, or create a new one otherwise\n     * @param serie \n     * @param datapoint \n     */\n    setDatapoint(serie : ChartElement, datapoint : AxisCoordinate2D) : void {\n        const xpos = datapoint.x.pixel;\n        let found = false;\n        for (const existingDatapoint of serie.data) {\n            if (Math.abs(existingDatapoint.x.pixel - xpos) < 0.1) {\n                existingDatapoint.x = datapoint.x;\n                existingDatapoint.y = datapoint.y;\n                found = true;\n                break;\n            }\n        }\n\n        if (!found) { // Not found so we add a new value\n            serie.data.push(datapoint);\n        }\n    }\n\n    onShapesSelected(shapes : ShapeCommand[], allShapes : ShapeCommand[] = []) : void {\n        // Boxplots usually represent 5 values: the median (an horizontal line), Q1 and Q3 (a box) and minimum and maximum (whiskers)\n\n        // Because we might have to extract multiple boxplots, we first sort all shapes by their horizontal center and form groups\n        // We should also consider already included shapes as we need to consider all shapes to properly compute the boxplot\n        // We also split all shapes as they might have been grouped as one single shape\n        // TODO: Prevent manually edited value from being overriden\n        const groupedBoxplots = this.groupShapesByCenterX(ShapeUtils.splitShapesIntoSubShapes(shapes.concat(this.serie.shapes)));\n\n        if (this.serie.linkedElements.length <= 2) {\n            this.serie.linkedElements.push(new SubChartElement(ChartElementType.BOX_PLOT_Q3, this.serie, \"↳ Q3\"));\n            this.serie.linkedElements.push(new SubChartElement(ChartElementType.BOX_PLOT_Q1, this.serie, \"↳ Q1\"));\n            this.serie.linkedElements.push(new SubChartElement(ChartElementType.BOX_PLOT_MIN, this.serie, \"↳ Min\"));\n            this.serie.linkedElements.push(new SubChartElement(ChartElementType.BOX_PLOT_MAX, this.serie, \"↳ Max\"));\n\n            // Add them to the datatable too\n            for (let i = 2; i < this.serie.linkedElements.length; ++i) {\n                const idx = this.datatable.series.indexOf(this.serie);\n                this.datatable.series.splice(idx+1, 0, this.serie.linkedElements[i]);\n            }\n        }\n\n        const elementQ3 = this.serie.linkedElements[2];\n        const elementQ1 = this.serie.linkedElements[3];\n        const elementMin = this.serie.linkedElements[4];\n        const elementMax = this.serie.linkedElements[5];\n\n        for (const boxplotShapes of groupedBoxplots) {\n            const medians = [];\n            let min = boxplotShapes[0].rect.y;\n            let max = boxplotShapes[0].rect.y+boxplotShapes[0].rect.height;\n            let q1 = min;\n            let q3 = max;\n            const mx = boxplotShapes[0].rect.x + boxplotShapes[0].rect.width/2;\n            for (const boxplotShape of boxplotShapes) {\n                if (ShapeUtils.isLine(boxplotShape) && boxplotShape.rect.width > boxplotShape.rect.height) { // Horizontal line, might be the median\n                    medians.push(boxplotShape.rect.y + boxplotShape.rect.height/2);\n                }\n\n                if (ShapeUtils.isRectangle(boxplotShape)) { // Rectangle, most likely correspond to quartiles\n                    q1 = boxplotShape.rect.y;\n                    q3 = boxplotShape.rect.y+boxplotShape.rect.height;\n                }\n\n                min = Math.min(min, boxplotShape.rect.y);\n                max = Math.max(max, boxplotShape.rect.y+boxplotShape.rect.height);\n            }\n\n            let median = (q3+q1)/2; // If we can find a median, we take the middle pos\n            // Median should be between q1 and q3\n            for (const candidateMedian of medians) {\n                if (candidateMedian > q1 && candidateMedian < q3) {\n                    median = candidateMedian;\n                    break;\n                }\n            }\n\n            this.setDatapoint(this.serie, new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(median, this.datatable.axisY)));\n            this.setDatapoint(elementQ3, new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(q3, this.datatable.axisY)));\n            this.setDatapoint(elementQ1, new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(q1, this.datatable.axisY)));\n            this.setDatapoint(elementMin, new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(min, this.datatable.axisY)));\n            this.setDatapoint(elementMax, new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(max, this.datatable.axisY)));\n        }\n\n\n        // Link the element with the shapes\n        this.serie.shapes = this.serie.shapes.concat(shapes);\n    }\n}\n","import AxisCoordinate1D from \"../../datastructure/AxisCoordinate1D\";\nimport AxisCoordinate2D from \"../../datastructure/AxisCoordinate2D\";\nimport ErrorBar from \"../../datastructure/chartelements/ErrorBar\";\nimport DataTable from \"../../datastructure/DataTable\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport ShapeUtils from \"../ShapeUtils\";\n\nexport default class ErrorBarExtractor {\n    datatable : DataTable;\n    errorBar : ErrorBar;\n\n    constructor(datatable : DataTable, errorBar : ErrorBar) {\n        this.datatable = datatable;\n        this.errorBar = errorBar;\n    }\n\n    onShapesSelected(shapes : ShapeCommand[], allShapes : ShapeCommand[] = []) : void {\n        // Error bars are usually represented using 3 disctinct shapes (1 for the vertical line, and 2 lines for the whiskers)\n        // Less commonly using 4 or more shapes (e.g., by separating the top and bottom part, or left and right whiskers)\n        // Finally (rare) using only one shape (moveto)\n\n        // As such, we only consider shapes with a barycenter close to one of the series' points\n        const serie = this.errorBar._serie;\n\n        for (const shape of shapes) {\n            const rect = shape.rect;\n            const mx = rect.x + (rect.width/2);\n            //const my = rect.y + (rect.height/2);\n            \n            let minDist = Number.MAX_VALUE;\n            let idx = -1;\n            for (let i = 0; i < serie.data.length; ++i) {\n                const pt = serie.data[i];\n                const dist = Math.abs(mx - pt.x.pixel);//MathUtils.dist(mx, my, pt.x.pixel, pt.y.pixel);\n                if (dist < minDist) {\n                    idx = i;\n                    minDist = dist;\n                }\n            }\n\n            if (minDist < 1) { // Arbitrary, but we can reasonably expect the error bar to be close to the serie\n                const associatedPt = serie.data[idx];\n\n                // Find the bound, make sure that it is better than what was already there\n                let bound = Math.min(rect.y, this.errorBar.data[idx].y.pixel); // Upper bound\n                if (this.errorBar.isLowerBound()) {\n                    bound = Math.max(rect.y + rect.height, this.errorBar.data[idx].y.pixel); // Lower bound\n                }\n\n                this.errorBar.data[idx] = new AxisCoordinate2D(new AxisCoordinate1D(associatedPt.x.pixel, associatedPt.x.axis), new AxisCoordinate1D(bound, associatedPt.y.axis));\n            }\n        }\n        \n\n        // We simply extract all the points forming the shapes\n        var points = ShapeUtils.shapesToPoints(shapes, this.datatable.axisX, this.datatable.axisY);\n        \n        // Link the element with the shapes\n        this.errorBar.shapes = this.errorBar.shapes.concat(shapes);\n    }\n}\n","import ChartElement from \"../../datastructure/chartelements/ChartElement\";\nimport DataTable from \"../../datastructure/DataTable\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport ShapeUtils from \"../ShapeUtils\";\nimport LegendExtractor from \"./LegendExtractor\";\n\nexport default class LineExtractor {\n    datatable : DataTable;\n    element : ChartElement;\n\n    constructor(datatable : DataTable, element : ChartElement) {\n        this.datatable = datatable;\n        this.element = element;\n    }\n\n    onShapesSelected(shapes : ShapeCommand[], allShapes : ShapeCommand[] = []) : void {\n        // We simply extract all the points forming the shapes\n        var points = ShapeUtils.shapesToPoints(shapes, this.datatable.axisX, this.datatable.axisY);\n        \n        // Link the element with the shapes\n        this.element.shapes = this.element.shapes.concat(shapes);\n\n        // Add the data\n        this.element.data = this.element.data.concat(points);\n\n        // Automatically extract the name of the serie by looking for a legend\n        if (allShapes.length > 0) {\n            const legendExtractor = new LegendExtractor(this.element);\n            legendExtractor.onShapesSelected(allShapes);\n        }\n    }\n}\n","import AxisCoordinate1D from \"../../datastructure/AxisCoordinate1D\";\nimport AxisCoordinate2D from \"../../datastructure/AxisCoordinate2D\";\nimport ChartElement from \"../../datastructure/chartelements/ChartElement\";\nimport DataTable from \"../../datastructure/DataTable\";\nimport ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport LegendExtractor from \"./LegendExtractor\";\n\nexport default class ScatterExtractor {\n    datatable : DataTable;\n    element : ChartElement;\n\n    constructor(datatable : DataTable, element : ChartElement) {\n        this.datatable = datatable;\n        this.element = element;\n    }\n\n    onShapesSelected(shapes : ShapeCommand[], allShapes : ShapeCommand[] = []) : void {\n        // We simply extract the center of all the shapes\n        for (const shape of shapes) {\n            const mx = shape.rect.x + shape.rect.width/2;\n            const my = shape.rect.y + shape.rect.height/2;\n            this.element.data.push(new AxisCoordinate2D(new AxisCoordinate1D(mx, this.datatable.axisX), new AxisCoordinate1D(my, this.datatable.axisY)));\n        }\n        \n        // Link the element with the shapes\n        this.element.shapes = this.element.shapes.concat(shapes);\n\n        // Automatically extract the name of the serie by looking for a legend\n        if (allShapes.length > 0) {\n            const legendExtractor = new LegendExtractor(this.element);\n            legendExtractor.onShapesSelected(allShapes);\n        }\n    }\n}\n","import Axis from \"../../datastructure/chartelements/Axis\";\nimport ChartElement, { ChartElementType } from \"../../datastructure/chartelements/ChartElement\";\nimport ErrorBar from \"../../datastructure/chartelements/ErrorBar\";\nimport DataTable from \"../../datastructure/DataTable\";\nimport AxisExtractor from \"./AxisExtractor\";\nimport BarExtractor from \"./BarExtractor\";\nimport BoxPlotExtractor from \"./BoxPlotExtractor\";\nimport ErrorBarExtractor from \"./ErrorBarExtractor\";\nimport LineExtractor from \"./LineExtractor\";\nimport ScatterExtractor from \"./ScatterExtractor\";\n\nexport class ExtractorUtils {\n    static getSerieExtractor(serie : ChartElement, dataTable : DataTable) : any {\n        // We need to use a different extractor for the next selections depending on the element\n        var extractor = null;\n        if (serie.is(ChartElementType.AXIS)) {\n            extractor = new AxisExtractor(serie as Axis);\n        } else if (serie.is(ChartElementType.LINE)) {\n            extractor = new LineExtractor(dataTable, serie);\n        } else if (serie.is(ChartElementType.BAR)) {\n            extractor = new BarExtractor(dataTable, serie);\n        } else if (serie.is(ChartElementType.SCATTER)) {\n            extractor = new ScatterExtractor(dataTable, serie);\n        } else if (serie.is(ChartElementType.BOX_PLOT)) {\n            extractor = new BoxPlotExtractor(dataTable, serie);\n        } else if (serie.is(ChartElementType.ERRORBAR)) {\n            extractor = new ErrorBarExtractor(dataTable, serie as ErrorBar);\n        } else {\n            //TODO: Handle other types\n            alert(\"Unsupported element\");\n        }\n\n        return extractor;\n    }\n\n    static chartTypeToString(type : ChartElementType) : string {\n        // Hacky code to convert a chart type into a nice string\n        let str = ChartElementType[type].toLowerCase().replace(\"_\", \" \");\n        \n        if (str.length > 0) {\n            str = str[0].toUpperCase() + str.substr(1, str.length)\n        }\n\n        return str;\n    }\n}","import React, { MouseEvent } from 'react';\nimport ChartElement, { ChartElementType } from '../datastructure/chartelements/ChartElement';\nimport ShapeCommand from '../datastructure/ShapeCommand';\nimport { ExtractorUtils } from '../utils/extractors/ExtractorUtils';\nimport { Snackbar } from '../utils/Snackbar';\nimport UndoManager from '../utils/UndoManager';\nimport {ChartExtractorState} from './ChartExtractor';\nimport DropZone, { AcceptFilter } from './DropZone';\n\ninterface ElementDropZoneProps {\n    color : string;\n    imgFile : string;\n    state : ChartExtractorState;\n    setState : any;\n    type : ChartElementType\n    shapes : ShapeCommand[];\n}\n\n\nexport default class ElementDropZone extends React.Component<ElementDropZoneProps, any> {\n    constructor(props) {\n        super(props)\n    }\n\n    onShapesDroppedOnNewSerie(type : ChartElementType, shapes : ShapeCommand) : boolean {\n        const name = ExtractorUtils.chartTypeToString(type) + \" \" + (this.props.state.dataTable.series.length+1);\n\n        // Create a new serie with the shapes\n        var element = new ChartElement(type, name);\n\n        // Use the right extractor to extract the data from the shape\n        var extractor = ExtractorUtils.getSerieExtractor(element, this.props.state.dataTable);\n        if (extractor !== null) {\n            UndoManager.get().addUndoRestorePoint();\n            this.props.state.dataTable.series.push(element);\n            extractor.onShapesSelected(shapes, this.props.shapes);\n            this.props.setState({dataTable: this.props.state.dataTable}); // Force refresh\n            return true;\n        }\n\n\n        return false;\n    }\n\n    onMouseClick(event : MouseEvent) : void {\n        Snackbar.addInfoMessage(\"Drag chart elements (lines, bars...) and drop them in the appropriate drop zone.\", \"animations/element_dragndrop.gif\");\n    }\n\n    render() : JSX.Element {\n        const text = ExtractorUtils.chartTypeToString(this.props.type);\n        return (\n        <div className=\"chartElementBtn\" style={{textAlign: 'center'}} onClick={this.onMouseClick.bind(this)}>\n            <div style={{position: 'relative'}}>\n                <div className=\"coloredRect\" style={{margin: 'auto', width: 65, position: 'relative', backgroundColor: this.props.color, \n                        borderRadius: 5, border: '2px solid '+this.props.color, boxSizing: 'border-box'}}>\n                    <img alt={text} src={this.props.imgFile}/><br/>\n                </div>\n\n                <DropZone\n                    isSelectionAccepted={AcceptFilter.ShapeOnly}\n                    state={this.props.state}\n                    setState={this.props.setState}\n                    style={{ width: '100%', height: \"100%\", position: 'absolute', top: 0, left: 0 }}\n                    text=\"\"\n                    onShapesDropped={(shapes) => {return this.onShapesDroppedOnNewSerie(this.props.type, shapes)}}\n                    key={text}\n                />\n            </div>\n            <span>{text}</span>\n        </div>);\n    }\n}","import React, { ChangeEvent } from 'react';\nimport TableWidget from './TableWidget';\nimport DropZone, { AcceptFilter } from '../DropZone';\nimport TextMerger from '../../utils/TextMerger';\nimport ChartElement, { ChartElementType } from '../../datastructure/chartelements/ChartElement';\nimport Axis from '../../datastructure/chartelements/Axis';\nimport ShapeUtils from '../../utils/ShapeUtils';\nimport ShapeCommand from '../../datastructure/ShapeCommand';\nimport DataTable from '../../datastructure/DataTable';\nimport AxisCoordinate1D from '../../datastructure/AxisCoordinate1D';\nimport AxisCoordinate2D from '../../datastructure/AxisCoordinate2D';\nimport ErrorBar, { Bound } from '../../datastructure/chartelements/ErrorBar';\nimport ElementDropZone from '../ElementDropZone';\nimport { ExtractorUtils } from '../../utils/extractors/ExtractorUtils';\nimport UndoManager from '../../utils/UndoManager';\nimport SubChartElement from '../../datastructure/chartelements/SubChartElement';\n\nclass Tick {\n    coord : AxisCoordinate1D;\n    duplicateId : number;\n\n    constructor(coord : AxisCoordinate1D, duplicateId = 0) {\n        this.coord = coord;\n        this.duplicateId = duplicateId;\n    }\n}\n\n/**\n * A widget to show a table representing all the series\n * Shapes can be dropped in the table to fill it.\n */\nexport default class SeriesWidget extends TableWidget {\n    decimalPrecision: number;\n    nTicks: number;\n    cachedTicks: Tick[];\n    cachedHeaders: string[];\n    cachedData: string;\n    cachedRawData: string[][];\n    lastRowCount : number;\n    constructor(props) {\n        super(props);\n\n        this.cellSelectedListener = this.onCellSelectedCallback.bind(this);\n        this.cellEditedListener = this.onCellEditedCallback.bind(this);\n        this.nTicks = null;\n        this.minWidth = 350;\n        this.maxHeight = 600;\n        this.decimalPrecision = 2;\n        this.colWidths = [100]; // Make first column representing the name of the series a little larger\n        this.cachedTicks = null;\n        this.cachedData = \"\";\n        this.cachedRawData = null;\n        this.cachedHeaders = null;\n    }\n\n    /**\n     * Returns the minimal number of decimals needed to make all numbers in the list unique\n     * @param{[Number]} numbers \n     * @returns \n     */\n    getMinDecimals(numbers: number[]): number {\n        // only works if the array contains numbers\n        if (numbers.length <= 0 || typeof numbers[0] != 'number') {\n            return 0;\n        }\n\n        var decimals = 0;\n        var truncatedNumbers = new Set();\n        while (truncatedNumbers.size !== numbers.length && decimals < 20) {\n            const constDec = decimals;\n            truncatedNumbers = new Set(numbers.map(x => parseFloat(x.toFixed(constDec))));\n            decimals++;\n        }\n\n        return decimals-1;\n    }\n\n    /**\n     * A sorting method that work for both strings (alphabetically) and numbers\n     * @param {Array} values \n     */\n    sortValues(values: number[]): number[] {\n        return values.sort(function (a, b) {\n            if (a === b) return 0;\n            return a < b ? -1 : 1;\n        });\n    }\n\n    /**\n     * Finds all the necessary ticks to represent all the series\n     */\n    getTicksX(): Tick[] {\n        // Optimization: This operation can be slow, so we avoid re-computing if not necessary\n        if (this.cachedTicks !== null) {\n            return this.cachedTicks;\n        }\n\n        var data: DataTable = this.props.state.dataTable;\n        var ticks = [];//data.axisX.getTicks(this.nTicks);\n\n        if (ticks.length === 0 && data.series.length > 0) {\n            // Fallback solution if there is no ticks defined but there is series\n            // We go through all the series to find the ticks that are used\n            var uniqueTicks: Set<number> = new Set();\n            var duplicatedTicks = {};\n\n            for (var i = 0; i < data.series.length; ++i) {\n                var uniqueTicksSeries: Set<number> = new Set();\n                var duplicatedTicksSeries = {};\n                var serie = data.series[i];\n                for (var j = 0; j < serie.data.length; ++j) {\n                    var pixel = serie.data[j].x.pixel;\n                    if (uniqueTicksSeries.has(pixel)) { //TODO: Also check if the point has a different y value\n                        // The series contain multiple points at the same exact pixel pos (possible with scatter plots for example). We need to create two ticks artificially\n                        if (!duplicatedTicksSeries.hasOwnProperty(pixel)) {\n                            duplicatedTicksSeries[pixel] = 0;\n                        }\n                        duplicatedTicksSeries[pixel] += 1;\n                    }\n                    uniqueTicksSeries.add(pixel);\n                    uniqueTicks.add(pixel);\n                }\n                // Merge duplicated ticks, to make sure we don't duplicate too much\n                for (const duplicatePix in duplicatedTicksSeries) {\n                    if (duplicatedTicks.hasOwnProperty(duplicatePix)) {\n                        duplicatedTicks[duplicatePix] = Math.max(duplicatedTicks[duplicatePix], duplicatedTicksSeries[duplicatePix]);\n                    } else {\n                        duplicatedTicks[duplicatePix] = duplicatedTicksSeries[duplicatePix];\n                    }\n                }\n            }\n            var tickPixels = Array.from(uniqueTicks);\n            ticks = tickPixels.map(pos => new Tick(new AxisCoordinate1D(pos, data.axisX)));\n            // Add duplicated ticks\n            for (const duplicatePix in duplicatedTicks) {\n                const nb = duplicatedTicks[duplicatePix];\n                for (let i = 0; i < nb; ++i) {\n                    ticks.push(new Tick(new AxisCoordinate1D(parseFloat(duplicatePix), data.axisX), i+1))\n                }\n            }\n\n            // Sort ticks by their pixel positions\n            ticks = ticks.sort(function (a, b) {\n                return a.coord.pixel - b.coord.pixel;\n            });\n        }\n\n        this.cachedTicks = ticks;\n\n        return ticks;\n    }\n\n    getCellValue(col: number, row: number): AxisCoordinate2D {\n        if (col === 0 || row >= this.props.dataTable.series.length) {\n            // Selected the name of the row\n            return null;\n        }\n\n        var ticks = this.getTicksX();\n        var serie: ChartElement = this.props.dataTable.series[row];\n\n        return serie.getAtPixelX(ticks[col - 1].coord.pixel, ticks[col - 1].duplicateId);\n    }\n\n    getData(decimalPrecision=2): string[][] {\n        if (this.cachedRawData !== null) {\n            return this.cachedRawData;\n        }\n        var data = [];\n        var ticks = this.getTicksX();\n\n        if (ticks.length > 0) {\n            var headers = [\"Name\"];\n            if ((this.props.state.dataTable.axisX as Axis).isCategorical()) {\n                headers = headers.concat(ticks.map(x => x.coord.value));\n            } else {\n                // For the header, we don't want full precision\n                var tickValues = ticks.filter(x => x.duplicateId == 0).map(x => parseFloat(x.coord.value));\n                var minDecimals = this.getMinDecimals(tickValues)\n                var roundedTicks = ticks.map(x => parseFloat(x.coord.value).toFixed(minDecimals));\n                headers = headers.concat(roundedTicks);\n            }\n            data.push(headers);\n        }\n        \n        for (var i = 0; i < this.props.dataTable.series.length; ++i) {\n            var serie: ChartElement = this.props.dataTable.series[i];\n            var serieData = [serie.name];\n\n            for (var tickId = 0; tickId < ticks.length; ++tickId) {\n                var pt = serie.getAtPixelX(ticks[tickId].coord.pixel, ticks[tickId].duplicateId);\n                var value = \"\";\n                if (pt !== null) {\n                    value = pt.y.value;\n                    if (!pt.y.axis.isCategorical()) {\n                        if (serie.is(ChartElementType.ERRORBAR)) {\n                            // Exception for error bar, we show the difference\n                            var mainSerie = (serie as ErrorBar).getMainSerie()\n                            var mainSerieVal = parseFloat(mainSerie.getAtPixelX(ticks[tickId].coord.pixel, ticks[tickId].duplicateId).y.value)\n                            value = (Math.abs(parseFloat(value) - mainSerieVal)).toString();\n                        }\n                        // The value is a number and can be rounded\n                        if (decimalPrecision !== null) {\n                            value = parseFloat(value).toFixed(decimalPrecision);\n                        }\n                    }\n                }\n                serieData.push(value);\n            }\n\n            data.push(serieData);\n        }\n\n        return data;\n    }\n\n\n    getFloatingHeader(): string {\n        return this.props.dataTable.name;\n    }\n\n    getRowBackgroundColor(rowId: number): string {\n        // We use the color of the serie as the background for each row\n        var series = this.props.dataTable.series;\n\n        if (rowId - 1 < series.length) {\n            var color = series[rowId - 1].getMainColor();\n            color = color === null ? \"#ffffff\" : color;\n            var rgb = ShapeUtils.colorHexToRgb(color);\n\n            return 'rgba(' + rgb.join(',') + ',' + 0.2 + ')';\n        }\n\n        return null;\n    }\n\n    updateDatatable(): void {\n        this.cachedTable = null;\n        this.props.setState({ dataTable: this.props.state.dataTable });\n    }\n\n    getGridOverlay(): JSX.Element {\n        // We modify the table to also add dropzones\n        // There should be two dropzones per row/serie: one for the title (first column) and one for the serie (to add new values)\n\n        var dropzones = [];\n        let dropzoneSkipper = 0;\n        var series = this.props.dataTable.series as ChartElement[];\n        for (var i = 0; i < series.length; ++i) {\n            const serie = series[i];\n            const rowId = i + 1;\n            // Add the dropzone to change the name of the serie\n            var nameRect = this.getCellRect(0, rowId);\n\n            dropzones.push(\n                <DropZone\n                    isSelectionAccepted={AcceptFilter.TextOnly}\n                    recommendedDropCount={1}\n                    key={rowId * 3 + 1}\n                    state={this.props.state}\n                    setState={this.props.setState}\n                    style={{ width: nameRect.width, height: nameRect.height, position: 'absolute', top: nameRect.y, left: nameRect.x }}\n                    text=\"\"\n                    onShapesDropped={shapes => { return this.onShapesDroppedOnSerieName(shapes, serie) }}\n                />\n            );\n\n            if (dropzoneSkipper > 0) {\n                dropzoneSkipper--;\n                continue;\n            }\n\n            // Add the dropzone to add values to a serie\n            let dropzoneHeight = nameRect.height;\n            let onShapesDroppedCallback = shapes => { return this.onShapesDroppedOnSerie(shapes, serie) };\n\n            // Special case: For error bars, we merge the dropzone for the upper and lower bounds\n            if (serie.is(ChartElementType.ERRORBAR)) {\n                const errorBar = (serie as ErrorBar);\n                if (i + 1 < series.length && series[i + 1].is(ChartElementType.ERRORBAR)) {\n                    \n                    const errorBar2 = series[i + 1] as ErrorBar;\n                    if (errorBar2._serie === errorBar._serie) {\n                        dropzoneHeight = nameRect.height * 2;\n                        onShapesDroppedCallback = shapes => { return this.onShapesDroppedOnSerie(shapes, errorBar) && this.onShapesDroppedOnSerie(shapes, errorBar2) };\n                        dropzoneSkipper = 1;\n                    }\n                }\n            }\n\n            // Special case: Series with sub-elements should share the same dropzone\n            if (serie.linkedElements.length > 2) {\n                // The subelements should follow, we make sure they follow and calculate the dropzone/s new size\n                let subElementsCount = 0;\n                while (subElementsCount + 1 < series.length && series[i + subElementsCount + 1] instanceof SubChartElement && (series[i + subElementsCount + 1] as SubChartElement).getMainSerie() === serie) {\n                    subElementsCount++;\n                }\n                dropzoneHeight = nameRect.height * (subElementsCount + 1);\n                dropzoneSkipper = subElementsCount;\n            }\n\n            var lastCell = this.getCellRect(this.getColCount() - 1, rowId);\n            var startX = nameRect.x + nameRect.width;\n            var endX = lastCell.x + lastCell.width;\n\n            dropzones.push(\n                <DropZone\n                    isSelectionAccepted={AcceptFilter.ShapeOnly}\n                    recommendedDropCount={0}\n                    key={rowId * 3 + 2}\n                    state={this.props.state}\n                    setState={this.props.setState}\n                    style={{ width: endX - startX - 2, height: dropzoneHeight, position: 'absolute', top: nameRect.y, left: startX + 1 }}\n                    text=\"\"\n                    onShapesDropped={onShapesDroppedCallback}\n                />\n            );\n        }\n\n        return (<div>\n            {super.getGridOverlay()}\n            {dropzones}\n        </div>);\n    }\n\n    getFloatingHeaderHTML(): JSX.Element {\n        return (<div style={{ width: '100%', height: '100%', position: 'relative' }}>\n            <div style={{ left: '0%', width: '90%', top: '50%', transform: 'translate(0%, -50%)', position: 'absolute' }}>\n                {this.getFloatingHeader()}\n            </div>\n            <div style={{ right: 1, top: '50%', transform: 'translate(0%, -50%)', position: 'absolute' }}>\n                <button className=\"button small gray tooltip\" onClick={this.downloadCSV.bind(this)}><i className=\"fa fa-download\" aria-hidden=\"true\"></i> CSV</button>\n            </div>\n            <DropZone\n                recommendedDropCount={1}\n                isSelectionAccepted={AcceptFilter.TextOnly}\n                state={this.props.state}\n                setState={this.props.setState}\n                style={{ width: '100%', height: '100%', position: 'absolute', top: 0, left: 0 }}\n                text=\"\"\n                onShapesDropped={this.onShapesDroppedOnTitle.bind(this)}\n            />\n        </div>);\n    }\n\n    onNbTicksChanged(event: ChangeEvent): void {\n        var value = (event.target as HTMLInputElement).value;\n        if (value === null || value === \"0\") {\n            this.nTicks = null;\n        } else {\n            this.nTicks = parseInt(value);\n        }\n\n        this.forceUpdate();\n    }\n\n    isCellSelectable(col: number, row: number): boolean {\n        return row > 0; // Cells on the first column cannot be edited because they are labels\n    }\n\n    isCellEditable(col: number, row: number): boolean {\n        return row > 0; // TODO: Support for editing ticks, for now we just block it\n    }\n\n    onCellSelectedCallback(col: number, row: number): void {\n        // Update the overlay\n        this.props.state.overlay.clear();\n        if (col > 0 && col !== -1 && row !== -1) {\n            var coord = this.getCellValue(col, row - 1);\n            if (coord !== null) {\n                this.props.state.overlay.points.push(coord);\n            }\n        }\n    }\n\n    onCellEditedCallback(col: number, row: number, newVal: string): void {\n        if (col === 0) {\n            // Edited the name of the series\n            const serie = this.props.dataTable.series[row - 1];\n            UndoManager.get().addUndoRestorePoint();\n            serie.name = newVal;\n        } else {\n            // Edited a position\n            var coord = this.getCellValue(col, row - 1);\n            if (coord !== null) {\n                UndoManager.get().addUndoRestorePoint();\n                coord.y.value = newVal;\n            }\n        }\n        this.forceUpdate();\n    }\n\n    onRowDeleted(row: number): void {\n        UndoManager.get().addUndoRestorePoint();\n        const serie: ChartElement = this.props.dataTable.series.splice(row, 1)[0];\n\n        // Also remove associated sub elements\n        for (const subElement of serie.linkedElements) {\n            if (subElement !== null) {\n                const idx = this.props.dataTable.series.indexOf(subElement);\n                if (idx > -1) {\n                    this.props.dataTable.series.splice(idx, 1);\n                }\n            }\n        }\n\n        // If it's a subelement, update the associated serie\n        if (serie instanceof SubChartElement) {\n            const mainSerie = (serie as SubChartElement).getMainSerie();\n            const idx = mainSerie.linkedElements.indexOf(serie);\n            if (idx >= 2) { // First 2 are errorbars and cannot be removed\n                //mainSerie.linkedElements.splice(idx, 1);\n                mainSerie.linkedElements[idx] = null;\n            }\n\n            if (idx === 0) mainSerie.upperErrorBar = null;\n            if (idx === 1) mainSerie.lowerErrorBar = null;\n\n        }\n        this.updateDatatable();\n    }\n\n    onAddErrorBars(row: number): void {\n        UndoManager.get().addUndoRestorePoint();\n        const serie: ChartElement = this.props.dataTable.series[row];\n        if (serie.lowerErrorBar === null) {\n            var lowerBound = new ErrorBar(serie, Bound.LOWER);\n            this.props.dataTable.series.splice(row + 1, 0, lowerBound);\n            serie.lowerErrorBar = lowerBound;\n        }\n\n        if (serie.upperErrorBar === null) {\n            var upperBound = new ErrorBar(serie, Bound.UPPER);\n            this.props.dataTable.series.splice(row + 1, 0, upperBound);\n            serie.upperErrorBar = upperBound;\n        }\n\n        this.updateDatatable();\n\n    }\n\n    onShapesDroppedOnSerie(shapes: ShapeCommand[], serie: ChartElement): boolean {\n        // Add data on an existing serie\n        var extractor = ExtractorUtils.getSerieExtractor(serie, this.props.dataTable);\n        if (extractor !== null) {\n            UndoManager.get().addUndoRestorePoint();\n            extractor.onShapesSelected(shapes);\n            this.updateDatatable();\n        }\n\n        return true;\n    }\n\n    onShapesDroppedOnErrorBar(shapes: ShapeCommand[], serie: ChartElement, row: number): boolean {\n        // Simulates two actions: 1) Adding the error bars; 2) dropping the shapes\n        this.onAddErrorBars(row);\n        return this.onShapesDroppedOnSerie(shapes, serie.upperErrorBar) && this.onShapesDroppedOnSerie(shapes, serie.lowerErrorBar);\n    }\n\n    onShapesDroppedOnSerieName(shapes: ShapeCommand[], serie: ChartElement): boolean {\n        TextMerger.getTextFromShapes(shapes).then(extractedText => {\n            if (extractedText !== null) {\n                UndoManager.get().addUndoRestorePoint();\n                serie.name = extractedText;\n                this.updateDatatable();\n                return true;\n            }\n    \n            return false;\n        });\n\n        return true;\n    }\n\n    onShapesDroppedOnTitle(shapes: ShapeCommand[]): boolean {\n        TextMerger.getTextFromShapes(shapes).then(extractedText => {\n            if (extractedText === null) {\n                alert(\"No text found in selection\");\n            }\n            UndoManager.get().addUndoRestorePoint();\n            this.props.dataTable.name = extractedText;\n            this.updateDatatable();\n        });\n        return true;\n    }\n\n    isErrorBarButtonShown(row: number): boolean {\n        if (row < 0) {\n            return true;\n        }\n        const serie: ChartElement = this.props.dataTable.series[row];\n        return serie.hasErrorBars() || !serie.canHaveErrorBars();\n    }\n\n    getCellStyle(col: number, row: number) {\n        return { backgroundColor: row === 0 ? \"#f0f0f0\" : this.getRowBackgroundColor(row), textAlign: row === 0 ? \"center\" : \"left\" }\n    }\n\n    getColumnStickyCount() {\n        return 2;\n    }\n\n    getColumnStickyWidth() {\n        return 40;\n    }\n\n    getStickyButton(columnIndex, rowIndex) {\n        if (columnIndex === 1 && !this.isErrorBarButtonShown(rowIndex - 1)) {\n            return <div style={{ position: 'relative' }}>\n                <div\n                    onMouseUp={e => { this.onAddErrorBars(rowIndex - 1) }}\n                    className=\"deleteSeriesButton\"\n                    style={{ paddingLeft: 3, paddingTop: 1 }}\n                >\n                    ⌶\n                </div>\n                <DropZone\n                    isSelectionAccepted={AcceptFilter.ShapeOnly}\n                    recommendedDropCount={1}\n                    state={this.props.state}\n                    setState={this.props.setState}\n                    style={{ width: \"100%\", height: \"100%\", position: 'absolute', top: 0, left: 0 }}\n                    text=\"\"\n                    onShapesDropped={shapes => { return this.onShapesDroppedOnErrorBar(shapes, this.props.state.dataTable.series[rowIndex - 1], rowIndex - 1) }}\n                />\n            </div>\n\n        } else if (columnIndex === 0 && rowIndex > 0) {\n            return <div\n                onMouseUp={e => { this.onRowDeleted(rowIndex - 1) }}\n                className=\"deleteSeriesButton\"\n                style={{ padding: 4 }}>\n                <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n            </div>\n\n\n        }\n        return <div></div>;\n    }\n\n    getColumnStickyHTML() {\n        const Sticky = (({ columnIndex, rowIndex, style }) => (\n            <div className={\"tableCell \" +\n                (columnIndex % 2 === 0 ? \"evenCol \" : \"oddCol \") +\n                (rowIndex % 2 === 0 ? \"evenRow \" : \"oddRow \") +\n                (rowIndex === 0 ? \"firstRow \" : \"\") +\n                (columnIndex === 0 ? \"firstCol \" : \"\") +\n                (rowIndex === this.getRowCount() - 1 ? \"lastRow \" : \"\") +\n                (columnIndex === this.getColCount() - 1 ? \"lastCol \" : \"\")\n            }\n                style={{ ...style, backgroundColor: \"#f0f0f0\", padding: 0, width: this.getColumnStickyWidth() / this.getColumnStickyCount() }}>\n                {this.getStickyButton(columnIndex, rowIndex)}\n            </div>\n        ));\n        return Sticky;\n    }\n\n    download(filename, text) {\n        var element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n        element.setAttribute('download', filename);\n\n        element.style.display = 'none';\n        document.body.appendChild(element);\n\n        element.click();\n\n        document.body.removeChild(element);\n    }\n\n    downloadCSV() {\n        //TODO: Move to its own class (Exporters)\n        let csvContent = \"\";\n        this.cachedRawData = null;\n        // Export at high precision\n        csvContent += this.getData(null).map((v) => { return v.join(\",\") }).join(\"\\n\");\n        this.download(this.props.dataTable.name + \".csv\", csvContent);\n    }\n\n    updateDataTableSize(): void {\n        // We need to update the maxHeight to take into account the drag and drop area\n        // Ideally, the area should always be visible\n        const dragAndDropArea = document.getElementById(\"dragAndDropArea\");\n        const seriesWidget = document.getElementById(\"seriesWidget\");\n\n        if (dragAndDropArea !== null && seriesWidget !== null) {\n            const floatingHeader = document.getElementById(\"seriesWidget\").querySelector(\".tableFloatingHeader\")\n            this.maxHeight = (seriesWidget.clientHeight - dragAndDropArea.clientHeight) - (floatingHeader !== null ? floatingHeader.clientHeight + 2 : 0); // Available height, after considering the dropzone area (which should always be visible)\n        }\n\n        super.updateDataTableSize();\n    }\n\n    onNewRowAdded(rowId : number) {\n        this.scrollToRow(rowId); // We make sure the new row is visible\n    }\n\n    componentDidUpdate(): void {\n        const rowCount = this.getRowCount();\n        if (this.lastRowCount !== rowCount) {\n            if (this.lastRowCount < rowCount) {\n                this.onNewRowAdded(rowCount)\n            }\n            this.lastRowCount = rowCount;\n        }\n\n        super.componentDidUpdate();\n    }\n\n\n    render(): JSX.Element {\n        this.cachedRawData = null;\n        this.cachedTicks = null;\n        this.cachedRawData = this.getData();\n\n        return (<div id=\"seriesWidget\" style={{ height: '100%', overflowY: \"auto\" }}>\n            {super.render()}\n            <div id=\"dragAndDropArea\" style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <div className=\"panelSeparator\"> <i style={{ marginLeft: 5 }} className=\"fa fa-hand-pointer-o\" aria-hidden=\"true\"></i> Drag&Drop Chart Elements</div>\n                <div id=\"seriesDropzones\" style={{ display: \"flex\", flexDirection: \"row\"}}>\n                    <ElementDropZone color=\"#C7E2ED\" imgFile=\"icons/line.svg\" state={this.props.state} shapes={this.props.shapes} setState={this.props.setState} type={ChartElementType.LINE} />\n                    <ElementDropZone color=\"rgb(229, 239, 212)\" imgFile=\"icons/vertical_bar.svg\" shapes={this.props.shapes} state={this.props.state} setState={this.props.setState} type={ChartElementType.BAR} />\n                    <ElementDropZone color=\"#E4CCF0\" imgFile=\"icons/vertical_boxplot.svg\" shapes={this.props.shapes} state={this.props.state} setState={this.props.setState} type={ChartElementType.BOX_PLOT} />\n                    <ElementDropZone color=\"#F6E6C3\" imgFile=\"icons/scatter.svg\" shapes={this.props.shapes} state={this.props.state} setState={this.props.setState} type={ChartElementType.SCATTER} />\n                </div>\n            </div>\n        </div>)\n    }\n\n}","import React from 'react';\nimport { ChartElementType } from '../datastructure/chartelements/ChartElement';\nimport {ChartExtractorState} from './ChartExtractor';\n\nimport Plot from 'react-plotly.js';\nimport AxisCoordinate2D from '../datastructure/AxisCoordinate2D';\nimport SubChartElement from '../datastructure/chartelements/SubChartElement';\n\ninterface ReconstructedChartProps {\n    state : ChartExtractorState;\n    setState : any;\n}\n\ninterface CoordArray {\n    x : number[],\n    y : number[]\n}\n\nexport default class ReconstructedChart extends React.Component<ReconstructedChartProps, any> {\n    static dashLineStyle = ['solid', 'dash', 'dot', 'longdash', 'dashdot', 'longdashdot'];\n    static markerSymbols = ['circle', 'cross', 'square', 'diamond', 'triangle', 'pentagon', 'hexagon', 'octagon', 'star'];\n    static barPatternStyle = ['', '/', '\\\\', 'x', '-', '|', '+', '.'];\n\n    constructor(props) {\n        super(props)\n    }\n\n    axisCoordToArray(coord : AxisCoordinate2D[]) : CoordArray {\n        const x = [];\n        const y = [];\n\n        for (const pt of coord) {\n            x.push(pt.x.value);\n            y.push(pt.y.value);\n        }\n\n        return {x: x, y: y};\n    }\n\n    render() : JSX.Element {\n\n        // Get all the series and put them in plotly's data format\n        const traces = [];\n        const styleCounter = {};\n        for (const serie of this.props.state.dataTable.series) {\n            if (!(serie instanceof SubChartElement)) { // Only main elements have traces. Error bars etcs are just parameters\n                const coords = this.axisCoordToArray(serie.data);\n\n                let errorBar = null;\n                if (serie.hasErrorBars()) {\n                    const upperValue = this.axisCoordToArray(serie.upperErrorBar.data).y;\n                    const lowerValue = this.axisCoordToArray(serie.lowerErrorBar.data).y;\n                    const array = upperValue.map((v, i) => Math.abs(v - coords.y[i]));\n                    const arrayMinus = lowerValue.map((v, i) => Math.abs(v - coords.y[i]));\n\n                    errorBar = {\n                        type: 'data',\n                        symmetric: false,\n                        array: array,\n                        arrayminus: arrayMinus\n                    }\n                }\n\n                let color = serie.getMainColor();\n                if (color === \"#ffffff\") color = \"#CCCCCC\" // White series are invisible with plotly, so we convert them to gray\n                const trace = {\n                    x: coords.x,\n                    y: coords.y,\n                    name: serie.name,\n                    error_y: errorBar,\n                    line: {\n                        color: color\n                    },\n                    marker: {\n                        color: color\n                    }\n                };\n\n                const styleHash = ChartElementType.LINE + \".\" + color;\n                // We do not want two series to have the same style, so we count them to determine the style to use\n                if (!(styleHash in styleCounter)) styleCounter[styleHash] = 0;\n                const styleId = styleCounter[styleHash];\n\n                if (serie.is(ChartElementType.LINE)) {\n                    trace['type'] = \"scatter\";\n                    trace['mode'] = \"lines\";\n                    trace.line['dash'] = ReconstructedChart.dashLineStyle[styleId % ReconstructedChart.dashLineStyle.length];\n                }\n\n                if (serie.is(ChartElementType.SCATTER)) {\n                    trace['type'] = \"scatter\"\n                    trace['mode'] = \"markers\"\n                    trace.marker['symbol'] = ReconstructedChart.markerSymbols[styleId % ReconstructedChart.markerSymbols.length];\n                }\n\n                if (serie.is(ChartElementType.BAR)) {\n                    trace['type'] = \"bar\"\n                    trace.marker['pattern'] = {\n                        shape: ReconstructedChart.barPatternStyle[styleId % ReconstructedChart.barPatternStyle.length]\n                    };\n                }\n\n                if (serie.is(ChartElementType.BOX_PLOT)) {\n                    trace['type'] = \"box\";\n                    trace['median'] = coords.y;\n                    trace['y'] = undefined;\n                    if (serie.linkedElements[5] !== null) trace['lowerfence'] = this.axisCoordToArray(serie.linkedElements[5].data).y;\n                    if (serie.linkedElements[4] !== null) trace['upperfence'] = this.axisCoordToArray(serie.linkedElements[4].data).y;\n                    if (serie.linkedElements[2] !== null) trace['q1'] = this.axisCoordToArray(serie.linkedElements[2].data).y;\n                    if (serie.linkedElements[3] !== null) trace['q3'] = this.axisCoordToArray(serie.linkedElements[3].data).y;\n                }\n                \n                traces.push(trace);\n                styleCounter[styleHash] += 1;\n            }\n        }\n\n\n        return (\n            <Plot\n                style={{width: \"100%\", height: \"100%\"}}\n                useResizeHandler={true}\n                data={traces}\n                layout={ {\n                    autosize: true,\n                    title: this.props.state.dataTable.name,\n                    xaxis: {\n                        type: this.props.state.dataTable.axisX.isCategorical() ? \"category\" : \"linear\",\n                        title: this.props.state.dataTable.axisX.name\n                    },\n                    yaxis: {\n                        type: this.props.state.dataTable.axisY.isCategorical() ? \"category\" : \"linear\",\n                        title: this.props.state.dataTable.axisY.name\n                    },\n                    boxmode: 'group' // Needed to support boxplot with the x position. Should not impact other types of charts.\n                } }\n            />\n        );\n    }\n}","import ShapeCommand from \"../../datastructure/ShapeCommand\";\n\n\nclass ComparableColor {\n    color : string\n    hash : string\n    constructor(shape : ShapeCommand) {\n        this.hash = this.color = shape.isFilled ? shape.fillStyle : shape.strokeStyle;\n    }\n\n    /**\n     * Called whenever another shape is found to have the same hash\n     * Used to updated the shape and only keep the most representative one\n     * @param shape \n     */\n    updateShape(shape : ShapeCommand) : void {\n        return;\n    }\n}\nexport default class ColorFilter {\n    /**\n     * Extract the value used by the filter\n     * @param {ShapeCommand} shape \n     */\n    getValue(shape : ShapeCommand) : any {\n        return new ComparableColor(shape);\n    }\n\n    /**\n     * Paint a representation of the value, usually used as icons on filter buttons\n     * @param {CanvasRenderingContext2D} ctx \n     * @param {Color} value \n     * @param {Number} width Width of the canvas\n     * @param {Number} height Height of the canvas\n     */\n    paint(ctx : CanvasRenderingContext2D, value : ComparableColor, width : number, height : number) : void {\n        ctx.fillStyle = value.color;\n        ctx.fillRect(0, 0, width, height);\n    }\n\n    getName() : string {\n        return \"Color Filter\";\n    }\n\n    minNumberElements() : number {\n        return 0; // Only group colours as one filter if there is more than 0 element\n    }\n}","import ShapeCommand from \"../../datastructure/ShapeCommand\";\nimport ShapeUtils from \"../../utils/ShapeUtils\";\n\nclass ComparableShape {\n    angles : number[];\n    shape : ShapeCommand;\n    hash : string;\n\n    constructor(shape : ShapeCommand) {\n        this.angles = [];\n        this.shape = shape;\n        this.hash = \"\";\n\n        if (shape.text !== undefined) {\n            this.hash = \"text\";\n        } else {\n            this.angles = ShapeUtils.shapeToAngles(shape, 45/Math.PI, true); // We are generous and only consider 10 different angles + related to origin as orientations matter\n            this.hash = this.angles.join(\".\");\n        }\n    }\n\n    /**\n     * Called whenever another shape is found to have the same hash\n     * Used to updated the shape and only keep the most representative one\n     * @param shape \n     */\n    updateShape(shape : ShapeCommand) : void {\n        // Keep the shape that fits the best inside a rectangle\n        // If we have to draw an icon, it will fit better if it's squared\n        // We also prefer non-filled versions\n        const squareRatio = Math.abs(1 - (this.shape.rect.width/this.shape.rect.height));\n        const candidateRatio = Math.abs(1 - (shape.rect.width/shape.rect.height));\n\n        if ((!shape.isFilled && this.shape.isFilled) || candidateRatio < squareRatio) {\n            this.shape = shape;\n        }\n    }\n}\n\nexport default class ShapeFilter {\n    /**\n     * Extract the value used by the filter\n     * @param {ShapeCommand} shape \n     */\n    getValue(shape : ShapeCommand) : any {\n        // Compute a representation of the shape taht can easily be compared\n        // Here, we compute the list of angles\n        return new ComparableShape(shape);\n    }\n\n    /**\n     * Paint a representation of the value, usually used as icons on filter buttons\n     * @param {CanvasRenderingContext2D} ctx \n     * @param {Color} value \n     * @param {Number} width Width of the canvas\n     * @param {Number} height Height of the canvas\n     */\n    paint(ctx : CanvasRenderingContext2D, value : ComparableShape, width : number, height : number) : void {\n        ctx.fillStyle = \"white\";\n        ctx.fillRect(0, 0, width, height);\n        ctx.fillStyle = \"black\";\n        if (value.hash === \"text\") {\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.font = 'bold 80px Arial';\n            ctx.fillText(\"Aa\", width/2, height/2);\n        } else if (value.hash === \"misc\") {\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.font = 'bold 100px Arial';\n            ctx.fillText(\"?\", width/2, height/2);\n        } else {\n            const rect = value.shape.rect;\n            const s = (width-1) / Math.max(rect.width, rect.height);\n\n            ctx.save();\n\t\t\t// Center the shape\n\t\t\tctx.translate((width-(rect.width*s))/2.0, (width-(rect.height*s))/2.0);\n\t\t\t// Resize to fit within the icon\n\t\t\tctx.scale(s, s);\n\t\t\t// Place the shape at 0,0\n\t\t\tctx.translate(-rect.x, -rect.y);\n            // Save the shape's style\n            var cmdStyle = {};\n            ShapeCommand.copyStyle(cmdStyle, value.shape);\n            value.shape.fillStyle = value.shape.strokeStyle = \"black\"\n            value.shape.globalAlpha = 1.0;\n\n            value.shape.draw(ctx);\n            // Restore the shape's original style\n            ShapeCommand.copyStyle(value.shape, cmdStyle);\n\n            ctx.restore();\n        }\n    }\n\n    getName() : string {\n        return \"Shape Filter\";\n    }\n\n    minNumberElements() : number {\n        return 1; // Only group shapes as one filter if there is more than 1 element\n    }\n}","import React from 'react';\nimport ChartView from './ChartView';\nimport FilterPanel from './filters/FilterPanel';\nimport DataTable from '../datastructure/DataTable';\nimport ShapeSelection from '../datastructure/ShapeSelection';\nimport AxisExtractor from '../utils/extractors/AxisExtractor';\nimport UndoManager from '../utils/UndoManager';\nimport DraggableShapeSelection from './DraggableShapeSelection';\nimport AxisWidget from './widgets/AxisWidget';\nimport SeriesWidget from './widgets/SeriesWidget';\nimport ShapeCommand from '../datastructure/ShapeCommand';\nimport Overlay from '../datastructure/Overlay';\nimport GridLayout from 'react-grid-layout';\nimport ReconstructedChart from './ReconstructedChart';\nimport ColorFilter from './filters/ColorFilter';\nimport ShapeFilter from './filters/ShapeFilter';\n\n\nexport interface ChartExtractorState {\n    filteredShapes : ShapeCommand[],\n    extractor : any,\n    dataTable : DataTable,\n    shapeSelection : ShapeSelection,\n    overlay : Overlay\n}\n\ninterface ChartExtractorProps {\n    chart : any\n}\n\nexport default class ChartExtractor extends React.Component<ChartExtractorProps, ChartExtractorState> {\n    filters : FilterPanel[];\n    chartView : ChartView;\n    seriesWidget : SeriesWidget;\n    xAxisWidget : AxisWidget;\n    yAxisWidget : AxisWidget;\n    statusBarText : string;\n    draggableShapeSelection : DraggableShapeSelection;\n    globalMouseMoveListener : (this: Document, ev: MouseEvent) => any;\n\n\n    constructor(props : ChartExtractorProps) {\n        super(props);\n\n        var dataTable = new DataTable();\n\n        this.state = {\n            filteredShapes: this.props.chart.shapes,\n            extractor: new AxisExtractor(dataTable.axisX),\n            dataTable: dataTable,\n            shapeSelection: new ShapeSelection(),\n            overlay: new Overlay()\n        };\n\n        UndoManager.get().dataTable = dataTable;\n        this.filters = [];\n        this.chartView = null;\n        this.seriesWidget = null;\n        this.xAxisWidget = null;\n        this.yAxisWidget = null;\n        this.statusBarText = \"\";\n        this.draggableShapeSelection = null;\n        this.globalMouseMoveListener = null;\n\n        var self = this;\n        window.onresize = function () {\n            self.forceUpdate();\n        }\n\n        document.onkeydown = (ev => {this.onKeyDown(ev)});\n        document.onkeyup = (ev => {this.onKeyUp(ev)});\n    }\n\n    onUndo() : void {\n        if (UndoManager.get().canUndo()) {\n            this.restoreDataTable(UndoManager.get().undo());\n        }\n    }\n\n    onRedo() : void {\n        if (UndoManager.get().canRedo()) {\n            this.restoreDataTable(UndoManager.get().redo());\n        }\n    }\n\n    onKeyDown(event : KeyboardEvent) : void {\n        if (event.ctrlKey || event.metaKey) { // Use metaKey for macOS\n            // It's a keyboard shortcut\n            if (event.key === 'y' || (event.key === 'z' && event.shiftKey)) {\n                this.onRedo();\n            } else if (event.key === 'z') {\n                this.onUndo();\n            }\n        } else {\n            if (event.key === \" \") {\n                if (this.chartView !== null) {\n                    this.chartView.enterPanMode();\n                }\n            } else if (event.key === \"Escape\") {\n                if (this.draggableShapeSelection !== null) {\n                    this.draggableShapeSelection.clearShapes();\n                }\n            } else if (event.key === \"Shift\") {\n                if (this.draggableShapeSelection !== null) {\n                    this.draggableShapeSelection.hide(); // No draggable selection while using shift as it would hamper proper selection\n                }\n            }\n        }\n    }\n\n    restoreDataTable(dataTable : DataTable) : void {\n        this.setState({dataTable: dataTable});\n        UndoManager.get().dataTable = dataTable;\n    }\n\n    onKeyUp(event : KeyboardEvent) : void {\n        if (event.key === \" \") {\n            if (this.chartView !== null) {\n                this.chartView.exitPanMode();\n            }\n        } else if (event.key === \"Shift\") {\n            if (this.draggableShapeSelection !== null) {\n                this.draggableShapeSelection.show();\n            }\n        }\n    }\n\n    /**\n     * Returns all the 'ghost\" shapes\n     * A shape becomes a ghost once its selected\n     */\n    getGhostShapes() : ShapeCommand[] {\n        var ghosts : ShapeCommand[] = [];\n        // No other solution than to go through all the elements\n        ghosts = ghosts.concat(this.state.dataTable.axisX.shapes);\n        ghosts = ghosts.concat(this.state.dataTable.axisY.shapes);\n        for (var i = 0; i < this.state.dataTable.series.length; ++i) {\n            var serie = this.state.dataTable.series[i];\n            ghosts = ghosts.concat(serie.shapes);\n        }\n\n        // Shapes from the draggable selection should also be ghosts\n        if (this.state.shapeSelection.isDragged) {\n            var shapesIdx = this.state.shapeSelection.shapesIdx;\n            for (var j = 0; j < shapesIdx.length; ++j) {\n                var idx = shapesIdx[j];\n                var shape = this.state.filteredShapes[idx];\n                ghosts.push(shape);\n            }\n        }\n\n        return ghosts;\n    }\n\n    onFilterChanged() : void {\n        var shapes = this.props.chart.shapes;\n        for (var i = 0; i < this.filters.length; ++i) {\n            shapes = this.filters[i].apply(shapes);\n        }\n\n        // Should clear the selection too in case the selected shapes got filtered\n        this.state.shapeSelection.clear();\n\n        this.setState({ filteredShapes: shapes});\n    }\n\n    onMouseMoved(pos : MouseEvent) : void {\n        var text = \"Value: (\"\n        let vx = this.state.dataTable.axisX.pixelToTick(pos.x);\n        let vy = this.state.dataTable.axisY.pixelToTick(pos.y);\n        if (Number.isFinite(vx)) vx = vx.toFixed(2);\n        if (Number.isFinite(vy)) vy = vy.toFixed(2);\n\n        text += vx;\n        text += \", \";\n        text += vy;\n        text += \" Pixels: (\";\n        text += pos.x.toFixed() + \", \" + pos.y.toFixed() + \")\";\n\n        this.statusBarText = text;\n\n        // We kind of bypass React's default way of updating the DOM here (by modifying the state)\n        // to avoid performances issues (we do not want the element to be re-rendered every time the mouse moves).\n        var statusBar = document.getElementById(\"statusBar\");\n        if (statusBar !== undefined && statusBar !== null) {\n            statusBar.innerHTML = this.statusBarText;\n        }\n\n    }\n\n    updateLayout() : void {\n        if (this.chartView != null) {\n            this.chartView.resize();\n        }\n    }\n\n\n    onGlobalMouseMove(event : MouseEvent) : void {\n        var dragElement = document.getElementById(\"dragElement\");\n        if (dragElement !== null) {\n            dragElement.style.left = (event.clientX - dragElement.clientWidth/2) + 'px';\n            dragElement.style.top = (event.clientY - dragElement.clientHeight/2) + 'px';\n        }\n    }\n\n    componentDidMount() : void {\n        this.updateLayout();\n        this.globalMouseMoveListener = this.onGlobalMouseMove.bind(this);\n        document.addEventListener('mousemove', this.globalMouseMoveListener);\n    }\n\n    componentWillUnmount() : void {\n        document.removeEventListener('mousemove', this.globalMouseMoveListener);\n    }\n\n    componentDidUpdate() : void {\n        this.updateLayout();\n    }\n\n    getChart() : any {\n        return this.props.chart;\n    }\n\n    getDraggableSelection() : DraggableShapeSelection {\n        return this.draggableShapeSelection;\n    }\n\n    render() : JSX.Element {\n        const nbRows = 24;\n        const nbCols = 24;\n        const verticalMargin = 4; // Vertical margin between panels\n        const horizontalMargin = 4; // Horizontal margin between panels\n        const rowHeight = Math.floor(Math.max((document.body.offsetHeight-verticalMargin)/nbRows-verticalMargin, 21)); // Cannot go below 21 otherwise some panels become unusable\n        const chartRect = this.props.chart.rect;\n        const aspectRatio = chartRect.height/chartRect.width;\n        const chartViewHeight = aspectRatio * 15 * (document.body.offsetWidth-horizontalMargin)/nbCols-horizontalMargin;\n        const chartViewHeightUnits = Math.min(Math.round(chartViewHeight/rowHeight)+1, 22); // +1 for the filters\n        const chartViewMargin = Math.round((22-chartViewHeightUnits)/2);\n\n        const layout = [\n            {i: 'menuBar'   , x: 0, y: 0,  w: 24, h: 1, static: true},\n            {i: 'axisTableX', x: 0, y: 1,  w: 9,  h: 3},\n            {i: 'axisTableY', x: 0, y: 4,  w: 9,  h: 3},\n            {i: 'dataTable' , x: 0, y: 6,  w: 9,  h: 8},\n            {i: 'newChart'  , x: 0, y: 14,  w: 9,  h: 9},\n            {i: 'chartView' , x: 9, y: 1,  w: 15, h: chartViewHeightUnits},\n            {i: 'statusBar' , x: 9, y: chartViewHeightUnits+1, w: 15, h: 1, static: true},\n          ];\n\n          // Need to clear the filters as we are going to add new ones\n          this.filters = [];\n\n          return (\n            <div id='chartExtractor'>\n                <DraggableShapeSelection ref={draggableShapeSelection => this.draggableShapeSelection = draggableShapeSelection}\n                    state={this.state}\n                    setState={this.setState.bind(this)}\n                />\n                <GridLayout className=\"layout\" \n                            draggableHandle=\".panelDragHandle\"\n                            layout={layout} \n                            cols={nbCols} \n                            rowHeight={rowHeight} \n                            width={document.body.offsetWidth}\n                            containerPadding={[0, 0]}\n                            margin={[horizontalMargin, verticalMargin]}\n                            onLayoutChange={e => {this.updateLayout()}}\n                            resizeHandles={[\"se\"]}\n                            autoSize={false}\n                            compactType={null}\n                            >\n                <div key=\"menuBar\" className=\"title\">\n                    <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\n                        <div>\n                            <button className={\"button big\" + (UndoManager.get().canUndo() ? \"\" : \" disabled\")} onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.onUndo()}>\n                                <i className=\"fa fa-undo\" aria-hidden=\"true\"></i> Undo ({UndoManager.get().undoHistory.length > 9 ? \"+9\" : UndoManager.get().undoHistory.length})\n                            </button>\n                            <button className={\"button big\" + (UndoManager.get().canRedo() ? \"\" : \" disabled\")} onMouseDown={(e) => e.preventDefault()} onClick={(event)=> this.onRedo()}>\n                                <i className=\"fa fa-repeat\" aria-hidden=\"true\"></i> Redo ({UndoManager.get().redoHistory.length > 9 ? \"+9\" : UndoManager.get().redoHistory.length})\n                            </button>\n                        </div>\n\n                        <div>\n                            <i className=\"fa fa-bar-chart\" aria-hidden=\"true\"></i> ChartDetective \n                        </div>\n\n                        <div></div>\n                    </div>\n                </div>\n\n                <div key=\"chartView\" className=\"panel\">\n                    <div style={{width: '100%', height: '100%'}}> {/* This div is just there so that the ChartView can resize properly and take the filters into account */}\n                        <div className=\"panelDragHandle panelTitle\"><i className=\"fa fa-line-chart\" aria-hidden=\"true\"></i> Chart</div>\n\n\n                        <FilterPanel ref={filter => {if (filter !== null) this.filters.push(filter)}}\n                                onFilterChanged={this.onFilterChanged.bind(this)}\n                                filter={new ColorFilter()}\n                                shapes={this.props.chart.shapes} />\n\n                        <FilterPanel ref={filter => {if (filter !== null) this.filters.push(filter)}}\n                                onFilterChanged={this.onFilterChanged.bind(this)}\n                                filter={new ShapeFilter()}\n                                shapes={this.props.chart.shapes} />\n\n                        <div className=\"panelSeparator\"></div>\n                        <ChartView ref={chartView => this.chartView = chartView}\n                            state={this.state}\n                            setState={this.setState.bind(this)}\n                            getDraggableSelection={this.getDraggableSelection.bind(this)}\n                            ghostShapes={this.getGhostShapes()}\n                            chart={{rect: this.props.chart.rect, shapes: this.state.filteredShapes}} // Should display what has been filtered\n                            onMouseMoved={this.onMouseMoved.bind(this)} />\n                    </div>\n                </div>\n                <div key=\"axisTableX\" className=\"panel\" >\n                        <AxisWidget\n                            ref={axisWidget => this.xAxisWidget = axisWidget}\n                            axis={this.state.dataTable.axisX}\n                            state={this.state}\n                            shapes={this.props.chart.shapes}\n                            setState={this.setState.bind(this)}\n                        >\n                            <div className=\"panelDragHandle\" style={{position: \"absolute\", top: 4, left: 5, fontSize: \"14px\"}}><i className=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></div>\n                        </AxisWidget>\n                </div>\n\n                <div key=\"axisTableY\" className=\"panel\">\n                        <AxisWidget\n                            ref={axisWidget => this.yAxisWidget = axisWidget}\n                            axis={this.state.dataTable.axisY}\n                            state={this.state}\n                            shapes={this.props.chart.shapes}\n                            setState={this.setState.bind(this)}\n                        >\n                            <div className=\"panelDragHandle\" style={{position: \"absolute\", top: 4, left: 5, fontSize: \"14px\"}}><i className=\"fa fa-arrow-up\" aria-hidden=\"true\"></i></div>\n                        </AxisWidget>\n                </div>\n                <div key=\"dataTable\" className=\"panel scrollY\" >\n                        <SeriesWidget\n                            ref={seriesWidget => this.seriesWidget = seriesWidget}\n                            dataTable={this.state.dataTable}\n                            state={this.state}\n                            shapes={this.props.chart.shapes}\n                            setState={this.setState.bind(this)}\n                        >\n                            <div className=\"panelDragHandle\" style={{position: \"absolute\", top: 4, left: 5, fontSize: \"16px\"}}><i className=\"fa fa-table\" aria-hidden=\"true\"></i></div>\n                        </SeriesWidget>\n                </div>\n                <div key=\"newChart\" className=\"panel\" >\n                        <div className=\"panelDragHandle panelTitle\"><i className=\"fa fa-line-chart\" aria-hidden=\"true\"></i> Reconstructed Chart</div>\n                        <div style={{flex: 1, width: \"100%\", overflow: \"scroll\"}}>\n                            <ReconstructedChart\n                                state={this.state}\n                                setState={this.setState.bind(this)}\n                            />\n                        </div>\n                </div>\n\n                <div key=\"statusBar\" className=\"panel\" >\n                    <div id='statusBar' style={{ textAlign: 'right' }}>{this.statusBarText}</div>\n                </div>\n                </GridLayout>\n                <div id=\"snackbar-container\"></div>\n            </div>\n          )\n    }\n}","import ShapeCommand from '../datastructure/ShapeCommand';\n\n\n/**\n * PDFjs uses a bunch of canvas to render the PDF. The CanvasFactory is the class handling the creation of canvases.\n * For this project, we need to access the list of shapes drawn on the Canvas representing the PDF. We cannot get this information easily with PDFjs\n * but luckily, we can pass a custom CanvasFactory. The idea is then to return \"hooked\" canvases, i.e., every method called on the canvas is logged and creates shapes.\n * This way, all canvases contain the list of shapes used.\n */\n// Based on BaseCanvasFactory (https://github.com/mozilla/pdf.js/blob/c7c59feeaf46a2c97abb9d936b083a3a8f82787d/src/display/base_factory.js)\n// and DOMCanvasFactory (https://github.com/mozilla/pdf.js/blob/7beb67af7b2a0766785654b5f04855cf8c931f92/src/display/display_utils.js)\nexport default class HookedCanvasFactory {\n\n  hookedCtx : CanvasRenderingContext2D;\n  hookedCtxs : CanvasRenderingContext2D[];\n  origGetContext : any;\n\n  constructor(context) {\n      this.hookedCtxs = [];\n      this.hookedCtx = context;\n      this.hookCtx(context);\n  }\n\n  _createCanvas(width, height) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    const ctx = canvas.getContext(\"2d\");\n    // We hook every single canvas being created to render the PDF\n    this.hookCtx(ctx);\n\n    return {\n      canvas,\n      context: ctx\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n    // We hook the canvas in case it was not already hooked\n    // + the canvas has been reset, so we should clear the commands\n    const ctx = canvasAndContext.context;\n    if (ctx.isHooked !== undefined) {\n      ctx.commands = [];\n    }\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    this.unhookCtx(canvasAndContext.context);\n\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  getCommands() {\n      return (this.hookedCtx as any).commands;\n  }\n\n  getCurrentCmd(ctx) {\n      if (ctx.currentCommand == null) {\n          ctx.currentCommand = new ShapeCommand();\n          // Make sure the new command has the current style\n          ctx.currentCommand.saveStyle(ctx);\n      }\n      return ctx.currentCommand;\n  }\n\n  addCommand(ctx, cmd) {\n      cmd.saveStyle(ctx);\n      cmd.computeBBox(ctx);\n      ctx.commands.push(cmd);\n  }\n\n  /* Drawing rectangles */\n  // Not supported - not used in PDFjs\n  clearRect(ctx, x, y, width, height) {\n      console.log(\"clearRect not supported\");\n  }\n\n  fillRect(ctx, x, y, width, height) {\n      //console.log(\"fillRect not supported\");\n  }\n\n  strokeRect(ctx, x, y, width, height) {\n      console.log(\"strokeRect not supported\");\n  }\n\n  /* Drawing text */\n  // This function is only available because we use a modified pdfjs\n  glyphFillText(ctx, text, x, y, glyphs, glyphIdx) {\n      var textCommand = new ShapeCommand();\n      textCommand.text = text;\n      textCommand.textX = x;\n      textCommand.textY = y;\n      textCommand.isFilled = true;\n      if (glyphs !== undefined && glyphIdx !== undefined) {\n          textCommand.unicode = glyphs[glyphIdx].unicode;\n      }\n      this.addCommand(ctx, textCommand);\n  }\n\n  strokeText(ctx, text, x, y, maxWidth = undefined) {\n    var textCommand = new ShapeCommand();\n    textCommand.unicode = textCommand.text = text;\n    textCommand.textX = x;\n    textCommand.textY = y;\n    textCommand.isFilled = true;\n    this.addCommand(ctx, textCommand);\n  }\n\n  /* Paths */\n  beginPath(ctx) {\n      ctx.currentCommand = new ShapeCommand();\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.BEGIN);\n  }\n\n  closePath(ctx) {\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.CLOSE);\n  }\n\n  moveTo(ctx, ...args) {\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.MOVETO, args);\n  }\n\n  lineTo(ctx, ...args) {\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.LINETO, args);\n  }\n\n  bezierCurveTo(ctx, ...args) {\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.CURVETO, args);\n  }\n\n  quadraticCurveTo(ctx, cpx, cpy, x, y) {\n      // PDFjs relies solely on bezierCurveTo\n      console.log(\"quadraticCurveTo not supported\")\n  }\n\n  arc(ctx, x, y, radius, startAngle, endAngle, anticlockwise=false) {\n      console.log(\"arc not supported\");\n  }\n\n  arcTo(ctx, x1, y1, x2, y2, radius) {\n      console.log(\"arcTo not supported\");\n  }\n\n  clip(ctx, path, fillRule) {\n      if (!ctx['clipPaths']) {\n        ctx['clipPaths'] = [];\n      }\n\n      ctx['clipPaths'].push({path: this.getCurrentCmd(ctx).path, transform: DOMMatrix.fromMatrix(ctx.getTransform())});\n  }\n\n  ellipse(ctx, x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise=false) {\n      console.log(\"ellipse not supported\");\n  }\n\n  rect(ctx, x, y, width, height) {\n      ctx.currentCommand = new ShapeCommand();\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.BEGIN);\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.MOVETO, [x, y]);\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.LINETO, [x, y+height]);\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.LINETO, [x+width, y+height]);\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.LINETO, [x+width, y]);\n      this.getCurrentCmd(ctx).addCmd(ShapeCommand.types.CLOSE);\n  }\n\n  fill(ctx, path=undefined) {\n      this.getCurrentCmd(ctx).isFilled = true;\n      this.addCommand(ctx, this.getCurrentCmd(ctx));\n\n      // Fill or stroke could be used again, so we need to clone the current command\n      ctx.currentCommand = ctx.currentCommand.clone();\n  }\n\n  save(ctx) {\n      if (!ctx[\"savedClippingPaths\"]) {\n        ctx[\"savedClippingPaths\"] = [];\n      }\n\n      ctx[\"savedClippingPaths\"].push([].concat(ctx['clipPaths']))\n  }\n\n  restore(ctx) {\n    if (ctx[\"savedClippingPaths\"]) {\n      ctx['clipPaths'] = ctx[\"savedClippingPaths\"].pop();\n    }\n  }\n\n  stroke(ctx, path=undefined) {\n      this.getCurrentCmd(ctx).isFilled = false;\n      this.addCommand(ctx, this.getCurrentCmd(ctx));\n      // Fill or stroke could be used again, so we need to clone the current command\n      ctx.currentCommand = ctx.currentCommand.clone();\n  }\n\n  drawImage(ctx, image) {\n      try {\n          if (image.getContext !== undefined) {\n              let x = arguments[2];\n              let y = arguments[3];\n              if (arguments.length > 4) {\n                  // a clipping rectangle is defined\n                  x = arguments[6];\n                  y = arguments[7];\n                  console.log(\"drawImage with clipping rect not supported\");\n              }\n              const imgCtx = image.getContext(\"2d\");\n              const commands = imgCtx.commands;\n              image.hooked = true;\n              // We are drawing the image, so all the commands should be transferred to the canvas being drawn on\n              for (const cmd of commands) {\n                  var clonedCmd = cmd.clone();\n                  //TODO: Clone cmd\n                  if (clonedCmd.transform !== null) {\n                      clonedCmd.transform = ctx.getTransform().multiply(clonedCmd.transform);\n                      //cmd.transform = cmd.transform.multiply(ctx.getTransform());\n                  } else {\n                      clonedCmd.transform = DOMMatrix.fromMatrix(ctx.getTransform());\n                  }\n                  clonedCmd.globalAlpha *= ctx.globalAlpha;\n                  clonedCmd.computeBBox(ctx);\n\n                  ctx.commands.push(clonedCmd);\n              }\n          }\n      } catch(err) {\n          console.log(err);\n      }\n\n  }\n\n  hookCtx(ctx) {\n    if (ctx.isHooked !== undefined && ctx.isHooked) {\n      // The context has already been hooked, this can happen when flipping pages really quickly\n      // In that case, we undo the hook, and then redo it starting from a clean state\n      this.unhookCtx(ctx);\n    }\n\n    this.hookedCtxs.push(ctx);\n    ctx.isHooked = true;\n    ctx.hookId = this.hookedCtxs.length;\n    ctx.origFunctions = {};\n    ctx.commands = [];\n    ctx.currentCommand = null;\n    ctx.lastWidth = ctx.canvas.width;\n    ctx.lastHeight = ctx.canvas.height;\n    this.hookMethod(ctx, 'clearRect', this.clearRect);\n    this.hookMethod(ctx, 'fillRect', this.fillRect);\n    this.hookMethod(ctx, 'strokeRect', this.strokeRect);\n    //this.hookMethod(ctx, 'fillText', this.fillText);\n    this.hookMethod(ctx, 'strokeText', this.strokeText);\n    this.hookMethod(ctx, 'beginPath', this.beginPath);\n    this.hookMethod(ctx, 'closePath', this.closePath);\n    this.hookMethod(ctx, 'moveTo', this.moveTo);\n    this.hookMethod(ctx, 'lineTo', this.lineTo);\n    this.hookMethod(ctx, 'bezierCurveTo', this.bezierCurveTo);\n    this.hookMethod(ctx, 'quadraticCurveTo', this.quadraticCurveTo);\n    this.hookMethod(ctx, 'arc', this.arc);\n    this.hookMethod(ctx, 'arcTo', this.arcTo);\n    this.hookMethod(ctx, 'ellipse', this.ellipse);\n    this.hookMethod(ctx, 'rect', this.rect);\n    this.hookMethod(ctx, 'fill', this.fill);\n    this.hookMethod(ctx, 'stroke', this.stroke);\n    // Uncomment to support clipping (still experimental and might mess up some charts)\n    //this.hookMethod(ctx, 'clip', this.clip);\n    //this.hookMethod(ctx, 'save', this.save);\n    //this.hookMethod(ctx, 'restore', this.restore);\n\n    this.hookMethod(ctx, 'drawImage', this.drawImage);\n\n    ctx.glyphFillText = (text, x, y, glyphs, glyphIdx) => {this.glyphFillText(ctx, text, x, y, glyphs, glyphIdx)};\n  }\n\n  unhookCtx(ctx) {\n      for (var key in ctx.origFunctions) {\n          ctx.isHooked = undefined;\n          if (ctx.origFunctions.hasOwnProperty(key)) {\n              ctx[key] = ctx.origFunctions[key];\n          }\n      }\n\n      ctx.commands = undefined;\n  }\n\n  /**\n   * Hook a specific method of an object\n   * The callback will be called everytime the hooked function is called\n   * @param {Object} object Object to hook \n   * @param {String} method  Name of the method to hook\n   * @param {Function} callback Callback called when the hooked function is called\n   */\n  hookMethod(object, method, callback, block=false) {\n      var self = this;\n      object.origFunctions[method] = object[method];\n\n      object[method] = function () {\n          callback.apply(self, [object, ...arguments as any]);\n          if (!block) {\n              object.origFunctions[method].apply(object, arguments);\n          }\n      }\n  }\n\n  uninstallHook() {\n      for (var ctx of this.hookedCtxs) {\n          this.unhookCtx(ctx);\n      }\n  }\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n import HookedCanvasFactory from '../../HookedCanvasFactory';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n/* eslint-disable */\nexport function loadViewer() {\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n;\nlet pdfjsWebApp, pdfjsWebAppOptions;\n{\n  pdfjsWebApp = __webpack_require__(1);\n  pdfjsWebAppOptions = __webpack_require__(3);\n}\n;\n{\n  __webpack_require__(33);\n}\n;\n{\n  __webpack_require__(38);\n}\n\nfunction getViewerConfiguration() {\n  return {\n    appContainer: document.body,\n    mainContainer: document.getElementById(\"viewerContainer\"),\n    viewerContainer: document.getElementById(\"viewer\"),\n    eventBus: null,\n    toolbar: {\n      container: document.getElementById(\"toolbarViewer\"),\n      numPages: document.getElementById(\"numPages\"),\n      pageNumber: document.getElementById(\"pageNumber\"),\n      scaleSelectContainer: document.getElementById(\"scaleSelectContainer\"),\n      scaleSelect: document.getElementById(\"scaleSelect\"),\n      customScaleOption: document.getElementById(\"customScaleOption\"),\n      previous: document.getElementById(\"previous\"),\n      next: document.getElementById(\"next\"),\n      zoomIn: document.getElementById(\"zoomIn\"),\n      zoomOut: document.getElementById(\"zoomOut\"),\n      viewFind: document.getElementById(\"viewFind\"),\n      openFile: document.getElementById(\"openFile\"),\n      print: document.getElementById(\"print\"),\n      presentationModeButton: document.getElementById(\"presentationMode\"),\n      download: document.getElementById(\"download\"),\n      viewBookmark: document.getElementById(\"viewBookmark\")\n    },\n    secondaryToolbar: {\n      toolbar: document.getElementById(\"secondaryToolbar\"),\n      toggleButton: document.getElementById(\"secondaryToolbarToggle\"),\n      toolbarButtonContainer: document.getElementById(\"secondaryToolbarButtonContainer\"),\n      presentationModeButton: document.getElementById(\"secondaryPresentationMode\"),\n      openFileButton: document.getElementById(\"secondaryOpenFile\"),\n      printButton: document.getElementById(\"secondaryPrint\"),\n      downloadButton: document.getElementById(\"secondaryDownload\"),\n      viewBookmarkButton: document.getElementById(\"secondaryViewBookmark\"),\n      firstPageButton: document.getElementById(\"firstPage\"),\n      lastPageButton: document.getElementById(\"lastPage\"),\n      pageRotateCwButton: document.getElementById(\"pageRotateCw\"),\n      pageRotateCcwButton: document.getElementById(\"pageRotateCcw\"),\n      cursorSelectToolButton: document.getElementById(\"cursorSelectTool\"),\n      cursorHandToolButton: document.getElementById(\"cursorHandTool\"),\n      scrollVerticalButton: document.getElementById(\"scrollVertical\"),\n      scrollHorizontalButton: document.getElementById(\"scrollHorizontal\"),\n      scrollWrappedButton: document.getElementById(\"scrollWrapped\"),\n      spreadNoneButton: document.getElementById(\"spreadNone\"),\n      spreadOddButton: document.getElementById(\"spreadOdd\"),\n      spreadEvenButton: document.getElementById(\"spreadEven\"),\n      documentPropertiesButton: document.getElementById(\"documentProperties\")\n    },\n    fullscreen: {\n      contextFirstPage: document.getElementById(\"contextFirstPage\"),\n      contextLastPage: document.getElementById(\"contextLastPage\"),\n      contextPageRotateCw: document.getElementById(\"contextPageRotateCw\"),\n      contextPageRotateCcw: document.getElementById(\"contextPageRotateCcw\")\n    },\n    sidebar: {\n      outerContainer: document.getElementById(\"outerContainer\"),\n      viewerContainer: document.getElementById(\"viewerContainer\"),\n      toggleButton: document.getElementById(\"sidebarToggle\"),\n      thumbnailButton: document.getElementById(\"viewThumbnail\"),\n      outlineButton: document.getElementById(\"viewOutline\"),\n      attachmentsButton: document.getElementById(\"viewAttachments\"),\n      thumbnailView: document.getElementById(\"thumbnailView\"),\n      outlineView: document.getElementById(\"outlineView\"),\n      attachmentsView: document.getElementById(\"attachmentsView\")\n    },\n    sidebarResizer: {\n      outerContainer: document.getElementById(\"outerContainer\"),\n      resizer: document.getElementById(\"sidebarResizer\")\n    },\n    findBar: {\n      bar: document.getElementById(\"findbar\"),\n      toggleButton: document.getElementById(\"viewFind\"),\n      findField: document.getElementById(\"findInput\"),\n      highlightAllCheckbox: document.getElementById(\"findHighlightAll\"),\n      caseSensitiveCheckbox: document.getElementById(\"findMatchCase\"),\n      entireWordCheckbox: document.getElementById(\"findEntireWord\"),\n      findMsg: document.getElementById(\"findMsg\"),\n      findResultsCount: document.getElementById(\"findResultsCount\"),\n      findPreviousButton: document.getElementById(\"findPrevious\"),\n      findNextButton: document.getElementById(\"findNext\")\n    },\n    passwordOverlay: {\n      overlayName: \"passwordOverlay\",\n      container: document.getElementById(\"passwordOverlay\"),\n      label: document.getElementById(\"passwordText\"),\n      input: document.getElementById(\"password\"),\n      submitButton: document.getElementById(\"passwordSubmit\"),\n      cancelButton: document.getElementById(\"passwordCancel\")\n    },\n    documentProperties: {\n      overlayName: \"documentPropertiesOverlay\",\n      container: document.getElementById(\"documentPropertiesOverlay\"),\n      closeButton: document.getElementById(\"documentPropertiesClose\"),\n      fields: {\n        fileName: document.getElementById(\"fileNameField\"),\n        fileSize: document.getElementById(\"fileSizeField\"),\n        title: document.getElementById(\"titleField\"),\n        author: document.getElementById(\"authorField\"),\n        subject: document.getElementById(\"subjectField\"),\n        keywords: document.getElementById(\"keywordsField\"),\n        creationDate: document.getElementById(\"creationDateField\"),\n        modificationDate: document.getElementById(\"modificationDateField\"),\n        creator: document.getElementById(\"creatorField\"),\n        producer: document.getElementById(\"producerField\"),\n        version: document.getElementById(\"versionField\"),\n        pageCount: document.getElementById(\"pageCountField\"),\n        pageSize: document.getElementById(\"pageSizeField\"),\n        linearized: document.getElementById(\"linearizedField\")\n      }\n    },\n    errorWrapper: {\n      container: document.getElementById(\"errorWrapper\"),\n      errorMessage: document.getElementById(\"errorMessage\"),\n      closeButton: document.getElementById(\"errorClose\"),\n      errorMoreInfo: document.getElementById(\"errorMoreInfo\"),\n      moreInfoButton: document.getElementById(\"errorShowMore\"),\n      lessInfoButton: document.getElementById(\"errorShowLess\")\n    },\n    printContainer: document.getElementById(\"printContainer\"),\n    openFileInputName: \"fileInput\",\n    debuggerScriptPath: \"./debugger.js\"\n  };\n}\n\nfunction webViewerLoad() {\n  const config = getViewerConfiguration();\n  window.PDFViewerApplication = pdfjsWebApp.PDFViewerApplication;\n  window.PDFViewerApplicationOptions = pdfjsWebAppOptions.AppOptions;\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(\"webviewerloaded\", true, true, {\n    source: window\n  });\n\n  try {\n    parent.document.dispatchEvent(event);\n  } catch (ex) {\n    console.error(`webviewerloaded: ${ex}`);\n    document.dispatchEvent(event);\n  }\n\n  pdfjsWebApp.PDFViewerApplication.run(config);\n}\n\nif (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n  webViewerLoad();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", webViewerLoad, true);\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPrintServiceFactory = exports.DefaultExternalServices = exports.PDFViewerApplication = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _app_options = __webpack_require__(3);\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _pdf_cursor_tools = __webpack_require__(6);\n\nvar _pdf_rendering_queue = __webpack_require__(8);\n\nvar _pdf_sidebar = __webpack_require__(9);\n\nvar _overlay_manager = __webpack_require__(10);\n\nvar _password_prompt = __webpack_require__(11);\n\nvar _pdf_attachment_viewer = __webpack_require__(12);\n\nvar _pdf_document_properties = __webpack_require__(13);\n\nvar _pdf_find_bar = __webpack_require__(14);\n\nvar _pdf_find_controller = __webpack_require__(15);\n\nvar _pdf_history = __webpack_require__(17);\n\nvar _pdf_link_service = __webpack_require__(18);\n\nvar _pdf_outline_viewer = __webpack_require__(19);\n\nvar _pdf_presentation_mode = __webpack_require__(20);\n\nvar _pdf_sidebar_resizer = __webpack_require__(21);\n\nvar _pdf_thumbnail_viewer = __webpack_require__(22);\n\nvar _pdf_viewer = __webpack_require__(24);\n\nvar _secondary_toolbar = __webpack_require__(29);\n\nvar _toolbar = __webpack_require__(31);\n\nvar _view_history = __webpack_require__(32);\n\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT = 5000;\nconst FORCE_PAGES_LOADED_TIMEOUT = 10000;\nconst WHEEL_ZOOM_DISABLED_TIMEOUT = 1000;\nconst ENABLE_PERMISSIONS_CLASS = \"enablePermissions\";\nconst ViewOnLoad = {\n  UNKNOWN: -1,\n  PREVIOUS: 0,\n  INITIAL: 1\n};\n\nclass DefaultExternalServices {\n  constructor() {\n    throw new Error(\"Cannot initialize DefaultExternalServices.\");\n  }\n\n  static updateFindControlState(data) {}\n\n  static updateFindMatchesCount(data) {}\n\n  static initPassiveLoading(callbacks) {}\n\n  static fallback(data, callback) {}\n\n  static reportTelemetry(data) {}\n\n  static createDownloadManager(options) {\n    throw new Error(\"Not implemented: createDownloadManager\");\n  }\n\n  static createPreferences() {\n    throw new Error(\"Not implemented: createPreferences\");\n  }\n\n  static createL10n(options) {\n    throw new Error(\"Not implemented: createL10n\");\n  }\n\n  static get supportsIntegratedFind() {\n    return (0, _pdfjsLib.shadow)(this, \"supportsIntegratedFind\", false);\n  }\n\n  static get supportsDocumentFonts() {\n    return (0, _pdfjsLib.shadow)(this, \"supportsDocumentFonts\", true);\n  }\n\n  static get supportedMouseWheelZoomModifierKeys() {\n    return (0, _pdfjsLib.shadow)(this, \"supportedMouseWheelZoomModifierKeys\", {\n      ctrlKey: true,\n      metaKey: true\n    });\n  }\n\n  static get isInAutomation() {\n    return (0, _pdfjsLib.shadow)(this, \"isInAutomation\", false);\n  }\n\n}\n\nexports.DefaultExternalServices = DefaultExternalServices;\nconst PDFViewerApplication = {\n  initialBookmark: document.location.hash.substring(1),\n  _initializedCapability: (0, _pdfjsLib.createPromiseCapability)(),\n  fellback: false,\n  appConfig: null,\n  pdfDocument: null,\n  pdfLoadingTask: null,\n  printService: null,\n  pdfViewer: null,\n  pdfThumbnailViewer: null,\n  pdfRenderingQueue: null,\n  pdfPresentationMode: null,\n  pdfDocumentProperties: null,\n  pdfLinkService: null,\n  pdfHistory: null,\n  pdfSidebar: null,\n  pdfSidebarResizer: null,\n  pdfOutlineViewer: null,\n  pdfAttachmentViewer: null,\n  pdfCursorTools: null,\n  store: null,\n  downloadManager: null,\n  overlayManager: null,\n  preferences: null,\n  toolbar: null,\n  secondaryToolbar: null,\n  eventBus: null,\n  l10n: null,\n  isInitialViewSet: false,\n  downloadComplete: false,\n  isViewerEmbedded: window.parent !== window,\n  url: \"\",\n  baseUrl: \"\",\n  externalServices: DefaultExternalServices,\n  _boundEvents: {},\n  contentDispositionFilename: null,\n\n  async initialize(appConfig) {\n    this.preferences = this.externalServices.createPreferences();\n    this.appConfig = appConfig;\n    await this._readPreferences();\n    await this._parseHashParameters();\n    await this._initializeL10n();\n\n    if (this.isViewerEmbedded && _app_options.AppOptions.get(\"externalLinkTarget\") === _pdfjsLib.LinkTarget.NONE) {\n      _app_options.AppOptions.set(\"externalLinkTarget\", _pdfjsLib.LinkTarget.TOP);\n    }\n    await this._initializeViewerComponents();\n    this.bindEvents();\n    this.bindWindowEvents();\n    const appContainer = appConfig.appContainer || document.documentElement;\n    this.l10n.translate(appContainer).then(() => {\n      this.eventBus.dispatch(\"localized\", {\n        source: this\n      });\n    });\n\n    this._initializedCapability.resolve();\n  },\n\n  async _readPreferences() {\n    if (_app_options.AppOptions.get(\"disablePreferences\")) {\n      return;\n    }\n\n    try {\n      const prefs = await this.preferences.getAll();\n\n      for (const name in prefs) {\n        _app_options.AppOptions.set(name, prefs[name]);\n      }\n    } catch (reason) {\n      console.error(`_readPreferences: \"${reason.message}\".`);\n    }\n  },\n\n  async _parseHashParameters() {\n    if (!_app_options.AppOptions.get(\"pdfBugEnabled\")) {\n      return undefined;\n    }\n\n    const hash = document.location.hash.substring(1);\n\n    if (!hash) {\n      return undefined;\n    }\n\n    const hashParams = (0, _ui_utils.parseQueryString)(hash),\n          waitOn = [];\n\n    if (\"disableworker\" in hashParams && hashParams.disableworker === \"true\") {\n      waitOn.push(loadFakeWorker());\n    }\n\n    if (\"disablerange\" in hashParams) {\n      _app_options.AppOptions.set(\"disableRange\", hashParams.disablerange === \"true\");\n    }\n\n    if (\"disablestream\" in hashParams) {\n      _app_options.AppOptions.set(\"disableStream\", hashParams.disablestream === \"true\");\n    }\n\n    if (\"disableautofetch\" in hashParams) {\n      _app_options.AppOptions.set(\"disableAutoFetch\", hashParams.disableautofetch === \"true\");\n    }\n\n    if (\"disablefontface\" in hashParams) {\n      _app_options.AppOptions.set(\"disableFontFace\", hashParams.disablefontface === \"true\");\n    }\n\n    if (\"disablehistory\" in hashParams) {\n      _app_options.AppOptions.set(\"disableHistory\", hashParams.disablehistory === \"true\");\n    }\n\n    if (\"webgl\" in hashParams) {\n      _app_options.AppOptions.set(\"enableWebGL\", hashParams.webgl === \"true\");\n    }\n\n    if (\"verbosity\" in hashParams) {\n      _app_options.AppOptions.set(\"verbosity\", hashParams.verbosity | 0);\n    }\n\n    if (\"textlayer\" in hashParams) {\n      switch (hashParams.textlayer) {\n        case \"off\":\n          _app_options.AppOptions.set(\"textLayerMode\", _ui_utils.TextLayerMode.DISABLE);\n\n          break;\n\n        case \"visible\":\n        case \"shadow\":\n        case \"hover\":\n          const viewer = this.appConfig.viewerContainer;\n          viewer.classList.add(\"textLayer-\" + hashParams.textlayer);\n          break;\n      }\n    }\n\n    if (\"pdfbug\" in hashParams) {\n      _app_options.AppOptions.set(\"pdfBug\", true);\n\n      _app_options.AppOptions.set(\"fontExtraProperties\", true);\n\n      const enabled = hashParams.pdfbug.split(\",\");\n      waitOn.push(loadAndEnablePDFBug(enabled));\n    }\n\n    if (\"locale\" in hashParams) {\n      _app_options.AppOptions.set(\"locale\", hashParams.locale);\n    }\n\n    return Promise.all(waitOn).catch(reason => {\n      console.error(`_parseHashParameters: \"${reason.message}\".`);\n    });\n  },\n\n  async _initializeL10n() {\n    this.l10n = this.externalServices.createL10n({\n      locale: _app_options.AppOptions.get(\"locale\")\n    });\n    const dir = await this.l10n.getDirection();\n    document.getElementsByTagName(\"html\")[0].dir = dir;\n  },\n\n  async _initializeViewerComponents() {\n    const appConfig = this.appConfig;\n    const eventBus = appConfig.eventBus || new _ui_utils.EventBus({\n      isInAutomation: this.externalServices.isInAutomation\n    });\n    this.eventBus = eventBus;\n    this.overlayManager = new _overlay_manager.OverlayManager();\n    const pdfRenderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n    pdfRenderingQueue.onIdle = this.cleanup.bind(this);\n    this.pdfRenderingQueue = pdfRenderingQueue;\n    const pdfLinkService = new _pdf_link_service.PDFLinkService({\n      eventBus,\n      externalLinkTarget: _app_options.AppOptions.get(\"externalLinkTarget\"),\n      externalLinkRel: _app_options.AppOptions.get(\"externalLinkRel\"),\n      ignoreDestinationZoom: _app_options.AppOptions.get(\"ignoreDestinationZoom\")\n    });\n    this.pdfLinkService = pdfLinkService;\n    const downloadManager = this.externalServices.createDownloadManager({\n      disableCreateObjectURL: _app_options.AppOptions.get(\"disableCreateObjectURL\")\n    });\n    this.downloadManager = downloadManager;\n    const findController = new _pdf_find_controller.PDFFindController({\n      linkService: pdfLinkService,\n      eventBus\n    });\n    this.findController = findController;\n    const container = appConfig.mainContainer;\n    const viewer = appConfig.viewerContainer;\n    this.pdfViewer = new _pdf_viewer.PDFViewer({\n      container,\n      viewer,\n      eventBus,\n      renderingQueue: pdfRenderingQueue,\n      linkService: pdfLinkService,\n      downloadManager,\n      findController,\n      renderer: _app_options.AppOptions.get(\"renderer\"),\n      enableWebGL: _app_options.AppOptions.get(\"enableWebGL\"),\n      l10n: this.l10n,\n      textLayerMode: _app_options.AppOptions.get(\"textLayerMode\"),\n      imageResourcesPath: _app_options.AppOptions.get(\"imageResourcesPath\"),\n      renderInteractiveForms: _app_options.AppOptions.get(\"renderInteractiveForms\"),\n      enablePrintAutoRotate: _app_options.AppOptions.get(\"enablePrintAutoRotate\"),\n      useOnlyCssZoom: _app_options.AppOptions.get(\"useOnlyCssZoom\"),\n      maxCanvasPixels: _app_options.AppOptions.get(\"maxCanvasPixels\")\n    });\n    pdfRenderingQueue.setViewer(this.pdfViewer);\n    pdfLinkService.setViewer(this.pdfViewer);\n    this.pdfThumbnailViewer = new _pdf_thumbnail_viewer.PDFThumbnailViewer({\n      container: appConfig.sidebar.thumbnailView,\n      renderingQueue: pdfRenderingQueue,\n      linkService: pdfLinkService,\n      l10n: this.l10n\n    });\n    pdfRenderingQueue.setThumbnailViewer(this.pdfThumbnailViewer);\n    this.pdfHistory = new _pdf_history.PDFHistory({\n      linkService: pdfLinkService,\n      eventBus\n    });\n    pdfLinkService.setHistory(this.pdfHistory);\n\n    if (!this.supportsIntegratedFind) {\n      this.findBar = new _pdf_find_bar.PDFFindBar(appConfig.findBar, eventBus, this.l10n);\n    }\n\n    this.pdfDocumentProperties = new _pdf_document_properties.PDFDocumentProperties(appConfig.documentProperties, this.overlayManager, eventBus, this.l10n);\n    this.pdfCursorTools = new _pdf_cursor_tools.PDFCursorTools({\n      container,\n      eventBus,\n      cursorToolOnLoad: _app_options.AppOptions.get(\"cursorToolOnLoad\")\n    });\n    this.toolbar = new _toolbar.Toolbar(appConfig.toolbar, eventBus, this.l10n);\n    this.secondaryToolbar = new _secondary_toolbar.SecondaryToolbar(appConfig.secondaryToolbar, container, eventBus);\n\n    if (this.supportsFullscreen) {\n      this.pdfPresentationMode = new _pdf_presentation_mode.PDFPresentationMode({\n        container,\n        pdfViewer: this.pdfViewer,\n        eventBus,\n        contextMenuItems: appConfig.fullscreen\n      });\n    }\n\n    this.passwordPrompt = new _password_prompt.PasswordPrompt(appConfig.passwordOverlay, this.overlayManager, this.l10n);\n    this.pdfOutlineViewer = new _pdf_outline_viewer.PDFOutlineViewer({\n      container: appConfig.sidebar.outlineView,\n      eventBus,\n      linkService: pdfLinkService\n    });\n    this.pdfAttachmentViewer = new _pdf_attachment_viewer.PDFAttachmentViewer({\n      container: appConfig.sidebar.attachmentsView,\n      eventBus,\n      downloadManager\n    });\n    this.pdfSidebar = new _pdf_sidebar.PDFSidebar({\n      elements: appConfig.sidebar,\n      pdfViewer: this.pdfViewer,\n      pdfThumbnailViewer: this.pdfThumbnailViewer,\n      eventBus,\n      l10n: this.l10n\n    });\n    this.pdfSidebar.onToggled = this.forceRendering.bind(this);\n    this.pdfSidebarResizer = new _pdf_sidebar_resizer.PDFSidebarResizer(appConfig.sidebarResizer, eventBus, this.l10n);\n  },\n\n  run(config) {\n    this.initialize(config).then(webViewerInitialized);\n  },\n\n  get initialized() {\n    return this._initializedCapability.settled;\n  },\n\n  get initializedPromise() {\n    return this._initializedCapability.promise;\n  },\n\n  zoomIn(ticks) {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    let newScale = this.pdfViewer.currentScale;\n\n    do {\n      newScale = (newScale * DEFAULT_SCALE_DELTA).toFixed(2);\n      newScale = Math.ceil(newScale * 10) / 10;\n      newScale = Math.min(_ui_utils.MAX_SCALE, newScale);\n    } while (--ticks > 0 && newScale < _ui_utils.MAX_SCALE);\n\n    this.pdfViewer.currentScaleValue = newScale;\n  },\n\n  zoomOut(ticks) {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    let newScale = this.pdfViewer.currentScale;\n\n    do {\n      newScale = (newScale / DEFAULT_SCALE_DELTA).toFixed(2);\n      newScale = Math.floor(newScale * 10) / 10;\n      newScale = Math.max(_ui_utils.MIN_SCALE, newScale);\n    } while (--ticks > 0 && newScale > _ui_utils.MIN_SCALE);\n\n    this.pdfViewer.currentScaleValue = newScale;\n  },\n\n  zoomReset() {\n    if (this.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    this.pdfViewer.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n  },\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  },\n\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  },\n\n  set page(val) {\n    this.pdfViewer.currentPageNumber = val;\n  },\n\n  get printing() {\n    return !!this.printService;\n  },\n\n  get supportsPrinting() {\n    return PDFPrintServiceFactory.instance.supportsPrinting;\n  },\n\n  get supportsFullscreen() {\n    let support;\n    const doc = document.documentElement;\n    support = !!(doc.requestFullscreen || doc.mozRequestFullScreen || doc.webkitRequestFullScreen || doc.msRequestFullscreen);\n\n    if (document.fullscreenEnabled === false || document.mozFullScreenEnabled === false || document.webkitFullscreenEnabled === false || document.msFullscreenEnabled === false) {\n      support = false;\n    }\n\n    return (0, _pdfjsLib.shadow)(this, \"supportsFullscreen\", support);\n  },\n\n  get supportsIntegratedFind() {\n    return this.externalServices.supportsIntegratedFind;\n  },\n\n  get supportsDocumentFonts() {\n    return this.externalServices.supportsDocumentFonts;\n  },\n\n  get loadingBar() {\n    const bar = new _ui_utils.ProgressBar(\"#loadingBar\");\n    return (0, _pdfjsLib.shadow)(this, \"loadingBar\", bar);\n  },\n\n  get supportedMouseWheelZoomModifierKeys() {\n    return this.externalServices.supportedMouseWheelZoomModifierKeys;\n  },\n\n  initPassiveLoading() {\n    throw new Error(\"Not implemented: initPassiveLoading\");\n  },\n\n  setTitleUsingUrl(url = \"\") {\n    this.url = url;\n    this.baseUrl = url.split(\"#\")[0];\n    let title = (0, _ui_utils.getPDFFileNameFromURL)(url, \"\");\n\n    if (!title) {\n      try {\n        title = decodeURIComponent((0, _pdfjsLib.getFilenameFromUrl)(url)) || url;\n      } catch (ex) {\n        title = url;\n      }\n    }\n\n    this.setTitle(title);\n  },\n\n  setTitle(title) {\n    if (this.isViewerEmbedded) {\n      return;\n    }\n\n    document.title = title;\n  },\n\n  async close() {\n    const errorWrapper = this.appConfig.errorWrapper.container;\n    errorWrapper.setAttribute(\"hidden\", \"true\");\n\n    if (!this.pdfLoadingTask) {\n      return undefined;\n    }\n    const promise = this.pdfLoadingTask.destroy();\n    this.pdfLoadingTask = null;\n\n    if (this.pdfDocument) {\n      this.pdfDocument = null;\n      this.pdfThumbnailViewer.setDocument(null);\n      this.pdfViewer.setDocument(null);\n      this.pdfLinkService.setDocument(null);\n      this.pdfDocumentProperties.setDocument(null);\n    }\n\n    webViewerResetPermissions();\n    this.store = null;\n    this.isInitialViewSet = false;\n    this.downloadComplete = false;\n    this.url = \"\";\n    this.baseUrl = \"\";\n    this.contentDispositionFilename = null;\n    this.pdfSidebar.reset();\n    this.pdfOutlineViewer.reset();\n    this.pdfAttachmentViewer.reset();\n\n    if (this.pdfHistory) {\n      this.pdfHistory.reset();\n    }\n\n    if (this.findBar) {\n      this.findBar.reset();\n    }\n\n    this.toolbar.reset();\n    this.secondaryToolbar.reset();\n\n    if (typeof PDFBug !== \"undefined\") {\n      PDFBug.cleanup();\n    }\n\n    return promise;\n  },\n\n  async open(file, args) {\n    if (this.pdfLoadingTask) {\n      await this.close();\n    }\n\n    const workerParameters = _app_options.AppOptions.getAll(_app_options.OptionKind.WORKER);\n\n    for (const key in workerParameters) {\n      _pdfjsLib.GlobalWorkerOptions[key] = workerParameters[key];\n    }\n\n    const parameters = Object.create(null);\n\n    if (typeof file === \"string\") {\n      this.setTitleUsingUrl(file);\n      parameters.url = file;\n    } else if (file && \"byteLength\" in file) {\n      parameters.data = file;\n    } else if (file.url && file.originalUrl) {\n      this.setTitleUsingUrl(file.originalUrl);\n      parameters.url = file.url;\n    }\n\n    const apiParameters = _app_options.AppOptions.getAll(_app_options.OptionKind.API);\n\n    for (const key in apiParameters) {\n      let value = apiParameters[key];\n\n      if (key === \"docBaseUrl\" && !value) {}\n\n      parameters[key] = value;\n    }\n\n    if (args) {\n      for (const key in args) {\n        const value = args[key];\n\n        if (key === \"length\") {\n          this.pdfDocumentProperties.setFileSize(value);\n        }\n\n        parameters[key] = value;\n      }\n    }\n\n    const loadingTask = (0, _pdfjsLib.getDocument)(parameters);\n    this.pdfLoadingTask = loadingTask;\n\n    loadingTask.onPassword = (updateCallback, reason) => {\n      this.pdfLinkService.externalLinkEnabled = false;\n      this.passwordPrompt.setUpdateCallback(updateCallback, reason);\n      this.passwordPrompt.open();\n    };\n\n    loadingTask.onProgress = ({\n      loaded,\n      total\n    }) => {\n      this.progress(loaded / total);\n    };\n\n    loadingTask.onUnsupportedFeature = this.fallback.bind(this);\n    return loadingTask.promise.then(pdfDocument => {\n      this.load(pdfDocument);\n    }, exception => {\n      if (loadingTask !== this.pdfLoadingTask) {\n        return undefined;\n      }\n\n      const message = exception && exception.message;\n      let loadingErrorMessage;\n\n      if (exception instanceof _pdfjsLib.InvalidPDFException) {\n        loadingErrorMessage = this.l10n.get(\"invalid_file_error\", null, \"Invalid or corrupted PDF file.\");\n      } else if (exception instanceof _pdfjsLib.MissingPDFException) {\n        loadingErrorMessage = this.l10n.get(\"missing_file_error\", null, \"Missing PDF file.\");\n      } else if (exception instanceof _pdfjsLib.UnexpectedResponseException) {\n        loadingErrorMessage = this.l10n.get(\"unexpected_response_error\", null, \"Unexpected server response.\");\n      } else {\n        loadingErrorMessage = this.l10n.get(\"loading_error\", null, \"An error occurred while loading the PDF.\");\n      }\n\n      return loadingErrorMessage.then(msg => {\n        this.error(msg, {\n          message\n        });\n        throw exception;\n      });\n    });\n  },\n\n  download() {\n    function downloadByUrl() {\n      downloadManager.downloadUrl(url, filename);\n    }\n\n    const url = this.baseUrl;\n    const filename = this.contentDispositionFilename || (0, _ui_utils.getPDFFileNameFromURL)(this.url);\n    const downloadManager = this.downloadManager;\n\n    downloadManager.onerror = err => {\n      this.error(`PDF failed to download: ${err}`);\n    };\n\n    if (!this.pdfDocument || !this.downloadComplete) {\n      downloadByUrl();\n      return;\n    }\n\n    this.pdfDocument.getData().then(function (data) {\n      const blob = new Blob([data], {\n        type: \"application/pdf\"\n      });\n      downloadManager.download(blob, url, filename);\n    }).catch(downloadByUrl);\n  },\n\n  fallback(featureId) {\n    if (this.fellback) {\n      return;\n    }\n\n    this.fellback = true;\n    this.externalServices.fallback({\n      featureId,\n      url: this.baseUrl\n    }, function response(download) {\n      if (!download) {\n        return;\n      }\n\n      PDFViewerApplication.download();\n    });\n  },\n\n  error(message, moreInfo) {\n    const moreInfoText = [this.l10n.get(\"error_version_info\", {\n      version: _pdfjsLib.version || \"?\",\n      build: _pdfjsLib.build || \"?\"\n    }, \"PDF.js v{{version}} (build: {{build}})\")];\n\n    if (moreInfo) {\n      moreInfoText.push(this.l10n.get(\"error_message\", {\n        message: moreInfo.message\n      }, \"Message: {{message}}\"));\n\n      if (moreInfo.stack) {\n        moreInfoText.push(this.l10n.get(\"error_stack\", {\n          stack: moreInfo.stack\n        }, \"Stack: {{stack}}\"));\n      } else {\n        if (moreInfo.filename) {\n          moreInfoText.push(this.l10n.get(\"error_file\", {\n            file: moreInfo.filename\n          }, \"File: {{file}}\"));\n        }\n\n        if (moreInfo.lineNumber) {\n          moreInfoText.push(this.l10n.get(\"error_line\", {\n            line: moreInfo.lineNumber\n          }, \"Line: {{line}}\"));\n        }\n      }\n    }\n\n    const errorWrapperConfig = this.appConfig.errorWrapper;\n    const errorWrapper = errorWrapperConfig.container;\n    errorWrapper.removeAttribute(\"hidden\");\n    const errorMessage = errorWrapperConfig.errorMessage;\n    errorMessage.textContent = message;\n    const closeButton = errorWrapperConfig.closeButton;\n\n    closeButton.onclick = function () {\n      errorWrapper.setAttribute(\"hidden\", \"true\");\n    };\n\n    const errorMoreInfo = errorWrapperConfig.errorMoreInfo;\n    const moreInfoButton = errorWrapperConfig.moreInfoButton;\n    const lessInfoButton = errorWrapperConfig.lessInfoButton;\n\n    moreInfoButton.onclick = function () {\n      errorMoreInfo.removeAttribute(\"hidden\");\n      moreInfoButton.setAttribute(\"hidden\", \"true\");\n      lessInfoButton.removeAttribute(\"hidden\");\n      errorMoreInfo.style.height = errorMoreInfo.scrollHeight + \"px\";\n    };\n\n    lessInfoButton.onclick = function () {\n      errorMoreInfo.setAttribute(\"hidden\", \"true\");\n      moreInfoButton.removeAttribute(\"hidden\");\n      lessInfoButton.setAttribute(\"hidden\", \"true\");\n    };\n\n    moreInfoButton.oncontextmenu = _ui_utils.noContextMenuHandler;\n    lessInfoButton.oncontextmenu = _ui_utils.noContextMenuHandler;\n    closeButton.oncontextmenu = _ui_utils.noContextMenuHandler;\n    moreInfoButton.removeAttribute(\"hidden\");\n    lessInfoButton.setAttribute(\"hidden\", \"true\");\n    Promise.all(moreInfoText).then(parts => {\n      errorMoreInfo.value = parts.join(\"\\n\");\n    });\n  },\n\n  progress(level) {\n    if (this.downloadComplete) {\n      return;\n    }\n\n    const percent = Math.round(level * 100);\n\n    if (percent > this.loadingBar.percent || isNaN(percent)) {\n      this.loadingBar.percent = percent;\n      const disableAutoFetch = this.pdfDocument ? this.pdfDocument.loadingParams.disableAutoFetch : _app_options.AppOptions.get(\"disableAutoFetch\");\n\n      if (disableAutoFetch && percent) {\n        if (this.disableAutoFetchLoadingBarTimeout) {\n          clearTimeout(this.disableAutoFetchLoadingBarTimeout);\n          this.disableAutoFetchLoadingBarTimeout = null;\n        }\n\n        this.loadingBar.show();\n        this.disableAutoFetchLoadingBarTimeout = setTimeout(() => {\n          this.loadingBar.hide();\n          this.disableAutoFetchLoadingBarTimeout = null;\n        }, DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT);\n      }\n    }\n  },\n\n  load(pdfDocument) {\n    this.pdfDocument = pdfDocument;\n    pdfDocument.getDownloadInfo().then(() => {\n      this.downloadComplete = true;\n      this.loadingBar.hide();\n      firstPagePromise.then(() => {\n        this.eventBus.dispatch(\"documentloaded\", {\n          source: this\n        });\n      });\n    });\n    const pageLayoutPromise = pdfDocument.getPageLayout().catch(function () {});\n    const pageModePromise = pdfDocument.getPageMode().catch(function () {});\n    const openActionPromise = pdfDocument.getOpenAction().catch(function () {});\n    this.toolbar.setPagesCount(pdfDocument.numPages, false);\n    this.secondaryToolbar.setPagesCount(pdfDocument.numPages);\n    let baseDocumentUrl;\n    baseDocumentUrl = null;\n    this.pdfLinkService.setDocument(pdfDocument, baseDocumentUrl);\n    this.pdfDocumentProperties.setDocument(pdfDocument, this.url);\n    const pdfViewer = this.pdfViewer;\n    pdfViewer.setDocument(pdfDocument);\n    const {\n      firstPagePromise,\n      onePageRendered,\n      pagesPromise\n    } = pdfViewer;\n    const pdfThumbnailViewer = this.pdfThumbnailViewer;\n    pdfThumbnailViewer.setDocument(pdfDocument);\n    const storedPromise = (this.store = new _view_history.ViewHistory(pdfDocument.fingerprint)).getMultiple({\n      page: null,\n      zoom: _ui_utils.DEFAULT_SCALE_VALUE,\n      scrollLeft: \"0\",\n      scrollTop: \"0\",\n      rotation: null,\n      sidebarView: _pdf_sidebar.SidebarView.UNKNOWN,\n      scrollMode: _ui_utils.ScrollMode.UNKNOWN,\n      spreadMode: _ui_utils.SpreadMode.UNKNOWN\n    }).catch(() => {\n      return Object.create(null);\n    });\n    firstPagePromise.then(pdfPage => {\n      this.loadingBar.setWidth(this.appConfig.viewerContainer);\n      Promise.all([_ui_utils.animationStarted, storedPromise, pageLayoutPromise, pageModePromise, openActionPromise]).then(async ([timeStamp, stored, pageLayout, pageMode, openAction]) => {\n        const viewOnLoad = _app_options.AppOptions.get(\"viewOnLoad\");\n\n        this._initializePdfHistory({\n          fingerprint: pdfDocument.fingerprint,\n          viewOnLoad,\n          initialDest: openAction && openAction.dest\n        });\n\n        const initialBookmark = this.initialBookmark;\n\n        const zoom = _app_options.AppOptions.get(\"defaultZoomValue\");\n\n        let hash = zoom ? `zoom=${zoom}` : null;\n        let rotation = null;\n\n        let sidebarView = _app_options.AppOptions.get(\"sidebarViewOnLoad\");\n\n        let scrollMode = _app_options.AppOptions.get(\"scrollModeOnLoad\");\n\n        let spreadMode = _app_options.AppOptions.get(\"spreadModeOnLoad\");\n\n        if (stored.page && viewOnLoad !== ViewOnLoad.INITIAL) {\n          hash = `page=${stored.page}&zoom=${zoom || stored.zoom},` + `${stored.scrollLeft},${stored.scrollTop}`;\n          rotation = parseInt(stored.rotation, 10);\n\n          if (sidebarView === _pdf_sidebar.SidebarView.UNKNOWN) {\n            sidebarView = stored.sidebarView | 0;\n          }\n\n          if (scrollMode === _ui_utils.ScrollMode.UNKNOWN) {\n            scrollMode = stored.scrollMode | 0;\n          }\n\n          if (spreadMode === _ui_utils.SpreadMode.UNKNOWN) {\n            spreadMode = stored.spreadMode | 0;\n          }\n        }\n\n        if (pageMode && sidebarView === _pdf_sidebar.SidebarView.UNKNOWN) {\n          sidebarView = apiPageModeToSidebarView(pageMode);\n        }\n\n        if (pageLayout && spreadMode === _ui_utils.SpreadMode.UNKNOWN) {\n          spreadMode = apiPageLayoutToSpreadMode(pageLayout);\n        }\n\n        this.setInitialView(hash, {\n          rotation,\n          sidebarView,\n          scrollMode,\n          spreadMode\n        });\n        this.eventBus.dispatch(\"documentinit\", {\n          source: this\n        });\n\n        if (!this.isViewerEmbedded) {\n          pdfViewer.focus();\n        }\n\n        this._initializePermissions(pdfDocument);\n\n        await Promise.race([pagesPromise, new Promise(resolve => {\n          setTimeout(resolve, FORCE_PAGES_LOADED_TIMEOUT);\n        })]);\n\n        if (!initialBookmark && !hash) {\n          return;\n        }\n\n        if (pdfViewer.hasEqualPageSizes) {\n          return;\n        }\n\n        this.initialBookmark = initialBookmark;\n        pdfViewer.currentScaleValue = pdfViewer.currentScaleValue;\n        this.setInitialView(hash);\n      }).catch(() => {\n        this.setInitialView();\n      }).then(function () {\n        pdfViewer.update();\n      });\n    });\n    pagesPromise.then(() => {\n      this._initializeAutoPrint(pdfDocument, openActionPromise);\n    });\n    onePageRendered.then(() => {\n      pdfDocument.getOutline().then(outline => {\n        this.pdfOutlineViewer.render({\n          outline\n        });\n      });\n      pdfDocument.getAttachments().then(attachments => {\n        this.pdfAttachmentViewer.render({\n          attachments\n        });\n      });\n    });\n\n    this._initializePageLabels(pdfDocument);\n\n    this._initializeMetadata(pdfDocument);\n  },\n\n  async _initializeAutoPrint(pdfDocument, openActionPromise) {\n    const [openAction, javaScript] = await Promise.all([openActionPromise, pdfDocument.getJavaScript()]);\n\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n\n    let triggerAutoPrint = false;\n\n    if (openAction && openAction.action === \"Print\") {\n      triggerAutoPrint = true;\n    }\n\n    if (javaScript) {\n      javaScript.some(js => {\n        if (!js) {\n          return false;\n        }\n\n        console.warn(\"Warning: JavaScript is not supported\");\n        this.fallback(_pdfjsLib.UNSUPPORTED_FEATURES.javaScript);\n        return true;\n      });\n\n      if (!triggerAutoPrint) {\n        for (const js of javaScript) {\n          if (js && _ui_utils.AutoPrintRegExp.test(js)) {\n            triggerAutoPrint = true;\n            break;\n          }\n        }\n      }\n    }\n\n    if (!this.supportsPrinting) {\n      return;\n    }\n\n    if (triggerAutoPrint) {\n      setTimeout(function () {\n        window.print();\n      });\n    }\n  },\n\n  async _initializeMetadata(pdfDocument) {\n    const {\n      info,\n      metadata,\n      contentDispositionFilename\n    } = await pdfDocument.getMetadata();\n\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n\n    this.documentInfo = info;\n    this.metadata = metadata;\n    this.contentDispositionFilename = contentDispositionFilename;\n    console.log(`PDF ${pdfDocument.fingerprint} [${info.PDFFormatVersion} ` + `${(info.Producer || \"-\").trim()} / ${(info.Creator || \"-\").trim()}] ` + `(PDF.js: ${_pdfjsLib.version || \"-\"}` + `${this.pdfViewer.enableWebGL ? \" [WebGL]\" : \"\"})`);\n    let pdfTitle;\n    const infoTitle = info && info.Title;\n\n    if (infoTitle) {\n      pdfTitle = infoTitle;\n    }\n\n    const metadataTitle = metadata && metadata.get(\"dc:title\");\n\n    if (metadataTitle) {\n      if (metadataTitle !== \"Untitled\" && !/[\\uFFF0-\\uFFFF]/g.test(metadataTitle)) {\n        pdfTitle = metadataTitle;\n      }\n    }\n\n    if (pdfTitle) {\n      this.setTitle(`${pdfTitle} - ${contentDispositionFilename || document.title}`);\n    } else if (contentDispositionFilename) {\n      this.setTitle(contentDispositionFilename);\n    }\n\n    if (info.IsAcroFormPresent) {\n      console.warn(\"Warning: AcroForm/XFA is not supported\");\n      this.fallback(_pdfjsLib.UNSUPPORTED_FEATURES.forms);\n    }\n\n    let versionId = \"other\";\n    const KNOWN_VERSIONS = [\"1.0\", \"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\", \"1.6\", \"1.7\", \"1.8\", \"1.9\", \"2.0\", \"2.1\", \"2.2\", \"2.3\"];\n\n    if (KNOWN_VERSIONS.includes(info.PDFFormatVersion)) {\n      versionId = `v${info.PDFFormatVersion.replace(\".\", \"_\")}`;\n    }\n\n    let generatorId = \"other\";\n    const KNOWN_GENERATORS = [\"acrobat distiller\", \"acrobat pdfwriter\", \"adobe livecycle\", \"adobe pdf library\", \"adobe photoshop\", \"ghostscript\", \"tcpdf\", \"cairo\", \"dvipdfm\", \"dvips\", \"pdftex\", \"pdfkit\", \"itext\", \"prince\", \"quarkxpress\", \"mac os x\", \"microsoft\", \"openoffice\", \"oracle\", \"luradocument\", \"pdf-xchange\", \"antenna house\", \"aspose.cells\", \"fpdf\"];\n\n    if (info.Producer) {\n      const producer = info.Producer.toLowerCase();\n      KNOWN_GENERATORS.some(function (generator) {\n        if (!producer.includes(generator)) {\n          return false;\n        }\n\n        generatorId = generator.replace(/[ .\\-]/g, \"_\");\n        return true;\n      });\n    }\n\n    let formType = null;\n\n    if (info.IsAcroFormPresent) {\n      formType = info.IsXFAPresent ? \"xfa\" : \"acroform\";\n    }\n\n    this.externalServices.reportTelemetry({\n      type: \"documentInfo\",\n      version: versionId,\n      generator: generatorId,\n      formType\n    });\n  },\n\n  async _initializePageLabels(pdfDocument) {\n    const labels = await pdfDocument.getPageLabels();\n\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n\n    if (!labels || _app_options.AppOptions.get(\"disablePageLabels\")) {\n      return;\n    }\n\n    const numLabels = labels.length;\n\n    if (numLabels !== this.pagesCount) {\n      console.error(\"The number of Page Labels does not match the number of pages in the document.\");\n      return;\n    }\n\n    let i = 0;\n\n    while (i < numLabels && labels[i] === (i + 1).toString()) {\n      i++;\n    }\n\n    if (i === numLabels) {\n      return;\n    }\n\n    const {\n      pdfViewer,\n      pdfThumbnailViewer,\n      toolbar\n    } = this;\n    pdfViewer.setPageLabels(labels);\n    pdfThumbnailViewer.setPageLabels(labels);\n    toolbar.setPagesCount(numLabels, true);\n    toolbar.setPageNumber(pdfViewer.currentPageNumber, pdfViewer.currentPageLabel);\n  },\n\n  _initializePdfHistory({\n    fingerprint,\n    viewOnLoad,\n    initialDest = null\n  }) {\n    if (this.isViewerEmbedded || _app_options.AppOptions.get(\"disableHistory\")) {\n      return;\n    }\n\n    this.pdfHistory.initialize({\n      fingerprint,\n      resetHistory: viewOnLoad === ViewOnLoad.INITIAL,\n      updateUrl: _app_options.AppOptions.get(\"historyUpdateUrl\")\n    });\n\n    if (this.pdfHistory.initialBookmark) {\n      this.initialBookmark = this.pdfHistory.initialBookmark;\n      this.initialRotation = this.pdfHistory.initialRotation;\n    }\n\n    if (initialDest && !this.initialBookmark && viewOnLoad === ViewOnLoad.UNKNOWN) {\n      this.initialBookmark = JSON.stringify(initialDest);\n      this.pdfHistory.push({\n        explicitDest: initialDest,\n        pageNumber: null\n      });\n    }\n  },\n\n  async _initializePermissions(pdfDocument) {\n    const permissions = await pdfDocument.getPermissions();\n\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n\n    if (!permissions || !_app_options.AppOptions.get(\"enablePermissions\")) {\n      return;\n    }\n\n    if (!permissions.includes(_pdfjsLib.PermissionFlag.COPY)) {\n      this.appConfig.viewerContainer.classList.add(ENABLE_PERMISSIONS_CLASS);\n    }\n  },\n\n  setInitialView(storedHash, {\n    rotation,\n    sidebarView,\n    scrollMode,\n    spreadMode\n  } = {}) {\n    const setRotation = angle => {\n      if ((0, _ui_utils.isValidRotation)(angle)) {\n        this.pdfViewer.pagesRotation = angle;\n      }\n    };\n\n    const setViewerModes = (scroll, spread) => {\n      if ((0, _ui_utils.isValidScrollMode)(scroll)) {\n        this.pdfViewer.scrollMode = scroll;\n      }\n\n      if ((0, _ui_utils.isValidSpreadMode)(spread)) {\n        this.pdfViewer.spreadMode = spread;\n      }\n    };\n\n    this.isInitialViewSet = true;\n    this.pdfSidebar.setInitialView(sidebarView);\n    setViewerModes(scrollMode, spreadMode);\n\n    if (this.initialBookmark) {\n      setRotation(this.initialRotation);\n      delete this.initialRotation;\n      this.pdfLinkService.setHash(this.initialBookmark);\n      this.initialBookmark = null;\n    } else if (storedHash) {\n      setRotation(rotation);\n      this.pdfLinkService.setHash(storedHash);\n    }\n\n    this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber, this.pdfViewer.currentPageLabel);\n    this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);\n\n    if (!this.pdfViewer.currentScaleValue) {\n      this.pdfViewer.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n    }\n  },\n\n  cleanup() {\n    // We might be extracting a chart, so we don't want this to happen ever\n    /*if (!this.pdfDocument) {\n      return;\n    }\n\n    this.pdfViewer.cleanup();\n    this.pdfThumbnailViewer.cleanup();\n\n    if (this.pdfViewer.renderer !== _ui_utils.RendererType.SVG) {\n      this.pdfDocument.cleanup();\n    }*/\n  },\n\n  forceRendering() {\n    this.pdfRenderingQueue.printing = this.printing;\n    this.pdfRenderingQueue.isThumbnailViewEnabled = this.pdfSidebar.isThumbnailViewVisible;\n    this.pdfRenderingQueue.renderHighestPriority();\n  },\n\n  beforePrint() {\n    if (this.printService) {\n      return;\n    }\n\n    if (!this.supportsPrinting) {\n      this.l10n.get(\"printing_not_supported\", null, \"Warning: Printing is not fully supported by this browser.\").then(printMessage => {\n        this.error(printMessage);\n      });\n      return;\n    }\n\n    if (!this.pdfViewer.pageViewsReady) {\n      this.l10n.get(\"printing_not_ready\", null, \"Warning: The PDF is not fully loaded for printing.\").then(notReadyMessage => {\n        window.alert(notReadyMessage);\n      });\n      return;\n    }\n\n    const pagesOverview = this.pdfViewer.getPagesOverview();\n    const printContainer = this.appConfig.printContainer;\n    const printService = PDFPrintServiceFactory.instance.createPrintService(this.pdfDocument, pagesOverview, printContainer, this.l10n);\n    this.printService = printService;\n    this.forceRendering();\n    printService.layout();\n    this.externalServices.reportTelemetry({\n      type: \"print\"\n    });\n  },\n\n  afterPrint() {\n    if (this.printService) {\n      this.printService.destroy();\n      this.printService = null;\n    }\n\n    this.forceRendering();\n  },\n\n  rotatePages(delta) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const newRotation = (this.pdfViewer.pagesRotation + 360 + delta) % 360;\n    this.pdfViewer.pagesRotation = newRotation;\n  },\n\n  requestPresentationMode() {\n    if (!this.pdfPresentationMode) {\n      return;\n    }\n\n    this.pdfPresentationMode.request();\n  },\n\n  bindEvents() {\n    const {\n      eventBus,\n      _boundEvents\n    } = this;\n    _boundEvents.beforePrint = this.beforePrint.bind(this);\n    _boundEvents.afterPrint = this.afterPrint.bind(this);\n\n    eventBus._on(\"resize\", webViewerResize);\n\n    eventBus._on(\"hashchange\", webViewerHashchange);\n\n    eventBus._on(\"beforeprint\", _boundEvents.beforePrint);\n\n    eventBus._on(\"afterprint\", _boundEvents.afterPrint);\n\n    eventBus._on(\"pagerendered\", webViewerPageRendered);\n\n    eventBus._on(\"updateviewarea\", webViewerUpdateViewarea);\n\n    eventBus._on(\"pagechanging\", webViewerPageChanging);\n\n    eventBus._on(\"scalechanging\", webViewerScaleChanging);\n\n    eventBus._on(\"rotationchanging\", webViewerRotationChanging);\n\n    eventBus._on(\"sidebarviewchanged\", webViewerSidebarViewChanged);\n\n    eventBus._on(\"pagemode\", webViewerPageMode);\n\n    eventBus._on(\"namedaction\", webViewerNamedAction);\n\n    eventBus._on(\"presentationmodechanged\", webViewerPresentationModeChanged);\n\n    eventBus._on(\"presentationmode\", webViewerPresentationMode);\n\n    eventBus._on(\"print\", webViewerPrint);\n\n    eventBus._on(\"download\", webViewerDownload);\n\n    eventBus._on(\"firstpage\", webViewerFirstPage);\n\n    eventBus._on(\"lastpage\", webViewerLastPage);\n\n    eventBus._on(\"nextpage\", webViewerNextPage);\n\n    eventBus._on(\"previouspage\", webViewerPreviousPage);\n\n    eventBus._on(\"zoomin\", webViewerZoomIn);\n\n    eventBus._on(\"zoomout\", webViewerZoomOut);\n\n    eventBus._on(\"zoomreset\", webViewerZoomReset);\n\n    eventBus._on(\"pagenumberchanged\", webViewerPageNumberChanged);\n\n    eventBus._on(\"scalechanged\", webViewerScaleChanged);\n\n    eventBus._on(\"rotatecw\", webViewerRotateCw);\n\n    eventBus._on(\"rotateccw\", webViewerRotateCcw);\n\n    eventBus._on(\"switchscrollmode\", webViewerSwitchScrollMode);\n\n    eventBus._on(\"scrollmodechanged\", webViewerScrollModeChanged);\n\n    eventBus._on(\"switchspreadmode\", webViewerSwitchSpreadMode);\n\n    eventBus._on(\"spreadmodechanged\", webViewerSpreadModeChanged);\n\n    eventBus._on(\"documentproperties\", webViewerDocumentProperties);\n\n    eventBus._on(\"find\", webViewerFind);\n\n    eventBus._on(\"findfromurlhash\", webViewerFindFromUrlHash);\n\n    eventBus._on(\"updatefindmatchescount\", webViewerUpdateFindMatchesCount);\n\n    eventBus._on(\"updatefindcontrolstate\", webViewerUpdateFindControlState);\n\n    eventBus._on(\"fileinputchange\", webViewerFileInputChange);\n\n    eventBus._on(\"openfile\", webViewerOpenFile);\n  },\n\n  bindWindowEvents() {\n    const {\n      eventBus,\n      _boundEvents\n    } = this;\n\n    _boundEvents.windowResize = () => {\n      eventBus.dispatch(\"resize\", {\n        source: window\n      });\n    };\n\n    _boundEvents.windowHashChange = () => {\n      eventBus.dispatch(\"hashchange\", {\n        source: window,\n        hash: document.location.hash.substring(1)\n      });\n    };\n\n    _boundEvents.windowBeforePrint = () => {\n      eventBus.dispatch(\"beforeprint\", {\n        source: window\n      });\n    };\n\n    _boundEvents.windowAfterPrint = () => {\n      eventBus.dispatch(\"afterprint\", {\n        source: window\n      });\n    };\n\n    window.addEventListener(\"visibilitychange\", webViewerVisibilityChange);\n    window.addEventListener(\"wheel\", webViewerWheel, {\n      passive: false\n    });\n    window.addEventListener(\"click\", webViewerClick);\n    window.addEventListener(\"keydown\", webViewerKeyDown);\n    window.addEventListener(\"resize\", _boundEvents.windowResize);\n    window.addEventListener(\"hashchange\", _boundEvents.windowHashChange);\n    window.addEventListener(\"beforeprint\", _boundEvents.windowBeforePrint);\n    window.addEventListener(\"afterprint\", _boundEvents.windowAfterPrint);\n  },\n\n  unbindEvents() {\n    const {\n      eventBus,\n      _boundEvents\n    } = this;\n\n    eventBus._off(\"resize\", webViewerResize);\n\n    eventBus._off(\"hashchange\", webViewerHashchange);\n\n    eventBus._off(\"beforeprint\", _boundEvents.beforePrint);\n\n    eventBus._off(\"afterprint\", _boundEvents.afterPrint);\n\n    eventBus._off(\"pagerendered\", webViewerPageRendered);\n\n    eventBus._off(\"updateviewarea\", webViewerUpdateViewarea);\n\n    eventBus._off(\"pagechanging\", webViewerPageChanging);\n\n    eventBus._off(\"scalechanging\", webViewerScaleChanging);\n\n    eventBus._off(\"rotationchanging\", webViewerRotationChanging);\n\n    eventBus._off(\"sidebarviewchanged\", webViewerSidebarViewChanged);\n\n    eventBus._off(\"pagemode\", webViewerPageMode);\n\n    eventBus._off(\"namedaction\", webViewerNamedAction);\n\n    eventBus._off(\"presentationmodechanged\", webViewerPresentationModeChanged);\n\n    eventBus._off(\"presentationmode\", webViewerPresentationMode);\n\n    eventBus._off(\"print\", webViewerPrint);\n\n    eventBus._off(\"download\", webViewerDownload);\n\n    eventBus._off(\"firstpage\", webViewerFirstPage);\n\n    eventBus._off(\"lastpage\", webViewerLastPage);\n\n    eventBus._off(\"nextpage\", webViewerNextPage);\n\n    eventBus._off(\"previouspage\", webViewerPreviousPage);\n\n    eventBus._off(\"zoomin\", webViewerZoomIn);\n\n    eventBus._off(\"zoomout\", webViewerZoomOut);\n\n    eventBus._off(\"zoomreset\", webViewerZoomReset);\n\n    eventBus._off(\"pagenumberchanged\", webViewerPageNumberChanged);\n\n    eventBus._off(\"scalechanged\", webViewerScaleChanged);\n\n    eventBus._off(\"rotatecw\", webViewerRotateCw);\n\n    eventBus._off(\"rotateccw\", webViewerRotateCcw);\n\n    eventBus._off(\"switchscrollmode\", webViewerSwitchScrollMode);\n\n    eventBus._off(\"scrollmodechanged\", webViewerScrollModeChanged);\n\n    eventBus._off(\"switchspreadmode\", webViewerSwitchSpreadMode);\n\n    eventBus._off(\"spreadmodechanged\", webViewerSpreadModeChanged);\n\n    eventBus._off(\"documentproperties\", webViewerDocumentProperties);\n\n    eventBus._off(\"find\", webViewerFind);\n\n    eventBus._off(\"findfromurlhash\", webViewerFindFromUrlHash);\n\n    eventBus._off(\"updatefindmatchescount\", webViewerUpdateFindMatchesCount);\n\n    eventBus._off(\"updatefindcontrolstate\", webViewerUpdateFindControlState);\n\n    eventBus._off(\"fileinputchange\", webViewerFileInputChange);\n\n    eventBus._off(\"openfile\", webViewerOpenFile);\n\n    _boundEvents.beforePrint = null;\n    _boundEvents.afterPrint = null;\n  },\n\n  unbindWindowEvents() {\n    const {\n      _boundEvents\n    } = this;\n    window.removeEventListener(\"visibilitychange\", webViewerVisibilityChange);\n    window.removeEventListener(\"wheel\", webViewerWheel, {\n      passive: false\n    });\n    window.removeEventListener(\"click\", webViewerClick);\n    window.removeEventListener(\"keydown\", webViewerKeyDown);\n    window.removeEventListener(\"resize\", _boundEvents.windowResize);\n    window.removeEventListener(\"hashchange\", _boundEvents.windowHashChange);\n    window.removeEventListener(\"beforeprint\", _boundEvents.windowBeforePrint);\n    window.removeEventListener(\"afterprint\", _boundEvents.windowAfterPrint);\n    _boundEvents.windowResize = null;\n    _boundEvents.windowHashChange = null;\n    _boundEvents.windowBeforePrint = null;\n    _boundEvents.windowAfterPrint = null;\n  }\n\n};\nexports.PDFViewerApplication = PDFViewerApplication;\nlet validateFileURL;\n{\n  const HOSTED_VIEWER_ORIGINS = [\"null\", \"http://mozilla.github.io\", \"https://mozilla.github.io\"];\n\n  validateFileURL = function (file) {\n    if (file === undefined) {\n      return;\n    }\n\n    try {\n      const viewerOrigin = new URL(window.location.href).origin || \"null\";\n\n      if (HOSTED_VIEWER_ORIGINS.includes(viewerOrigin)) {\n        return;\n      }\n\n      const {\n        origin,\n        protocol\n      } = new URL(file, window.location.href);\n\n      if (origin !== viewerOrigin && protocol !== \"blob:\") {\n        throw new Error(\"file origin does not match viewer's\");\n      }\n    } catch (ex) {\n      const message = ex && ex.message;\n      PDFViewerApplication.l10n.get(\"loading_error\", null, \"An error occurred while loading the PDF.\").then(loadingErrorMessage => {\n        PDFViewerApplication.error(loadingErrorMessage, {\n          message\n        });\n      });\n      throw ex;\n    }\n  };\n}\n\nasync function loadFakeWorker() {\n  if (!_pdfjsLib.GlobalWorkerOptions.workerSrc) {\n    _pdfjsLib.GlobalWorkerOptions.workerSrc = _app_options.AppOptions.get(\"workerSrc\");\n  }\n\n  return (0, _pdfjsLib.loadScript)(_pdfjsLib.PDFWorker.getWorkerSrc());\n}\n\nfunction loadAndEnablePDFBug(enabledTabs) {\n  const appConfig = PDFViewerApplication.appConfig;\n  return (0, _pdfjsLib.loadScript)(appConfig.debuggerScriptPath).then(function () {\n    PDFBug.enable(enabledTabs);\n    PDFBug.init({\n      OPS: _pdfjsLib.OPS\n    }, appConfig.mainContainer);\n  });\n}\n\nfunction webViewerInitialized() {\n  const appConfig = PDFViewerApplication.appConfig;\n  let file;\n  const queryString = document.location.search.substring(1);\n  const params = (0, _ui_utils.parseQueryString)(queryString);\n  file = \"file\" in params ? params.file : _app_options.AppOptions.get(\"defaultUrl\");\n  validateFileURL(file);\n  const fileInput = document.createElement(\"input\");\n  fileInput.id = appConfig.openFileInputName;\n  fileInput.className = \"fileInput\";\n  fileInput.setAttribute(\"type\", \"file\");\n  fileInput.oncontextmenu = _ui_utils.noContextMenuHandler;\n  document.body.appendChild(fileInput);\n\n  if (!window.File || !window.FileReader || !window.FileList || !window.Blob) {\n    appConfig.toolbar.openFile.setAttribute(\"hidden\", \"true\");\n    appConfig.secondaryToolbar.openFileButton.setAttribute(\"hidden\", \"true\");\n  } else {\n    fileInput.value = null;\n  }\n\n  fileInput.addEventListener(\"change\", function (evt) {\n    const files = evt.target.files;\n\n    if (!files || files.length === 0) {\n      return;\n    }\n\n    PDFViewerApplication.eventBus.dispatch(\"fileinputchange\", {\n      source: this,\n      fileInput: evt.target\n    });\n  });\n  appConfig.mainContainer.addEventListener(\"dragover\", function (evt) {\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = \"move\";\n  });\n  appConfig.mainContainer.addEventListener(\"drop\", function (evt) {\n    evt.preventDefault();\n    const files = evt.dataTransfer.files;\n\n    if (!files || files.length === 0) {\n      return;\n    }\n\n    PDFViewerApplication.eventBus.dispatch(\"fileinputchange\", {\n      source: this,\n      fileInput: evt.dataTransfer\n    });\n  });\n\n  if (!PDFViewerApplication.supportsDocumentFonts) {\n    _app_options.AppOptions.set(\"disableFontFace\", true);\n\n    PDFViewerApplication.l10n.get(\"web_fonts_disabled\", null, \"Web fonts are disabled: unable to use embedded PDF fonts.\").then(msg => {\n      console.warn(msg);\n    });\n  }\n\n  if (!PDFViewerApplication.supportsPrinting) {\n    appConfig.toolbar.print.classList.add(\"hidden\");\n    appConfig.secondaryToolbar.printButton.classList.add(\"hidden\");\n  }\n\n  if (!PDFViewerApplication.supportsFullscreen) {\n    appConfig.toolbar.presentationModeButton.classList.add(\"hidden\");\n    appConfig.secondaryToolbar.presentationModeButton.classList.add(\"hidden\");\n  }\n\n  if (PDFViewerApplication.supportsIntegratedFind) {\n    appConfig.toolbar.viewFind.classList.add(\"hidden\");\n  }\n\n  appConfig.mainContainer.addEventListener(\"transitionend\", function (evt) {\n    if (evt.target === this) {\n      PDFViewerApplication.eventBus.dispatch(\"resize\", {\n        source: this\n      });\n    }\n  }, true);\n\n  try {\n    webViewerOpenFileViaURL(file);\n  } catch (reason) {\n    PDFViewerApplication.l10n.get(\"loading_error\", null, \"An error occurred while loading the PDF.\").then(msg => {\n      PDFViewerApplication.error(msg, reason);\n    });\n  }\n}\n\nlet webViewerOpenFileViaURL;\n{\n  webViewerOpenFileViaURL = function (file) {\n    if (file && file.lastIndexOf(\"file:\", 0) === 0) {\n      PDFViewerApplication.setTitleUsingUrl(file);\n      const xhr = new XMLHttpRequest();\n\n      xhr.onload = function () {\n        PDFViewerApplication.open(new Uint8Array(xhr.response));\n      };\n\n      xhr.open(\"GET\", file);\n      xhr.responseType = \"arraybuffer\";\n      xhr.send();\n      return;\n    }\n\n    if (file) {\n      PDFViewerApplication.open(file);\n    }\n  };\n}\n\nfunction webViewerResetPermissions() {\n  const {\n    appConfig\n  } = PDFViewerApplication;\n\n  if (!appConfig) {\n    return;\n  }\n\n  appConfig.viewerContainer.classList.remove(ENABLE_PERMISSIONS_CLASS);\n}\n\nfunction webViewerPageRendered(evt) {\n  const pageNumber = evt.pageNumber;\n  const pageIndex = pageNumber - 1;\n  const pageView = PDFViewerApplication.pdfViewer.getPageView(pageIndex);\n\n  if (pageNumber === PDFViewerApplication.page) {\n    PDFViewerApplication.toolbar.updateLoadingIndicatorState(false);\n  }\n\n  if (!pageView) {\n    return;\n  }\n\n  if (PDFViewerApplication.pdfSidebar.isThumbnailViewVisible) {\n    const thumbnailView = PDFViewerApplication.pdfThumbnailViewer.getThumbnail(pageIndex);\n    thumbnailView.setImage(pageView);\n  }\n\n  if (typeof Stats !== \"undefined\" && Stats.enabled && pageView.stats) {\n    Stats.add(pageNumber, pageView.stats);\n  }\n\n  if (pageView.error) {\n    PDFViewerApplication.l10n.get(\"rendering_error\", null, \"An error occurred while rendering the page.\").then(msg => {\n      PDFViewerApplication.error(msg, pageView.error);\n    });\n  }\n\n  PDFViewerApplication.externalServices.reportTelemetry({\n    type: \"pageInfo\",\n    timestamp: evt.timestamp\n  });\n  PDFViewerApplication.pdfDocument.getStats().then(function (stats) {\n    PDFViewerApplication.externalServices.reportTelemetry({\n      type: \"documentStats\",\n      stats\n    });\n  });\n}\n\nfunction webViewerPageMode({\n  mode\n}) {\n  let view;\n\n  switch (mode) {\n    case \"thumbs\":\n      view = _pdf_sidebar.SidebarView.THUMBS;\n      break;\n\n    case \"bookmarks\":\n    case \"outline\":\n      view = _pdf_sidebar.SidebarView.OUTLINE;\n      break;\n\n    case \"attachments\":\n      view = _pdf_sidebar.SidebarView.ATTACHMENTS;\n      break;\n\n    case \"none\":\n      view = _pdf_sidebar.SidebarView.NONE;\n      break;\n\n    default:\n      console.error('Invalid \"pagemode\" hash parameter: ' + mode);\n      return;\n  }\n\n  PDFViewerApplication.pdfSidebar.switchView(view, true);\n}\n\nfunction webViewerNamedAction(evt) {\n  const action = evt.action;\n\n  switch (action) {\n    case \"GoToPage\":\n      PDFViewerApplication.appConfig.toolbar.pageNumber.select();\n      break;\n\n    case \"Find\":\n      if (!PDFViewerApplication.supportsIntegratedFind) {\n        PDFViewerApplication.findBar.toggle();\n      }\n\n      break;\n  }\n}\n\nfunction webViewerPresentationModeChanged({\n  active,\n  switchInProgress\n}) {\n  let state = _ui_utils.PresentationModeState.NORMAL;\n\n  if (switchInProgress) {\n    state = _ui_utils.PresentationModeState.CHANGING;\n  } else if (active) {\n    state = _ui_utils.PresentationModeState.FULLSCREEN;\n  }\n\n  PDFViewerApplication.pdfViewer.presentationModeState = state;\n}\n\nfunction webViewerSidebarViewChanged(evt) {\n  PDFViewerApplication.pdfRenderingQueue.isThumbnailViewEnabled = PDFViewerApplication.pdfSidebar.isThumbnailViewVisible;\n  const store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.set(\"sidebarView\", evt.view).catch(function () {});\n  }\n}\n\nfunction webViewerUpdateViewarea(evt) {\n  const location = evt.location,\n        store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.setMultiple({\n      page: location.pageNumber,\n      zoom: location.scale,\n      scrollLeft: location.left,\n      scrollTop: location.top,\n      rotation: location.rotation\n    }).catch(function () {});\n  }\n\n  const href = PDFViewerApplication.pdfLinkService.getAnchorUrl(location.pdfOpenParams);\n  PDFViewerApplication.appConfig.toolbar.viewBookmark.href = href;\n  PDFViewerApplication.appConfig.secondaryToolbar.viewBookmarkButton.href = href;\n  const currentPage = PDFViewerApplication.pdfViewer.getPageView(PDFViewerApplication.page - 1);\n  const loading = currentPage.renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED;\n  PDFViewerApplication.toolbar.updateLoadingIndicatorState(loading);\n}\n\nfunction webViewerScrollModeChanged(evt) {\n  const store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.set(\"scrollMode\", evt.mode).catch(function () {});\n  }\n}\n\nfunction webViewerSpreadModeChanged(evt) {\n  const store = PDFViewerApplication.store;\n\n  if (store && PDFViewerApplication.isInitialViewSet) {\n    store.set(\"spreadMode\", evt.mode).catch(function () {});\n  }\n}\n\nfunction webViewerResize() {\n  const {\n    pdfDocument,\n    pdfViewer\n  } = PDFViewerApplication;\n\n  if (!pdfDocument) {\n    return;\n  }\n\n  const currentScaleValue = pdfViewer.currentScaleValue;\n\n  if (currentScaleValue === \"auto\" || currentScaleValue === \"page-fit\" || currentScaleValue === \"page-width\") {\n    pdfViewer.currentScaleValue = currentScaleValue;\n  }\n\n  pdfViewer.update();\n}\n\nfunction webViewerHashchange(evt) {\n  const hash = evt.hash;\n\n  if (!hash) {\n    return;\n  }\n\n  if (!PDFViewerApplication.isInitialViewSet) {\n    PDFViewerApplication.initialBookmark = hash;\n  } else if (!PDFViewerApplication.pdfHistory.popStateInProgress) {\n    PDFViewerApplication.pdfLinkService.setHash(hash);\n  }\n}\n\nlet webViewerFileInputChange, webViewerOpenFile;\n{\n  webViewerFileInputChange = function (evt) {\n    if (PDFViewerApplication.pdfViewer && PDFViewerApplication.pdfViewer.isInPresentationMode) {\n      return;\n    }\n\n    const file = evt.fileInput.files[0];\n\n    if (!_app_options.AppOptions.get(\"disableCreateObjectURL\")) {\n      let url = URL.createObjectURL(file);\n\n      if (file.name) {\n        url = {\n          url,\n          originalUrl: file.name\n        };\n      }\n\n      PDFViewerApplication.open(url);\n    } else {\n      PDFViewerApplication.setTitleUsingUrl(file.name);\n      const fileReader = new FileReader();\n\n      fileReader.onload = function webViewerChangeFileReaderOnload(event) {\n        const buffer = event.target.result;\n        PDFViewerApplication.open(new Uint8Array(buffer));\n      };\n\n      fileReader.readAsArrayBuffer(file);\n    }\n\n    const appConfig = PDFViewerApplication.appConfig;\n    appConfig.toolbar.viewBookmark.setAttribute(\"hidden\", \"true\");\n    appConfig.secondaryToolbar.viewBookmarkButton.setAttribute(\"hidden\", \"true\");\n    appConfig.toolbar.download.setAttribute(\"hidden\", \"true\");\n    appConfig.secondaryToolbar.downloadButton.setAttribute(\"hidden\", \"true\");\n  };\n\n  webViewerOpenFile = function (evt) {\n    const openFileInputName = PDFViewerApplication.appConfig.openFileInputName;\n    document.getElementById(openFileInputName).click();\n  };\n}\n\nfunction webViewerPresentationMode() {\n  PDFViewerApplication.requestPresentationMode();\n}\n\nfunction webViewerPrint() {\n  window.print();\n}\n\nfunction webViewerDownload() {\n  PDFViewerApplication.download();\n}\n\nfunction webViewerFirstPage() {\n  if (PDFViewerApplication.pdfDocument) {\n    PDFViewerApplication.page = 1;\n  }\n}\n\nfunction webViewerLastPage() {\n  if (PDFViewerApplication.pdfDocument) {\n    PDFViewerApplication.page = PDFViewerApplication.pagesCount;\n  }\n}\n\nfunction webViewerNextPage() {\n  PDFViewerApplication.page++;\n}\n\nfunction webViewerPreviousPage() {\n  PDFViewerApplication.page--;\n}\n\nfunction webViewerZoomIn() {\n  PDFViewerApplication.zoomIn();\n}\n\nfunction webViewerZoomOut() {\n  PDFViewerApplication.zoomOut();\n}\n\nfunction webViewerZoomReset() {\n  PDFViewerApplication.zoomReset();\n}\n\nfunction webViewerPageNumberChanged(evt) {\n  const pdfViewer = PDFViewerApplication.pdfViewer;\n\n  if (evt.value !== \"\") {\n    pdfViewer.currentPageLabel = evt.value;\n  }\n\n  if (evt.value !== pdfViewer.currentPageNumber.toString() && evt.value !== pdfViewer.currentPageLabel) {\n    PDFViewerApplication.toolbar.setPageNumber(pdfViewer.currentPageNumber, pdfViewer.currentPageLabel);\n  }\n}\n\nfunction webViewerScaleChanged(evt) {\n  PDFViewerApplication.pdfViewer.currentScaleValue = evt.value;\n}\n\nfunction webViewerRotateCw() {\n  PDFViewerApplication.rotatePages(90);\n}\n\nfunction webViewerRotateCcw() {\n  PDFViewerApplication.rotatePages(-90);\n}\n\nfunction webViewerSwitchScrollMode(evt) {\n  PDFViewerApplication.pdfViewer.scrollMode = evt.mode;\n}\n\nfunction webViewerSwitchSpreadMode(evt) {\n  PDFViewerApplication.pdfViewer.spreadMode = evt.mode;\n}\n\nfunction webViewerDocumentProperties() {\n  PDFViewerApplication.pdfDocumentProperties.open();\n}\n\nfunction webViewerFind(evt) {\n  PDFViewerApplication.findController.executeCommand(\"find\" + evt.type, {\n    query: evt.query,\n    phraseSearch: evt.phraseSearch,\n    caseSensitive: evt.caseSensitive,\n    entireWord: evt.entireWord,\n    highlightAll: evt.highlightAll,\n    findPrevious: evt.findPrevious\n  });\n}\n\nfunction webViewerFindFromUrlHash(evt) {\n  PDFViewerApplication.findController.executeCommand(\"find\", {\n    query: evt.query,\n    phraseSearch: evt.phraseSearch,\n    caseSensitive: false,\n    entireWord: false,\n    highlightAll: true,\n    findPrevious: false\n  });\n}\n\nfunction webViewerUpdateFindMatchesCount({\n  matchesCount\n}) {\n  if (PDFViewerApplication.supportsIntegratedFind) {\n    PDFViewerApplication.externalServices.updateFindMatchesCount(matchesCount);\n  } else {\n    PDFViewerApplication.findBar.updateResultsCount(matchesCount);\n  }\n}\n\nfunction webViewerUpdateFindControlState({\n  state,\n  previous,\n  matchesCount\n}) {\n  if (PDFViewerApplication.supportsIntegratedFind) {\n    PDFViewerApplication.externalServices.updateFindControlState({\n      result: state,\n      findPrevious: previous,\n      matchesCount\n    });\n  } else {\n    PDFViewerApplication.findBar.updateUIState(state, previous, matchesCount);\n  }\n}\n\nfunction webViewerScaleChanging(evt) {\n  PDFViewerApplication.toolbar.setPageScale(evt.presetValue, evt.scale);\n  PDFViewerApplication.pdfViewer.update();\n}\n\nfunction webViewerRotationChanging(evt) {\n  PDFViewerApplication.pdfThumbnailViewer.pagesRotation = evt.pagesRotation;\n  PDFViewerApplication.forceRendering();\n  PDFViewerApplication.pdfViewer.currentPageNumber = evt.pageNumber;\n}\n\nfunction webViewerPageChanging(evt) {\n  const page = evt.pageNumber;\n  PDFViewerApplication.toolbar.setPageNumber(page, evt.pageLabel || null);\n  PDFViewerApplication.secondaryToolbar.setPageNumber(page);\n\n  if (PDFViewerApplication.pdfSidebar.isThumbnailViewVisible) {\n    PDFViewerApplication.pdfThumbnailViewer.scrollThumbnailIntoView(page);\n  }\n\n  if (typeof Stats !== \"undefined\" && Stats.enabled) {\n    const pageView = PDFViewerApplication.pdfViewer.getPageView(page - 1);\n\n    if (pageView && pageView.stats) {\n      Stats.add(page, pageView.stats);\n    }\n  }\n}\n\nfunction webViewerVisibilityChange(evt) {\n  if (document.visibilityState === \"visible\") {\n    setZoomDisabledTimeout();\n  }\n}\n\nlet zoomDisabledTimeout = null;\n\nfunction setZoomDisabledTimeout() {\n  if (zoomDisabledTimeout) {\n    clearTimeout(zoomDisabledTimeout);\n  }\n\n  zoomDisabledTimeout = setTimeout(function () {\n    zoomDisabledTimeout = null;\n  }, WHEEL_ZOOM_DISABLED_TIMEOUT);\n}\n\nfunction webViewerWheel(evt) {\n  const {\n    pdfViewer,\n    supportedMouseWheelZoomModifierKeys\n  } = PDFViewerApplication;\n\n  if (pdfViewer.isInPresentationMode) {\n    return;\n  }\n\n  if (evt.ctrlKey && supportedMouseWheelZoomModifierKeys.ctrlKey || evt.metaKey && supportedMouseWheelZoomModifierKeys.metaKey) {\n    evt.preventDefault();\n\n    if (zoomDisabledTimeout || document.visibilityState === \"hidden\") {\n      return;\n    }\n\n    const previousScale = pdfViewer.currentScale;\n    const delta = (0, _ui_utils.normalizeWheelEventDelta)(evt);\n    const MOUSE_WHEEL_DELTA_PER_PAGE_SCALE = 3.0;\n    const ticks = delta * MOUSE_WHEEL_DELTA_PER_PAGE_SCALE;\n\n    if (ticks < 0) {\n      PDFViewerApplication.zoomOut(-ticks);\n    } else {\n      PDFViewerApplication.zoomIn(ticks);\n    }\n\n    const currentScale = pdfViewer.currentScale;\n\n    if (previousScale !== currentScale) {\n      const scaleCorrectionFactor = currentScale / previousScale - 1;\n      const rect = pdfViewer.container.getBoundingClientRect();\n      const dx = evt.clientX - rect.left;\n      const dy = evt.clientY - rect.top;\n      pdfViewer.container.scrollLeft += dx * scaleCorrectionFactor;\n      pdfViewer.container.scrollTop += dy * scaleCorrectionFactor;\n    }\n  } else {\n    setZoomDisabledTimeout();\n  }\n}\n\nfunction webViewerClick(evt) {\n  if (!PDFViewerApplication.secondaryToolbar.isOpen) {\n    return;\n  }\n\n  const appConfig = PDFViewerApplication.appConfig;\n\n  if (PDFViewerApplication.pdfViewer.containsElement(evt.target) || appConfig.toolbar.container.contains(evt.target) && evt.target !== appConfig.secondaryToolbar.toggleButton) {\n    PDFViewerApplication.secondaryToolbar.close();\n  }\n}\n\nfunction webViewerKeyDown(evt) {\n  if (PDFViewerApplication.overlayManager.active) {\n    return;\n  }\n\n  let handled = false,\n      ensureViewerFocused = false;\n  const cmd = (evt.ctrlKey ? 1 : 0) | (evt.altKey ? 2 : 0) | (evt.shiftKey ? 4 : 0) | (evt.metaKey ? 8 : 0);\n  const pdfViewer = PDFViewerApplication.pdfViewer;\n  const isViewerInPresentationMode = pdfViewer && pdfViewer.isInPresentationMode;\n\n  if (cmd === 1 || cmd === 8 || cmd === 5 || cmd === 12) {\n    switch (evt.keyCode) {\n      case 70:\n        if (!PDFViewerApplication.supportsIntegratedFind) {\n          PDFViewerApplication.findBar.open();\n          handled = true;\n        }\n\n        break;\n\n      case 71:\n        if (!PDFViewerApplication.supportsIntegratedFind) {\n          const findState = PDFViewerApplication.findController.state;\n\n          if (findState) {\n            PDFViewerApplication.findController.executeCommand(\"findagain\", {\n              query: findState.query,\n              phraseSearch: findState.phraseSearch,\n              caseSensitive: findState.caseSensitive,\n              entireWord: findState.entireWord,\n              highlightAll: findState.highlightAll,\n              findPrevious: cmd === 5 || cmd === 12\n            });\n          }\n\n          handled = true;\n        }\n\n        break;\n\n      case 61:\n      case 107:\n      case 187:\n      case 171:\n        if (!isViewerInPresentationMode) {\n          PDFViewerApplication.zoomIn();\n        }\n\n        handled = true;\n        break;\n\n      case 173:\n      case 109:\n      case 189:\n        if (!isViewerInPresentationMode) {\n          PDFViewerApplication.zoomOut();\n        }\n\n        handled = true;\n        break;\n\n      case 48:\n      case 96:\n        if (!isViewerInPresentationMode) {\n          setTimeout(function () {\n            PDFViewerApplication.zoomReset();\n          });\n          handled = false;\n        }\n\n        break;\n\n      case 38:\n        if (isViewerInPresentationMode || PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page = 1;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n\n      case 40:\n        if (isViewerInPresentationMode || PDFViewerApplication.page < PDFViewerApplication.pagesCount) {\n          PDFViewerApplication.page = PDFViewerApplication.pagesCount;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n    }\n  }\n\n  const {\n    eventBus\n  } = PDFViewerApplication;\n\n  if (cmd === 1 || cmd === 8) {\n    switch (evt.keyCode) {\n      case 83:\n        eventBus.dispatch(\"download\", {\n          source: window\n        });\n        handled = true;\n        break;\n\n      case 79:\n        {\n          eventBus.dispatch(\"openfile\", {\n            source: window\n          });\n          handled = true;\n        }\n        break;\n    }\n  }\n\n  if (cmd === 3 || cmd === 10) {\n    switch (evt.keyCode) {\n      case 80:\n        PDFViewerApplication.requestPresentationMode();\n        handled = true;\n        break;\n\n      case 71:\n        PDFViewerApplication.appConfig.toolbar.pageNumber.select();\n        handled = true;\n        break;\n    }\n  }\n\n  if (handled) {\n    if (ensureViewerFocused && !isViewerInPresentationMode) {\n      pdfViewer.focus();\n    }\n\n    evt.preventDefault();\n    return;\n  }\n\n  const curElement = document.activeElement || document.querySelector(\":focus\");\n  const curElementTagName = curElement && curElement.tagName.toUpperCase();\n\n  if (curElementTagName === \"INPUT\" || curElementTagName === \"TEXTAREA\" || curElementTagName === \"SELECT\" || curElement && curElement.isContentEditable) {\n    if (evt.keyCode !== 27) {\n      return;\n    }\n  }\n\n  if (cmd === 0) {\n    let turnPage = 0,\n        turnOnlyIfPageFit = false;\n\n    switch (evt.keyCode) {\n      case 38:\n      case 33:\n        if (pdfViewer.isVerticalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = -1;\n        break;\n\n      case 8:\n        if (!isViewerInPresentationMode) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = -1;\n        break;\n\n      case 37:\n        if (pdfViewer.isHorizontalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n      case 75:\n      case 80:\n        turnPage = -1;\n        break;\n\n      case 27:\n        if (PDFViewerApplication.secondaryToolbar.isOpen) {\n          PDFViewerApplication.secondaryToolbar.close();\n          handled = true;\n        }\n\n        if (!PDFViewerApplication.supportsIntegratedFind && PDFViewerApplication.findBar.opened) {\n          PDFViewerApplication.findBar.close();\n          handled = true;\n        }\n\n        break;\n\n      case 40:\n      case 34:\n        if (pdfViewer.isVerticalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = 1;\n        break;\n\n      case 13:\n      case 32:\n        if (!isViewerInPresentationMode) {\n          turnOnlyIfPageFit = true;\n        }\n\n        turnPage = 1;\n        break;\n\n      case 39:\n        if (pdfViewer.isHorizontalScrollbarEnabled) {\n          turnOnlyIfPageFit = true;\n        }\n\n      case 74:\n      case 78:\n        turnPage = 1;\n        break;\n\n      case 36:\n        if (isViewerInPresentationMode || PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page = 1;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n\n      case 35:\n        if (isViewerInPresentationMode || PDFViewerApplication.page < PDFViewerApplication.pagesCount) {\n          PDFViewerApplication.page = PDFViewerApplication.pagesCount;\n          handled = true;\n          ensureViewerFocused = true;\n        }\n\n        break;\n\n      case 83:\n        PDFViewerApplication.pdfCursorTools.switchTool(_pdf_cursor_tools.CursorTool.SELECT);\n        break;\n\n      case 72:\n        PDFViewerApplication.pdfCursorTools.switchTool(_pdf_cursor_tools.CursorTool.HAND);\n        break;\n\n      case 82:\n        PDFViewerApplication.rotatePages(90);\n        break;\n\n      case 115:\n        PDFViewerApplication.pdfSidebar.toggle();\n        break;\n    }\n\n    if (turnPage !== 0 && (!turnOnlyIfPageFit || pdfViewer.currentScaleValue === \"page-fit\")) {\n      if (turnPage > 0) {\n        if (PDFViewerApplication.page < PDFViewerApplication.pagesCount) {\n          PDFViewerApplication.page++;\n        }\n      } else {\n        if (PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page--;\n        }\n      }\n\n      handled = true;\n    }\n  }\n\n  if (cmd === 4) {\n    switch (evt.keyCode) {\n      case 13:\n      case 32:\n        if (!isViewerInPresentationMode && pdfViewer.currentScaleValue !== \"page-fit\") {\n          break;\n        }\n\n        if (PDFViewerApplication.page > 1) {\n          PDFViewerApplication.page--;\n        }\n\n        handled = true;\n        break;\n\n      case 82:\n        PDFViewerApplication.rotatePages(-90);\n        break;\n    }\n  }\n\n  if (!handled && !isViewerInPresentationMode) {\n    if (evt.keyCode >= 33 && evt.keyCode <= 40 || evt.keyCode === 32 && curElementTagName !== \"BUTTON\") {\n      ensureViewerFocused = true;\n    }\n  }\n\n  if (ensureViewerFocused && !pdfViewer.containsElement(curElement)) {\n    pdfViewer.focus();\n  }\n\n  if (handled) {\n    evt.preventDefault();\n  }\n}\n\nfunction apiPageLayoutToSpreadMode(layout) {\n  switch (layout) {\n    case \"SinglePage\":\n    case \"OneColumn\":\n      return _ui_utils.SpreadMode.NONE;\n\n    case \"TwoColumnLeft\":\n    case \"TwoPageLeft\":\n      return _ui_utils.SpreadMode.ODD;\n\n    case \"TwoColumnRight\":\n    case \"TwoPageRight\":\n      return _ui_utils.SpreadMode.EVEN;\n  }\n\n  return _ui_utils.SpreadMode.NONE;\n}\n\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return _pdf_sidebar.SidebarView.NONE;\n\n    case \"UseThumbs\":\n      return _pdf_sidebar.SidebarView.THUMBS;\n\n    case \"UseOutlines\":\n      return _pdf_sidebar.SidebarView.OUTLINE;\n\n    case \"UseAttachments\":\n      return _pdf_sidebar.SidebarView.ATTACHMENTS;\n\n    case \"UseOC\":\n  }\n\n  return _pdf_sidebar.SidebarView.NONE;\n}\n\nconst PDFPrintServiceFactory = {\n  instance: {\n    supportsPrinting: false,\n\n    createPrintService() {\n      throw new Error(\"Not implemented: createPrintService\");\n    }\n\n  }\n};\nexports.PDFPrintServiceFactory = PDFPrintServiceFactory;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  throw new Error(\"Not implemented: dispatchDOMEvent\");\n}\n\nclass EventBus {\n  constructor(options) {\n    this._listeners = Object.create(null);\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OptionKind = exports.AppOptions = void 0;\n\nvar _viewer_compatibility = __webpack_require__(4);\n\nconst OptionKind = {\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  PREFERENCE: 0x80\n};\nexports.OptionKind = OptionKind;\nconst defaultOptions = {\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultUrl: {\n    value: \"example.pdf\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableCreateObjectURL: {\n    value: false,\n    compatibility: _viewer_compatibility.viewerCompatibilityParams.disableCreateObjectURL,\n    kind: OptionKind.VIEWER\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableWebGL: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 16777216,\n    compatibility: _viewer_compatibility.viewerCompatibilityParams.maxCanvasPixels,\n    kind: OptionKind.VIEWER\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  renderer: {\n    value: \"canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  renderInteractiveForms: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  useOnlyCssZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"libs/pdf.worker.js\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: typeof navigator !== \"undefined\" ? navigator.language : \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = Object.create(null);\n\nclass AppOptions {\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n\n  static get(name) {\n    const userOption = userOptions[name];\n\n    if (userOption !== undefined) {\n      return userOption;\n    }\n\n    const defaultOption = defaultOptions[name];\n\n    if (defaultOption !== undefined) {\n      return defaultOption.compatibility || defaultOption.value;\n    }\n\n    return undefined;\n  }\n\n  static getAll(kind = null) {\n    const options = Object.create(null);\n\n    for (const name in defaultOptions) {\n      const defaultOption = defaultOptions[name];\n\n      if (kind) {\n        if ((kind & defaultOption.kind) === 0) {\n          continue;\n        }\n\n        if (kind === OptionKind.PREFERENCE) {\n          const value = defaultOption.value,\n                valueType = typeof value;\n\n          if (valueType === \"boolean\" || valueType === \"string\" || valueType === \"number\" && Number.isInteger(value)) {\n            options[name] = value;\n            continue;\n          }\n\n          throw new Error(`Invalid type for preference: ${name}`);\n        }\n      }\n\n      const userOption = userOptions[name];\n      options[name] = userOption !== undefined ? userOption : defaultOption.compatibility || defaultOption.value;\n    }\n\n    return options;\n  }\n\n  static set(name, value) {\n    userOptions[name] = value;\n  }\n\n  static remove(name) {\n    delete userOptions[name];\n  }\n\n}\n\nexports.AppOptions = AppOptions;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.viewerCompatibilityParams = void 0;\nconst compatibilityParams = Object.create(null);\n{\n  const userAgent = typeof navigator !== \"undefined\" && navigator.userAgent || \"\";\n  const platform = typeof navigator !== \"undefined\" && navigator.platform || \"\";\n  const maxTouchPoints = typeof navigator !== \"undefined\" && navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIE = /Trident/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  const isIOSChrome = /CriOS/.test(userAgent);\n\n  (function checkOnBlobSupport() {\n    if (isIE || isIOSChrome) {\n      compatibilityParams.disableCreateObjectURL = true;\n    }\n  })();\n\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst viewerCompatibilityParams = Object.freeze(compatibilityParams);\nexports.viewerCompatibilityParams = viewerCompatibilityParams;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nlet pdfjsLib;\n\nif (typeof window !== \"undefined\" && window[\"pdfjs-dist/build/pdf\"]) {\n  pdfjsLib = window[\"pdfjs-dist/build/pdf\"];\n} else {\n  //pdfjsLib = require(\"../build/pdf.js\");\n}\n\nmodule.exports = pdfjsLib;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFCursorTools = exports.CursorTool = void 0;\n\nvar _grab_to_pan = __webpack_require__(7);\n\nconst CursorTool = {\n  SELECT: 0,\n  HAND: 1,\n  ZOOM: 2\n};\nexports.CursorTool = CursorTool;\n\nclass PDFCursorTools {\n  constructor({\n    container,\n    eventBus,\n    cursorToolOnLoad = CursorTool.SELECT\n  }) {\n    this.container = container;\n    this.eventBus = eventBus;\n    this.active = CursorTool.SELECT;\n    this.activeBeforePresentationMode = null;\n    this.handTool = new _grab_to_pan.GrabToPan({\n      element: this.container\n    });\n\n    this._addEventListeners();\n\n    Promise.resolve().then(() => {\n      this.switchTool(cursorToolOnLoad);\n    });\n  }\n\n  get activeTool() {\n    return this.active;\n  }\n\n  switchTool(tool) {\n    if (this.activeBeforePresentationMode !== null) {\n      return;\n    }\n\n    if (tool === this.active) {\n      return;\n    }\n\n    const disableActiveTool = () => {\n      switch (this.active) {\n        case CursorTool.SELECT:\n          break;\n\n        case CursorTool.HAND:\n          this.handTool.deactivate();\n          break;\n\n        case CursorTool.ZOOM:\n      }\n    };\n\n    switch (tool) {\n      case CursorTool.SELECT:\n        disableActiveTool();\n        break;\n\n      case CursorTool.HAND:\n        disableActiveTool();\n        this.handTool.activate();\n        break;\n\n      case CursorTool.ZOOM:\n      default:\n        console.error(`switchTool: \"${tool}\" is an unsupported value.`);\n        return;\n    }\n\n    this.active = tool;\n\n    this._dispatchEvent();\n  }\n\n  _dispatchEvent() {\n    this.eventBus.dispatch(\"cursortoolchanged\", {\n      source: this,\n      tool: this.active\n    });\n  }\n\n  _addEventListeners() {\n    this.eventBus._on(\"switchcursortool\", evt => {\n      this.switchTool(evt.tool);\n    });\n\n    this.eventBus._on(\"presentationmodechanged\", evt => {\n      if (evt.switchInProgress) {\n        return;\n      }\n\n      let previouslyActive;\n\n      if (evt.active) {\n        previouslyActive = this.active;\n        this.switchTool(CursorTool.SELECT);\n        this.activeBeforePresentationMode = previouslyActive;\n      } else {\n        previouslyActive = this.activeBeforePresentationMode;\n        this.activeBeforePresentationMode = null;\n        this.switchTool(previouslyActive);\n      }\n    });\n  }\n\n}\n\nexports.PDFCursorTools = PDFCursorTools;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GrabToPan = GrabToPan;\n\nfunction GrabToPan(options) {\n  this.element = options.element;\n  this.document = options.element.ownerDocument;\n\n  if (typeof options.ignoreTarget === \"function\") {\n    this.ignoreTarget = options.ignoreTarget;\n  }\n\n  this.onActiveChanged = options.onActiveChanged;\n  this.activate = this.activate.bind(this);\n  this.deactivate = this.deactivate.bind(this);\n  this.toggle = this.toggle.bind(this);\n  this._onmousedown = this._onmousedown.bind(this);\n  this._onmousemove = this._onmousemove.bind(this);\n  this._endPan = this._endPan.bind(this);\n  const overlay = this.overlay = document.createElement(\"div\");\n  overlay.className = \"grab-to-pan-grabbing\";\n}\n\nGrabToPan.prototype = {\n  CSS_CLASS_GRAB: \"grab-to-pan-grab\",\n  activate: function GrabToPan_activate() {\n    if (!this.active) {\n      this.active = true;\n      this.element.addEventListener(\"mousedown\", this._onmousedown, true);\n      this.element.classList.add(this.CSS_CLASS_GRAB);\n\n      if (this.onActiveChanged) {\n        this.onActiveChanged(true);\n      }\n    }\n  },\n  deactivate: function GrabToPan_deactivate() {\n    if (this.active) {\n      this.active = false;\n      this.element.removeEventListener(\"mousedown\", this._onmousedown, true);\n\n      this._endPan();\n\n      this.element.classList.remove(this.CSS_CLASS_GRAB);\n\n      if (this.onActiveChanged) {\n        this.onActiveChanged(false);\n      }\n    }\n  },\n  toggle: function GrabToPan_toggle() {\n    if (this.active) {\n      this.deactivate();\n    } else {\n      this.activate();\n    }\n  },\n  ignoreTarget: function GrabToPan_ignoreTarget(node) {\n    return node[matchesSelector](\"a[href], a[href] *, input, textarea, button, button *, select, option\");\n  },\n  _onmousedown: function GrabToPan__onmousedown(event) {\n    if (event.button !== 0 || this.ignoreTarget(event.target)) {\n      return;\n    }\n\n    if (event.originalTarget) {\n      try {\n        event.originalTarget.tagName;\n      } catch (e) {\n        return;\n      }\n    }\n\n    this.scrollLeftStart = this.element.scrollLeft;\n    this.scrollTopStart = this.element.scrollTop;\n    this.clientXStart = event.clientX;\n    this.clientYStart = event.clientY;\n    this.document.addEventListener(\"mousemove\", this._onmousemove, true);\n    this.document.addEventListener(\"mouseup\", this._endPan, true);\n    this.element.addEventListener(\"scroll\", this._endPan, true);\n    event.preventDefault();\n    event.stopPropagation();\n    const focusedElement = document.activeElement;\n\n    if (focusedElement && !focusedElement.contains(event.target)) {\n      focusedElement.blur();\n    }\n  },\n  _onmousemove: function GrabToPan__onmousemove(event) {\n    this.element.removeEventListener(\"scroll\", this._endPan, true);\n\n    if (isLeftMouseReleased(event)) {\n      this._endPan();\n\n      return;\n    }\n\n    const xDiff = event.clientX - this.clientXStart;\n    const yDiff = event.clientY - this.clientYStart;\n    const scrollTop = this.scrollTopStart - yDiff;\n    const scrollLeft = this.scrollLeftStart - xDiff;\n\n    if (this.element.scrollTo) {\n      this.element.scrollTo({\n        top: scrollTop,\n        left: scrollLeft,\n        behavior: \"instant\"\n      });\n    } else {\n      this.element.scrollTop = scrollTop;\n      this.element.scrollLeft = scrollLeft;\n    }\n\n    if (!this.overlay.parentNode) {\n      document.body.appendChild(this.overlay);\n    }\n  },\n  _endPan: function GrabToPan__endPan() {\n    this.element.removeEventListener(\"scroll\", this._endPan, true);\n    this.document.removeEventListener(\"mousemove\", this._onmousemove, true);\n    this.document.removeEventListener(\"mouseup\", this._endPan, true);\n    this.overlay.remove();\n  }\n};\nlet matchesSelector;\n[\"webkitM\", \"mozM\", \"msM\", \"oM\", \"m\"].some(function (prefix) {\n  let name = prefix + \"atches\";\n\n  if (name in document.documentElement) {\n    matchesSelector = name;\n  }\n\n  name += \"Selector\";\n\n  if (name in document.documentElement) {\n    matchesSelector = name;\n  }\n\n  return matchesSelector;\n});\nconst isNotIEorIsIE10plus = !document.documentMode || document.documentMode > 9;\nconst chrome = window.chrome;\nconst isChrome15OrOpera15plus = chrome && (chrome.webstore || chrome.app);\nconst isSafari6plus = /Apple/.test(navigator.vendor) && /Version\\/([6-9]\\d*|[1-5]\\d+)/.test(navigator.userAgent);\n\nfunction isLeftMouseReleased(event) {\n  if (\"buttons\" in event && isNotIEorIsIE10plus) {\n    return !(event.buttons & 1);\n  }\n\n  if (isChrome15OrOpera15plus || isSafari6plus) {\n    return event.which === 0;\n  }\n\n  return false;\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFRenderingQueue = exports.RenderingStates = void 0;\nconst CLEANUP_TIMEOUT = 30000;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nexports.RenderingStates = RenderingStates;\n\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n\n    if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {\n      if (this.pdfThumbnailViewer.forceRendering()) {\n        return;\n      }\n    }\n\n    if (this.printing) {\n      return;\n    }\n\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n\n  getHighestPriority(visible, views, scrolledDown) {\n    const visibleViews = visible.views;\n    const numVisible = visibleViews.length;\n\n    if (numVisible === 0) {\n      return null;\n    }\n\n    for (let i = 0; i < numVisible; ++i) {\n      const view = visibleViews[i].view;\n\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n\n    if (scrolledDown) {\n      const nextPageIndex = visible.last.id;\n\n      if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {\n        return views[nextPageIndex];\n      }\n    } else {\n      const previousPageIndex = visible.first.id - 2;\n\n      if (views[previousPageIndex] && !this.isViewFinished(views[previousPageIndex])) {\n        return views[previousPageIndex];\n      }\n    }\n\n    return null;\n  }\n\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n\n    return true;\n  }\n\n}\n\nexports.PDFRenderingQueue = PDFRenderingQueue;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFSidebar = exports.SidebarView = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdf_rendering_queue = __webpack_require__(8);\n\nconst UI_NOTIFICATION_CLASS = \"pdfSidebarNotification\";\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nexports.SidebarView = SidebarView;\n\nclass PDFSidebar {\n  constructor({\n    elements,\n    pdfViewer,\n    pdfThumbnailViewer,\n    eventBus,\n    l10n = _ui_utils.NullL10n,\n    disableNotification = false\n  }) {\n    this.isOpen = false;\n    this.active = SidebarView.THUMBS;\n    this.isInitialViewSet = false;\n    this.onToggled = null;\n    this.pdfViewer = pdfViewer;\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n    this.outerContainer = elements.outerContainer;\n    this.viewerContainer = elements.viewerContainer;\n    this.toggleButton = elements.toggleButton;\n    this.thumbnailButton = elements.thumbnailButton;\n    this.outlineButton = elements.outlineButton;\n    this.attachmentsButton = elements.attachmentsButton;\n    this.thumbnailView = elements.thumbnailView;\n    this.outlineView = elements.outlineView;\n    this.attachmentsView = elements.attachmentsView;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n    this._disableNotification = disableNotification;\n\n    this._addEventListeners();\n  }\n\n  reset() {\n    this.isInitialViewSet = false;\n\n    this._hideUINotification(null);\n\n    this.switchView(SidebarView.THUMBS);\n    this.outlineButton.disabled = false;\n    this.attachmentsButton.disabled = false;\n  }\n\n  get visibleView() {\n    return this.isOpen ? this.active : SidebarView.NONE;\n  }\n\n  get isThumbnailViewVisible() {\n    return this.isOpen && this.active === SidebarView.THUMBS;\n  }\n\n  get isOutlineViewVisible() {\n    return this.isOpen && this.active === SidebarView.OUTLINE;\n  }\n\n  get isAttachmentsViewVisible() {\n    return this.isOpen && this.active === SidebarView.ATTACHMENTS;\n  }\n\n  setInitialView(view = SidebarView.NONE) {\n    if (this.isInitialViewSet) {\n      return;\n    }\n\n    this.isInitialViewSet = true;\n\n    if (view === SidebarView.NONE || view === SidebarView.UNKNOWN) {\n      this._dispatchEvent();\n\n      return;\n    }\n\n    if (!this._switchView(view, true)) {\n      this._dispatchEvent();\n    }\n  }\n\n  switchView(view, forceOpen = false) {\n    this._switchView(view, forceOpen);\n  }\n\n  _switchView(view, forceOpen = false) {\n    const isViewChanged = view !== this.active;\n    let shouldForceRendering = false;\n\n    switch (view) {\n      case SidebarView.NONE:\n        if (this.isOpen) {\n          this.close();\n          return true;\n        }\n\n        return false;\n\n      case SidebarView.THUMBS:\n        if (this.isOpen && isViewChanged) {\n          shouldForceRendering = true;\n        }\n\n        break;\n\n      case SidebarView.OUTLINE:\n        if (this.outlineButton.disabled) {\n          return false;\n        }\n\n        break;\n\n      case SidebarView.ATTACHMENTS:\n        if (this.attachmentsButton.disabled) {\n          return false;\n        }\n\n        break;\n\n      default:\n        console.error(`PDFSidebar._switchView: \"${view}\" is not a valid view.`);\n        return false;\n    }\n\n    this.active = view;\n    this.thumbnailButton.classList.toggle(\"toggled\", view === SidebarView.THUMBS);\n    this.outlineButton.classList.toggle(\"toggled\", view === SidebarView.OUTLINE);\n    this.attachmentsButton.classList.toggle(\"toggled\", view === SidebarView.ATTACHMENTS);\n    this.thumbnailView.classList.toggle(\"hidden\", view !== SidebarView.THUMBS);\n    this.outlineView.classList.toggle(\"hidden\", view !== SidebarView.OUTLINE);\n    this.attachmentsView.classList.toggle(\"hidden\", view !== SidebarView.ATTACHMENTS);\n\n    if (forceOpen && !this.isOpen) {\n      this.open();\n      return true;\n    }\n\n    if (shouldForceRendering) {\n      this._updateThumbnailViewer();\n\n      this._forceRendering();\n    }\n\n    if (isViewChanged) {\n      this._dispatchEvent();\n    }\n\n    this._hideUINotification(this.active);\n\n    return isViewChanged;\n  }\n\n  open() {\n    if (this.isOpen) {\n      return;\n    }\n\n    this.isOpen = true;\n    this.toggleButton.classList.add(\"toggled\");\n    this.outerContainer.classList.add(\"sidebarMoving\", \"sidebarOpen\");\n\n    if (this.active === SidebarView.THUMBS) {\n      this._updateThumbnailViewer();\n    }\n\n    this._forceRendering();\n\n    this._dispatchEvent();\n\n    this._hideUINotification(this.active);\n  }\n\n  close() {\n    if (!this.isOpen) {\n      return;\n    }\n\n    this.isOpen = false;\n    this.toggleButton.classList.remove(\"toggled\");\n    this.outerContainer.classList.add(\"sidebarMoving\");\n    this.outerContainer.classList.remove(\"sidebarOpen\");\n\n    this._forceRendering();\n\n    this._dispatchEvent();\n  }\n\n  toggle() {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  _dispatchEvent() {\n    this.eventBus.dispatch(\"sidebarviewchanged\", {\n      source: this,\n      view: this.visibleView\n    });\n  }\n\n  _forceRendering() {\n    if (this.onToggled) {\n      this.onToggled();\n    } else {\n      this.pdfViewer.forceRendering();\n      this.pdfThumbnailViewer.forceRendering();\n    }\n  }\n\n  _updateThumbnailViewer() {\n    const {\n      pdfViewer,\n      pdfThumbnailViewer\n    } = this;\n    const pagesCount = pdfViewer.pagesCount;\n\n    for (let pageIndex = 0; pageIndex < pagesCount; pageIndex++) {\n      const pageView = pdfViewer.getPageView(pageIndex);\n\n      if (pageView && pageView.renderingState === _pdf_rendering_queue.RenderingStates.FINISHED) {\n        const thumbnailView = pdfThumbnailViewer.getThumbnail(pageIndex);\n        thumbnailView.setImage(pageView);\n      }\n    }\n\n    pdfThumbnailViewer.scrollThumbnailIntoView(pdfViewer.currentPageNumber);\n  }\n\n  _showUINotification(view) {\n    if (this._disableNotification) {\n      return;\n    }\n\n    this.l10n.get(\"toggle_sidebar_notification.title\", null, \"Toggle Sidebar (document contains outline/attachments)\").then(msg => {\n      this.toggleButton.title = msg;\n    });\n\n    if (!this.isOpen) {\n      this.toggleButton.classList.add(UI_NOTIFICATION_CLASS);\n    } else if (view === this.active) {\n      return;\n    }\n\n    switch (view) {\n      case SidebarView.OUTLINE:\n        this.outlineButton.classList.add(UI_NOTIFICATION_CLASS);\n        break;\n\n      case SidebarView.ATTACHMENTS:\n        this.attachmentsButton.classList.add(UI_NOTIFICATION_CLASS);\n        break;\n    }\n  }\n\n  _hideUINotification(view) {\n    if (this._disableNotification) {\n      return;\n    }\n\n    const removeNotification = sidebarView => {\n      switch (sidebarView) {\n        case SidebarView.OUTLINE:\n          this.outlineButton.classList.remove(UI_NOTIFICATION_CLASS);\n          break;\n\n        case SidebarView.ATTACHMENTS:\n          this.attachmentsButton.classList.remove(UI_NOTIFICATION_CLASS);\n          break;\n      }\n    };\n\n    if (!this.isOpen && view !== null) {\n      return;\n    }\n\n    this.toggleButton.classList.remove(UI_NOTIFICATION_CLASS);\n\n    if (view !== null) {\n      removeNotification(view);\n      return;\n    }\n\n    for (view in SidebarView) {\n      removeNotification(SidebarView[view]);\n    }\n\n    this.l10n.get(\"toggle_sidebar.title\", null, \"Toggle Sidebar\").then(msg => {\n      this.toggleButton.title = msg;\n    });\n  }\n\n  _addEventListeners() {\n    this.viewerContainer.addEventListener(\"transitionend\", evt => {\n      if (evt.target === this.viewerContainer) {\n        this.outerContainer.classList.remove(\"sidebarMoving\");\n      }\n    });\n    this.toggleButton.addEventListener(\"click\", () => {\n      this.toggle();\n    });\n    this.thumbnailButton.addEventListener(\"click\", () => {\n      this.switchView(SidebarView.THUMBS);\n    });\n    this.outlineButton.addEventListener(\"click\", () => {\n      this.switchView(SidebarView.OUTLINE);\n    });\n    this.outlineButton.addEventListener(\"dblclick\", () => {\n      this.eventBus.dispatch(\"toggleoutlinetree\", {\n        source: this\n      });\n    });\n    this.attachmentsButton.addEventListener(\"click\", () => {\n      this.switchView(SidebarView.ATTACHMENTS);\n    });\n\n    this.eventBus._on(\"outlineloaded\", evt => {\n      const outlineCount = evt.outlineCount;\n      this.outlineButton.disabled = !outlineCount;\n\n      if (outlineCount) {\n        this._showUINotification(SidebarView.OUTLINE);\n      } else if (this.active === SidebarView.OUTLINE) {\n        this.switchView(SidebarView.THUMBS);\n      }\n    });\n\n    this.eventBus._on(\"attachmentsloaded\", evt => {\n      if (evt.attachmentsCount) {\n        this.attachmentsButton.disabled = false;\n\n        this._showUINotification(SidebarView.ATTACHMENTS);\n\n        return;\n      }\n\n      Promise.resolve().then(() => {\n        if (this.attachmentsView.hasChildNodes()) {\n          return;\n        }\n\n        this.attachmentsButton.disabled = true;\n\n        if (this.active === SidebarView.ATTACHMENTS) {\n          this.switchView(SidebarView.THUMBS);\n        }\n      });\n    });\n\n    this.eventBus._on(\"presentationmodechanged\", evt => {\n      if (!evt.active && !evt.switchInProgress && this.isThumbnailViewVisible) {\n        this._updateThumbnailViewer();\n      }\n    });\n  }\n\n}\n\nexports.PDFSidebar = PDFSidebar;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OverlayManager = void 0;\n\nclass OverlayManager {\n  constructor() {\n    this._overlays = {};\n    this._active = null;\n    this._keyDownBound = this._keyDown.bind(this);\n  }\n\n  get active() {\n    return this._active;\n  }\n\n  async register(name, element, callerCloseMethod = null, canForceClose = false) {\n    let container;\n\n    if (!name || !element || !(container = element.parentNode)) {\n      throw new Error(\"Not enough parameters.\");\n    } else if (this._overlays[name]) {\n      throw new Error(\"The overlay is already registered.\");\n    }\n\n    this._overlays[name] = {\n      element,\n      container,\n      callerCloseMethod,\n      canForceClose\n    };\n  }\n\n  async unregister(name) {\n    if (!this._overlays[name]) {\n      throw new Error(\"The overlay does not exist.\");\n    } else if (this._active === name) {\n      throw new Error(\"The overlay cannot be removed while it is active.\");\n    }\n\n    delete this._overlays[name];\n  }\n\n  async open(name) {\n    if (!this._overlays[name]) {\n      throw new Error(\"The overlay does not exist.\");\n    } else if (this._active) {\n      if (this._overlays[name].canForceClose) {\n        this._closeThroughCaller();\n      } else if (this._active === name) {\n        throw new Error(\"The overlay is already active.\");\n      } else {\n        throw new Error(\"Another overlay is currently active.\");\n      }\n    }\n\n    this._active = name;\n\n    this._overlays[this._active].element.classList.remove(\"hidden\");\n\n    this._overlays[this._active].container.classList.remove(\"hidden\");\n\n    window.addEventListener(\"keydown\", this._keyDownBound);\n  }\n\n  async close(name) {\n    if (!this._overlays[name]) {\n      throw new Error(\"The overlay does not exist.\");\n    } else if (!this._active) {\n      throw new Error(\"The overlay is currently not active.\");\n    } else if (this._active !== name) {\n      throw new Error(\"Another overlay is currently active.\");\n    }\n\n    this._overlays[this._active].container.classList.add(\"hidden\");\n\n    this._overlays[this._active].element.classList.add(\"hidden\");\n\n    this._active = null;\n    window.removeEventListener(\"keydown\", this._keyDownBound);\n  }\n\n  _keyDown(evt) {\n    if (this._active && evt.keyCode === 27) {\n      this._closeThroughCaller();\n\n      evt.preventDefault();\n    }\n  }\n\n  _closeThroughCaller() {\n    if (this._overlays[this._active].callerCloseMethod) {\n      this._overlays[this._active].callerCloseMethod();\n    }\n\n    if (this._active) {\n      this.close(this._active);\n    }\n  }\n\n}\n\nexports.OverlayManager = OverlayManager;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PasswordPrompt = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdfjsLib = __webpack_require__(5);\n\nclass PasswordPrompt {\n  constructor(options, overlayManager, l10n = _ui_utils.NullL10n) {\n    this.overlayName = options.overlayName;\n    this.container = options.container;\n    this.label = options.label;\n    this.input = options.input;\n    this.submitButton = options.submitButton;\n    this.cancelButton = options.cancelButton;\n    this.overlayManager = overlayManager;\n    this.l10n = l10n;\n    this.updateCallback = null;\n    this.reason = null;\n    this.submitButton.addEventListener(\"click\", this.verify.bind(this));\n    this.cancelButton.addEventListener(\"click\", this.close.bind(this));\n    this.input.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 13) {\n        this.verify();\n      }\n    });\n    this.overlayManager.register(this.overlayName, this.container, this.close.bind(this), true);\n  }\n\n  open() {\n    this.overlayManager.open(this.overlayName).then(() => {\n      this.input.focus();\n      let promptString;\n\n      if (this.reason === _pdfjsLib.PasswordResponses.INCORRECT_PASSWORD) {\n        promptString = this.l10n.get(\"password_invalid\", null, \"Invalid password. Please try again.\");\n      } else {\n        promptString = this.l10n.get(\"password_label\", null, \"Enter the password to open this PDF file.\");\n      }\n\n      promptString.then(msg => {\n        this.label.textContent = msg;\n      });\n    });\n  }\n\n  close() {\n    this.overlayManager.close(this.overlayName).then(() => {\n      this.input.value = \"\";\n    });\n  }\n\n  verify() {\n    const password = this.input.value;\n\n    if (password && password.length > 0) {\n      this.close();\n      this.updateCallback(password);\n    }\n  }\n\n  setUpdateCallback(updateCallback, reason) {\n    this.updateCallback = updateCallback;\n    this.reason = reason;\n  }\n\n}\n\nexports.PasswordPrompt = PasswordPrompt;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFAttachmentViewer = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nclass PDFAttachmentViewer {\n  constructor({\n    container,\n    eventBus,\n    downloadManager\n  }) {\n    this.container = container;\n    this.eventBus = eventBus;\n    this.downloadManager = downloadManager;\n    this.reset();\n\n    this.eventBus._on(\"fileattachmentannotation\", this._appendAttachment.bind(this));\n  }\n\n  reset(keepRenderedCapability = false) {\n    this.attachments = null;\n    this.container.textContent = \"\";\n\n    if (!keepRenderedCapability) {\n      this._renderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n    }\n  }\n\n  _dispatchEvent(attachmentsCount) {\n    this._renderedCapability.resolve();\n\n    this.eventBus.dispatch(\"attachmentsloaded\", {\n      source: this,\n      attachmentsCount\n    });\n  }\n\n  _bindPdfLink(button, content, filename) {\n    let blobUrl;\n\n    button.onclick = () => {\n      if (!blobUrl) {\n        blobUrl = URL.createObjectURL(new Blob([content], {\n          type: \"application/pdf\"\n        }));\n      }\n\n      let viewerUrl;\n      viewerUrl = \"?file=\" + encodeURIComponent(blobUrl + \"#\" + filename);\n\n      try {\n        window.open(viewerUrl);\n      } catch (ex) {\n        console.error(`_bindPdfLink: ${ex}`);\n        URL.revokeObjectURL(blobUrl);\n        blobUrl = null;\n        this.downloadManager.downloadData(content, filename, \"application/pdf\");\n      }\n\n      return false;\n    };\n  }\n\n  _bindLink(button, content, filename) {\n    button.onclick = () => {\n      this.downloadManager.downloadData(content, filename, \"\");\n      return false;\n    };\n  }\n\n  render({\n    attachments,\n    keepRenderedCapability = false\n  }) {\n    let attachmentsCount = 0;\n\n    if (this.attachments) {\n      this.reset(keepRenderedCapability === true);\n    }\n\n    this.attachments = attachments || null;\n\n    if (!attachments) {\n      this._dispatchEvent(attachmentsCount);\n\n      return;\n    }\n\n    const names = Object.keys(attachments).sort(function (a, b) {\n      return a.toLowerCase().localeCompare(b.toLowerCase());\n    });\n    attachmentsCount = names.length;\n\n    for (let i = 0; i < attachmentsCount; i++) {\n      const item = attachments[names[i]];\n      const filename = (0, _pdfjsLib.removeNullCharacters)((0, _pdfjsLib.getFilenameFromUrl)(item.filename));\n      const div = document.createElement(\"div\");\n      div.className = \"attachmentsItem\";\n      const button = document.createElement(\"button\");\n      button.textContent = filename;\n\n      if (/\\.pdf$/i.test(filename) && !this.downloadManager.disableCreateObjectURL) {\n        this._bindPdfLink(button, item.content, filename);\n      } else {\n        this._bindLink(button, item.content, filename);\n      }\n\n      div.appendChild(button);\n      this.container.appendChild(div);\n    }\n\n    this._dispatchEvent(attachmentsCount);\n  }\n\n  _appendAttachment({\n    id,\n    filename,\n    content\n  }) {\n    this._renderedCapability.promise.then(() => {\n      let attachments = this.attachments;\n\n      if (!attachments) {\n        attachments = Object.create(null);\n      } else {\n        for (const name in attachments) {\n          if (id === name) {\n            return;\n          }\n        }\n      }\n\n      attachments[id] = {\n        filename,\n        content\n      };\n      this.render({\n        attachments,\n        keepRenderedCapability: true\n      });\n    });\n  }\n\n}\n\nexports.PDFAttachmentViewer = PDFAttachmentViewer;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFDocumentProperties = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _ui_utils = __webpack_require__(2);\n\nconst DEFAULT_FIELD_CONTENT = \"-\";\nconst NON_METRIC_LOCALES = [\"en-us\", \"en-lr\", \"my\"];\nconst US_PAGE_NAMES = {\n  \"8.5x11\": \"Letter\",\n  \"8.5x14\": \"Legal\"\n};\nconst METRIC_PAGE_NAMES = {\n  \"297x420\": \"A3\",\n  \"210x297\": \"A4\"\n};\n\nfunction getPageName(size, isPortrait, pageNames) {\n  const width = isPortrait ? size.width : size.height;\n  const height = isPortrait ? size.height : size.width;\n  return pageNames[`${width}x${height}`];\n}\n\nclass PDFDocumentProperties {\n  constructor({\n    overlayName,\n    fields,\n    container,\n    closeButton\n  }, overlayManager, eventBus, l10n = _ui_utils.NullL10n) {\n    this.overlayName = overlayName;\n    this.fields = fields;\n    this.container = container;\n    this.overlayManager = overlayManager;\n    this.l10n = l10n;\n\n    this._reset();\n\n    closeButton.addEventListener(\"click\", this.close.bind(this));\n    this.overlayManager.register(this.overlayName, this.container, this.close.bind(this));\n\n    eventBus._on(\"pagechanging\", evt => {\n      this._currentPageNumber = evt.pageNumber;\n    });\n\n    eventBus._on(\"rotationchanging\", evt => {\n      this._pagesRotation = evt.pagesRotation;\n    });\n\n    this._isNonMetricLocale = true;\n    l10n.getLanguage().then(locale => {\n      this._isNonMetricLocale = NON_METRIC_LOCALES.includes(locale);\n    });\n  }\n\n  open() {\n    const freezeFieldData = data => {\n      Object.defineProperty(this, \"fieldData\", {\n        value: Object.freeze(data),\n        writable: false,\n        enumerable: true,\n        configurable: true\n      });\n    };\n\n    Promise.all([this.overlayManager.open(this.overlayName), this._dataAvailableCapability.promise]).then(() => {\n      const currentPageNumber = this._currentPageNumber;\n      const pagesRotation = this._pagesRotation;\n\n      if (this.fieldData && currentPageNumber === this.fieldData._currentPageNumber && pagesRotation === this.fieldData._pagesRotation) {\n        this._updateUI();\n\n        return;\n      }\n\n      this.pdfDocument.getMetadata().then(({\n        info,\n        metadata,\n        contentDispositionFilename\n      }) => {\n        return Promise.all([info, metadata, contentDispositionFilename || (0, _ui_utils.getPDFFileNameFromURL)(this.url), this._parseFileSize(this.maybeFileSize), this._parseDate(info.CreationDate), this._parseDate(info.ModDate), this.pdfDocument.getPage(currentPageNumber).then(pdfPage => {\n          return this._parsePageSize((0, _ui_utils.getPageSizeInches)(pdfPage), pagesRotation);\n        }), this._parseLinearization(info.IsLinearized)]);\n      }).then(([info, metadata, fileName, fileSize, creationDate, modDate, pageSize, isLinearized]) => {\n        freezeFieldData({\n          fileName,\n          fileSize,\n          title: info.Title,\n          author: info.Author,\n          subject: info.Subject,\n          keywords: info.Keywords,\n          creationDate,\n          modificationDate: modDate,\n          creator: info.Creator,\n          producer: info.Producer,\n          version: info.PDFFormatVersion,\n          pageCount: this.pdfDocument.numPages,\n          pageSize,\n          linearized: isLinearized,\n          _currentPageNumber: currentPageNumber,\n          _pagesRotation: pagesRotation\n        });\n\n        this._updateUI();\n\n        return this.pdfDocument.getDownloadInfo();\n      }).then(({\n        length\n      }) => {\n        this.maybeFileSize = length;\n        return this._parseFileSize(length);\n      }).then(fileSize => {\n        if (fileSize === this.fieldData.fileSize) {\n          return;\n        }\n\n        const data = Object.assign(Object.create(null), this.fieldData);\n        data.fileSize = fileSize;\n        freezeFieldData(data);\n\n        this._updateUI();\n      });\n    });\n  }\n\n  close() {\n    this.overlayManager.close(this.overlayName);\n  }\n\n  setDocument(pdfDocument, url = null) {\n    if (this.pdfDocument) {\n      this._reset();\n\n      this._updateUI(true);\n    }\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    this.pdfDocument = pdfDocument;\n    this.url = url;\n\n    this._dataAvailableCapability.resolve();\n  }\n\n  setFileSize(fileSize) {\n    if (Number.isInteger(fileSize) && fileSize > 0) {\n      this.maybeFileSize = fileSize;\n    }\n  }\n\n  _reset() {\n    this.pdfDocument = null;\n    this.url = null;\n    this.maybeFileSize = 0;\n    delete this.fieldData;\n    this._dataAvailableCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._currentPageNumber = 1;\n    this._pagesRotation = 0;\n  }\n\n  _updateUI(reset = false) {\n    if (reset || !this.fieldData) {\n      for (const id in this.fields) {\n        this.fields[id].textContent = DEFAULT_FIELD_CONTENT;\n      }\n\n      return;\n    }\n\n    if (this.overlayManager.active !== this.overlayName) {\n      return;\n    }\n\n    for (const id in this.fields) {\n      const content = this.fieldData[id];\n      this.fields[id].textContent = content || content === 0 ? content : DEFAULT_FIELD_CONTENT;\n    }\n  }\n\n  async _parseFileSize(fileSize = 0) {\n    const kb = fileSize / 1024;\n\n    if (!kb) {\n      return undefined;\n    } else if (kb < 1024) {\n      return this.l10n.get(\"document_properties_kb\", {\n        size_kb: (+kb.toPrecision(3)).toLocaleString(),\n        size_b: fileSize.toLocaleString()\n      }, \"{{size_kb}} KB ({{size_b}} bytes)\");\n    }\n\n    return this.l10n.get(\"document_properties_mb\", {\n      size_mb: (+(kb / 1024).toPrecision(3)).toLocaleString(),\n      size_b: fileSize.toLocaleString()\n    }, \"{{size_mb}} MB ({{size_b}} bytes)\");\n  }\n\n  async _parsePageSize(pageSizeInches, pagesRotation) {\n    if (!pageSizeInches) {\n      return undefined;\n    }\n\n    if (pagesRotation % 180 !== 0) {\n      pageSizeInches = {\n        width: pageSizeInches.height,\n        height: pageSizeInches.width\n      };\n    }\n\n    const isPortrait = (0, _ui_utils.isPortraitOrientation)(pageSizeInches);\n    let sizeInches = {\n      width: Math.round(pageSizeInches.width * 100) / 100,\n      height: Math.round(pageSizeInches.height * 100) / 100\n    };\n    let sizeMillimeters = {\n      width: Math.round(pageSizeInches.width * 25.4 * 10) / 10,\n      height: Math.round(pageSizeInches.height * 25.4 * 10) / 10\n    };\n    let pageName = null;\n    let rawName = getPageName(sizeInches, isPortrait, US_PAGE_NAMES) || getPageName(sizeMillimeters, isPortrait, METRIC_PAGE_NAMES);\n\n    if (!rawName && !(Number.isInteger(sizeMillimeters.width) && Number.isInteger(sizeMillimeters.height))) {\n      const exactMillimeters = {\n        width: pageSizeInches.width * 25.4,\n        height: pageSizeInches.height * 25.4\n      };\n      const intMillimeters = {\n        width: Math.round(sizeMillimeters.width),\n        height: Math.round(sizeMillimeters.height)\n      };\n\n      if (Math.abs(exactMillimeters.width - intMillimeters.width) < 0.1 && Math.abs(exactMillimeters.height - intMillimeters.height) < 0.1) {\n        rawName = getPageName(intMillimeters, isPortrait, METRIC_PAGE_NAMES);\n\n        if (rawName) {\n          sizeInches = {\n            width: Math.round(intMillimeters.width / 25.4 * 100) / 100,\n            height: Math.round(intMillimeters.height / 25.4 * 100) / 100\n          };\n          sizeMillimeters = intMillimeters;\n        }\n      }\n    }\n\n    if (rawName) {\n      pageName = this.l10n.get(\"document_properties_page_size_name_\" + rawName.toLowerCase(), null, rawName);\n    }\n\n    return Promise.all([this._isNonMetricLocale ? sizeInches : sizeMillimeters, this.l10n.get(\"document_properties_page_size_unit_\" + (this._isNonMetricLocale ? \"inches\" : \"millimeters\"), null, this._isNonMetricLocale ? \"in\" : \"mm\"), pageName, this.l10n.get(\"document_properties_page_size_orientation_\" + (isPortrait ? \"portrait\" : \"landscape\"), null, isPortrait ? \"portrait\" : \"landscape\")]).then(([{\n      width,\n      height\n    }, unit, name, orientation]) => {\n      return this.l10n.get(\"document_properties_page_size_dimension_\" + (name ? \"name_\" : \"\") + \"string\", {\n        width: width.toLocaleString(),\n        height: height.toLocaleString(),\n        unit,\n        name,\n        orientation\n      }, \"{{width}} × {{height}} {{unit}} (\" + (name ? \"{{name}}, \" : \"\") + \"{{orientation}})\");\n    });\n  }\n\n  async _parseDate(inputDate) {\n    const dateObject = _pdfjsLib.PDFDateString.toDateObject(inputDate);\n\n    if (!dateObject) {\n      return undefined;\n    }\n\n    return this.l10n.get(\"document_properties_date_string\", {\n      date: dateObject.toLocaleDateString(),\n      time: dateObject.toLocaleTimeString()\n    }, \"{{date}}, {{time}}\");\n  }\n\n  _parseLinearization(isLinearized) {\n    return this.l10n.get(\"document_properties_linearized_\" + (isLinearized ? \"yes\" : \"no\"), null, isLinearized ? \"Yes\" : \"No\");\n  }\n\n}\n\nexports.PDFDocumentProperties = PDFDocumentProperties;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFFindBar = void 0;\n\nvar _pdf_find_controller = __webpack_require__(15);\n\nvar _ui_utils = __webpack_require__(2);\n\nconst MATCHES_COUNT_LIMIT = 1000;\n\nclass PDFFindBar {\n  constructor(options, eventBus, l10n = _ui_utils.NullL10n) {\n    this.opened = false;\n    this.bar = options.bar || null;\n    this.toggleButton = options.toggleButton || null;\n    this.findField = options.findField || null;\n    this.highlightAll = options.highlightAllCheckbox || null;\n    this.caseSensitive = options.caseSensitiveCheckbox || null;\n    this.entireWord = options.entireWordCheckbox || null;\n    this.findMsg = options.findMsg || null;\n    this.findResultsCount = options.findResultsCount || null;\n    this.findPreviousButton = options.findPreviousButton || null;\n    this.findNextButton = options.findNextButton || null;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n    this.toggleButton.addEventListener(\"click\", () => {\n      this.toggle();\n    });\n    this.findField.addEventListener(\"input\", () => {\n      this.dispatchEvent(\"\");\n    });\n    this.bar.addEventListener(\"keydown\", e => {\n      switch (e.keyCode) {\n        case 13:\n          if (e.target === this.findField) {\n            this.dispatchEvent(\"again\", e.shiftKey);\n          }\n\n          break;\n\n        case 27:\n          this.close();\n          break;\n      }\n    });\n    this.findPreviousButton.addEventListener(\"click\", () => {\n      this.dispatchEvent(\"again\", true);\n    });\n    this.findNextButton.addEventListener(\"click\", () => {\n      this.dispatchEvent(\"again\", false);\n    });\n    this.highlightAll.addEventListener(\"click\", () => {\n      this.dispatchEvent(\"highlightallchange\");\n    });\n    this.caseSensitive.addEventListener(\"click\", () => {\n      this.dispatchEvent(\"casesensitivitychange\");\n    });\n    this.entireWord.addEventListener(\"click\", () => {\n      this.dispatchEvent(\"entirewordchange\");\n    });\n\n    this.eventBus._on(\"resize\", this._adjustWidth.bind(this));\n  }\n\n  reset() {\n    this.updateUIState();\n  }\n\n  dispatchEvent(type, findPrev) {\n    this.eventBus.dispatch(\"find\", {\n      source: this,\n      type,\n      query: this.findField.value,\n      phraseSearch: true,\n      caseSensitive: this.caseSensitive.checked,\n      entireWord: this.entireWord.checked,\n      highlightAll: this.highlightAll.checked,\n      findPrevious: findPrev\n    });\n  }\n\n  updateUIState(state, previous, matchesCount) {\n    let notFound = false;\n    let findMsg = \"\";\n    let status = \"\";\n\n    switch (state) {\n      case _pdf_find_controller.FindState.FOUND:\n        break;\n\n      case _pdf_find_controller.FindState.PENDING:\n        status = \"pending\";\n        break;\n\n      case _pdf_find_controller.FindState.NOT_FOUND:\n        findMsg = this.l10n.get(\"find_not_found\", null, \"Phrase not found\");\n        notFound = true;\n        break;\n\n      case _pdf_find_controller.FindState.WRAPPED:\n        if (previous) {\n          findMsg = this.l10n.get(\"find_reached_top\", null, \"Reached top of document, continued from bottom\");\n        } else {\n          findMsg = this.l10n.get(\"find_reached_bottom\", null, \"Reached end of document, continued from top\");\n        }\n\n        break;\n    }\n\n    this.findField.classList.toggle(\"notFound\", notFound);\n    this.findField.setAttribute(\"data-status\", status);\n    Promise.resolve(findMsg).then(msg => {\n      this.findMsg.textContent = msg;\n\n      this._adjustWidth();\n    });\n    this.updateResultsCount(matchesCount);\n  }\n\n  updateResultsCount({\n    current = 0,\n    total = 0\n  } = {}) {\n    if (!this.findResultsCount) {\n      return;\n    }\n\n    const limit = MATCHES_COUNT_LIMIT;\n    let matchesCountMsg = \"\";\n\n    if (total > 0) {\n      if (total > limit) {\n        matchesCountMsg = this.l10n.get(\"find_match_count_limit\", {\n          limit\n        }, \"More than {{limit}} match\" + (limit !== 1 ? \"es\" : \"\"));\n      } else {\n        matchesCountMsg = this.l10n.get(\"find_match_count\", {\n          current,\n          total\n        }, \"{{current}} of {{total}} match\" + (total !== 1 ? \"es\" : \"\"));\n      }\n    }\n\n    Promise.resolve(matchesCountMsg).then(msg => {\n      this.findResultsCount.textContent = msg;\n      this.findResultsCount.classList.toggle(\"hidden\", !total);\n\n      this._adjustWidth();\n    });\n  }\n\n  open() {\n    if (!this.opened) {\n      this.opened = true;\n      this.toggleButton.classList.add(\"toggled\");\n      this.bar.classList.remove(\"hidden\");\n    }\n\n    this.findField.select();\n    this.findField.focus();\n\n    this._adjustWidth();\n  }\n\n  close() {\n    if (!this.opened) {\n      return;\n    }\n\n    this.opened = false;\n    this.toggleButton.classList.remove(\"toggled\");\n    this.bar.classList.add(\"hidden\");\n    this.eventBus.dispatch(\"findbarclose\", {\n      source: this\n    });\n  }\n\n  toggle() {\n    if (this.opened) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  _adjustWidth() {\n    if (!this.opened) {\n      return;\n    }\n\n    this.bar.classList.remove(\"wrapContainers\");\n    const findbarHeight = this.bar.clientHeight;\n    const inputContainerHeight = this.bar.firstElementChild.clientHeight;\n\n    if (findbarHeight > inputContainerHeight) {\n      this.bar.classList.add(\"wrapContainers\");\n    }\n  }\n\n}\n\nexports.PDFFindBar = PDFFindBar;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFFindController = exports.FindState = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _pdf_find_utils = __webpack_require__(16);\n\nvar _ui_utils = __webpack_require__(2);\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nexports.FindState = FindState;\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\u00BC\": \"1/4\",\n  \"\\u00BD\": \"1/2\",\n  \"\\u00BE\": \"3/4\"\n};\nlet normalizationRegex = null;\n\nfunction normalize(text) {\n  if (!normalizationRegex) {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    normalizationRegex = new RegExp(`[${replace}]`, \"g\");\n  }\n\n  return text.replace(normalizationRegex, function (ch) {\n    return CHARACTERS_TO_NORMALIZE[ch];\n  });\n}\n\nclass PDFFindController {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n\n    this._reset();\n\n    eventBus._on(\"findbarclose\", this._onFindBarClose.bind(this));\n  }\n\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n\n  get pageMatches() {\n    return this._pageMatches;\n  }\n\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      this._reset();\n    }\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    this._pdfDocument = pdfDocument;\n\n    this._firstPageCapability.resolve();\n  }\n\n  executeCommand(cmd, state) {\n    if (!state) {\n      return;\n    }\n\n    const pdfDocument = this._pdfDocument;\n\n    if (this._state === null || this._shouldDirtyMatch(cmd, state)) {\n      this._dirtyMatch = true;\n    }\n\n    this._state = state;\n\n    if (cmd !== \"findhighlightallchange\") {\n      this._updateUIState(FindState.PENDING);\n    }\n\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n\n      this._extractText();\n\n      const findbarClosed = !this._highlightMatches;\n      const pendingTimeout = !!this._findTimeout;\n\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n\n      if (cmd === \"find\") {\n        this._findTimeout = setTimeout(() => {\n          this._nextMatch();\n\n          this._findTimeout = null;\n        }, FIND_TIMEOUT);\n      } else if (this._dirtyMatch) {\n        this._nextMatch();\n      } else if (cmd === \"findagain\") {\n        this._nextMatch();\n\n        if (findbarClosed && this._state.highlightAll) {\n          this._updateAllPages();\n        }\n      } else if (cmd === \"findhighlightallchange\") {\n        if (pendingTimeout) {\n          this._nextMatch();\n        } else {\n          this._highlightMatches = true;\n        }\n\n        this._updateAllPages();\n      } else {\n        this._nextMatch();\n      }\n    });\n  }\n\n  scrollMatchIntoView({\n    element = null,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: MATCH_SCROLL_OFFSET_LEFT\n    };\n    (0, _ui_utils.scrollIntoView)(element, spot, true);\n  }\n\n  _reset() {\n    this._highlightMatches = false;\n    this._scrollMatches = false;\n    this._pdfDocument = null;\n    this._pageMatches = [];\n    this._pageMatchesLength = [];\n    this._state = null;\n    this._selected = {\n      pageIdx: -1,\n      matchIdx: -1\n    };\n    this._offset = {\n      pageIdx: null,\n      matchIdx: null,\n      wrapped: false\n    };\n    this._extractTextPromises = [];\n    this._pageContents = [];\n    this._matchesCountTotal = 0;\n    this._pagesToSearch = null;\n    this._pendingFindMatches = Object.create(null);\n    this._resumePageIdx = null;\n    this._dirtyMatch = false;\n    clearTimeout(this._findTimeout);\n    this._findTimeout = null;\n    this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n  }\n\n  get _query() {\n    if (this._state.query !== this._rawQuery) {\n      this._rawQuery = this._state.query;\n      this._normalizedQuery = normalize(this._state.query);\n    }\n\n    return this._normalizedQuery;\n  }\n\n  _shouldDirtyMatch(cmd, state) {\n    if (state.query !== this._state.query) {\n      return true;\n    }\n\n    switch (cmd) {\n      case \"findagain\":\n        const pageNumber = this._selected.pageIdx + 1;\n        const linkService = this._linkService;\n\n        if (pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !linkService.isPageVisible(pageNumber)) {\n          return true;\n        }\n\n        return false;\n\n      case \"findhighlightallchange\":\n        return false;\n    }\n\n    return true;\n  }\n\n  _prepareMatches(matchesWithLength, matches, matchesLength) {\n    function isSubTerm(currentIndex) {\n      const currentElem = matchesWithLength[currentIndex];\n      const nextElem = matchesWithLength[currentIndex + 1];\n\n      if (currentIndex < matchesWithLength.length - 1 && currentElem.match === nextElem.match) {\n        currentElem.skipped = true;\n        return true;\n      }\n\n      for (let i = currentIndex - 1; i >= 0; i--) {\n        const prevElem = matchesWithLength[i];\n\n        if (prevElem.skipped) {\n          continue;\n        }\n\n        if (prevElem.match + prevElem.matchLength < currentElem.match) {\n          break;\n        }\n\n        if (prevElem.match + prevElem.matchLength >= currentElem.match + currentElem.matchLength) {\n          currentElem.skipped = true;\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    matchesWithLength.sort(function (a, b) {\n      return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n    });\n\n    for (let i = 0, len = matchesWithLength.length; i < len; i++) {\n      if (isSubTerm(i)) {\n        continue;\n      }\n\n      matches.push(matchesWithLength[i].match);\n      matchesLength.push(matchesWithLength[i].matchLength);\n    }\n  }\n\n  _isEntireWord(content, startIdx, length) {\n    if (startIdx > 0) {\n      const first = content.charCodeAt(startIdx);\n      const limit = content.charCodeAt(startIdx - 1);\n\n      if ((0, _pdf_find_utils.getCharacterType)(first) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n        return false;\n      }\n    }\n\n    const endIdx = startIdx + length - 1;\n\n    if (endIdx < content.length - 1) {\n      const last = content.charCodeAt(endIdx);\n      const limit = content.charCodeAt(endIdx + 1);\n\n      if ((0, _pdf_find_utils.getCharacterType)(last) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  _calculatePhraseMatch(query, pageIndex, pageContent, entireWord) {\n    const matches = [];\n    const queryLen = query.length;\n    let matchIdx = -queryLen;\n\n    while (true) {\n      matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n\n      if (matchIdx === -1) {\n        break;\n      }\n\n      if (entireWord && !this._isEntireWord(pageContent, matchIdx, queryLen)) {\n        continue;\n      }\n\n      matches.push(matchIdx);\n    }\n\n    this._pageMatches[pageIndex] = matches;\n  }\n\n  _calculateWordMatch(query, pageIndex, pageContent, entireWord) {\n    const matchesWithLength = [];\n    const queryArray = query.match(/\\S+/g);\n\n    for (let i = 0, len = queryArray.length; i < len; i++) {\n      const subquery = queryArray[i];\n      const subqueryLen = subquery.length;\n      let matchIdx = -subqueryLen;\n\n      while (true) {\n        matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n\n        if (matchIdx === -1) {\n          break;\n        }\n\n        if (entireWord && !this._isEntireWord(pageContent, matchIdx, subqueryLen)) {\n          continue;\n        }\n\n        matchesWithLength.push({\n          match: matchIdx,\n          matchLength: subqueryLen,\n          skipped: false\n        });\n      }\n    }\n\n    this._pageMatchesLength[pageIndex] = [];\n    this._pageMatches[pageIndex] = [];\n\n    this._prepareMatches(matchesWithLength, this._pageMatches[pageIndex], this._pageMatchesLength[pageIndex]);\n  }\n\n  _calculateMatch(pageIndex) {\n    let pageContent = this._pageContents[pageIndex];\n    let query = this._query;\n    const {\n      caseSensitive,\n      entireWord,\n      phraseSearch\n    } = this._state;\n\n    if (query.length === 0) {\n      return;\n    }\n\n    if (!caseSensitive) {\n      pageContent = pageContent.toLowerCase();\n      query = query.toLowerCase();\n    }\n\n    if (phraseSearch) {\n      this._calculatePhraseMatch(query, pageIndex, pageContent, entireWord);\n    } else {\n      this._calculateWordMatch(query, pageIndex, pageContent, entireWord);\n    }\n\n    if (this._state.highlightAll) {\n      this._updatePage(pageIndex);\n    }\n\n    if (this._resumePageIdx === pageIndex) {\n      this._resumePageIdx = null;\n\n      this._nextPageMatch();\n    }\n\n    const pageMatchesCount = this._pageMatches[pageIndex].length;\n\n    if (pageMatchesCount > 0) {\n      this._matchesCountTotal += pageMatchesCount;\n\n      this._updateUIResultsCount();\n    }\n  }\n\n  _extractText() {\n    if (this._extractTextPromises.length > 0) {\n      return;\n    }\n\n    let promise = Promise.resolve();\n\n    for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n      const extractTextCapability = (0, _pdfjsLib.createPromiseCapability)();\n      this._extractTextPromises[i] = extractTextCapability.promise;\n      promise = promise.then(() => {\n        return this._pdfDocument.getPage(i + 1).then(pdfPage => {\n          return pdfPage.getTextContent({\n            normalizeWhitespace: true\n          });\n        }).then(textContent => {\n          const textItems = textContent.items;\n          const strBuf = [];\n\n          for (let j = 0, jj = textItems.length; j < jj; j++) {\n            strBuf.push(textItems[j].str);\n          }\n\n          this._pageContents[i] = normalize(strBuf.join(\"\"));\n          extractTextCapability.resolve(i);\n        }, reason => {\n          console.error(`Unable to get text content for page ${i + 1}`, reason);\n          this._pageContents[i] = \"\";\n          extractTextCapability.resolve(i);\n        });\n      });\n    }\n  }\n\n  _updatePage(index) {\n    if (this._scrollMatches && this._selected.pageIdx === index) {\n      this._linkService.page = index + 1;\n    }\n\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: index\n    });\n  }\n\n  _updateAllPages() {\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: -1\n    });\n  }\n\n  _nextMatch() {\n    const previous = this._state.findPrevious;\n    const currentPageIndex = this._linkService.page - 1;\n    const numPages = this._linkService.pagesCount;\n    this._highlightMatches = true;\n\n    if (this._dirtyMatch) {\n      this._dirtyMatch = false;\n      this._selected.pageIdx = this._selected.matchIdx = -1;\n      this._offset.pageIdx = currentPageIndex;\n      this._offset.matchIdx = null;\n      this._offset.wrapped = false;\n      this._resumePageIdx = null;\n      this._pageMatches.length = 0;\n      this._pageMatchesLength.length = 0;\n      this._matchesCountTotal = 0;\n\n      this._updateAllPages();\n\n      for (let i = 0; i < numPages; i++) {\n        if (this._pendingFindMatches[i] === true) {\n          continue;\n        }\n\n        this._pendingFindMatches[i] = true;\n\n        this._extractTextPromises[i].then(pageIdx => {\n          delete this._pendingFindMatches[pageIdx];\n\n          this._calculateMatch(pageIdx);\n        });\n      }\n    }\n\n    if (this._query === \"\") {\n      this._updateUIState(FindState.FOUND);\n\n      return;\n    }\n\n    if (this._resumePageIdx) {\n      return;\n    }\n\n    const offset = this._offset;\n    this._pagesToSearch = numPages;\n\n    if (offset.matchIdx !== null) {\n      const numPageMatches = this._pageMatches[offset.pageIdx].length;\n\n      if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n        offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n\n        this._updateMatch(true);\n\n        return;\n      }\n\n      this._advanceOffsetPage(previous);\n    }\n\n    this._nextPageMatch();\n  }\n\n  _matchesReady(matches) {\n    const offset = this._offset;\n    const numMatches = matches.length;\n    const previous = this._state.findPrevious;\n\n    if (numMatches) {\n      offset.matchIdx = previous ? numMatches - 1 : 0;\n\n      this._updateMatch(true);\n\n      return true;\n    }\n\n    this._advanceOffsetPage(previous);\n\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n\n      if (this._pagesToSearch < 0) {\n        this._updateMatch(false);\n\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  _nextPageMatch() {\n    if (this._resumePageIdx !== null) {\n      console.error(\"There can only be one pending page.\");\n    }\n\n    let matches = null;\n\n    do {\n      const pageIdx = this._offset.pageIdx;\n      matches = this._pageMatches[pageIdx];\n\n      if (!matches) {\n        this._resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this._matchesReady(matches));\n  }\n\n  _advanceOffsetPage(previous) {\n    const offset = this._offset;\n    const numPages = this._linkService.pagesCount;\n    offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n    offset.matchIdx = null;\n    this._pagesToSearch--;\n\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = previous ? numPages - 1 : 0;\n      offset.wrapped = true;\n    }\n  }\n\n  _updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    const wrapped = this._offset.wrapped;\n    this._offset.wrapped = false;\n\n    if (found) {\n      const previousPage = this._selected.pageIdx;\n      this._selected.pageIdx = this._offset.pageIdx;\n      this._selected.matchIdx = this._offset.matchIdx;\n      state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n\n      if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n        this._updatePage(previousPage);\n      }\n    }\n\n    this._updateUIState(state, this._state.findPrevious);\n\n    if (this._selected.pageIdx !== -1) {\n      this._scrollMatches = true;\n\n      this._updatePage(this._selected.pageIdx);\n    }\n  }\n\n  _onFindBarClose(evt) {\n    const pdfDocument = this._pdfDocument;\n\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n\n      if (this._resumePageIdx) {\n        this._resumePageIdx = null;\n        this._dirtyMatch = true;\n      }\n\n      this._updateUIState(FindState.FOUND);\n\n      this._highlightMatches = false;\n\n      this._updateAllPages();\n    });\n  }\n\n  _requestMatchesCount() {\n    const {\n      pageIdx,\n      matchIdx\n    } = this._selected;\n    let current = 0,\n        total = this._matchesCountTotal;\n\n    if (matchIdx !== -1) {\n      for (let i = 0; i < pageIdx; i++) {\n        current += this._pageMatches[i] && this._pageMatches[i].length || 0;\n      }\n\n      current += matchIdx + 1;\n    }\n\n    if (current < 1 || current > total) {\n      current = total = 0;\n    }\n\n    return {\n      current,\n      total\n    };\n  }\n\n  _updateUIResultsCount() {\n    this._eventBus.dispatch(\"updatefindmatchescount\", {\n      source: this,\n      matchesCount: this._requestMatchesCount()\n    });\n  }\n\n  _updateUIState(state, previous) {\n    this._eventBus.dispatch(\"updatefindcontrolstate\", {\n      source: this,\n      state,\n      previous,\n      matchesCount: this._requestMatchesCount()\n    });\n  }\n\n}\n\nexports.PDFFindController = PDFFindController;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCharacterType = getCharacterType;\nexports.CharacterType = void 0;\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nexports.CharacterType = CharacterType;\n\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\n\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\n\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\n\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\n\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\n\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\n\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\n\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\n\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\n\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\n\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n\n    return CharacterType.ALPHA_LETTER;\n  }\n\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n\n  return CharacterType.ALPHA_LETTER;\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isDestHashesEqual = isDestHashesEqual;\nexports.isDestArraysEqual = isDestArraysEqual;\nexports.PDFHistory = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nconst HASH_CHANGE_TIMEOUT = 1000;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1000;\n\nfunction getCurrentHash() {\n  return document.location.hash;\n}\n\nclass PDFHistory {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this._boundEvents = null;\n    this._isViewerInPresentationMode = false;\n\n    this.eventBus._on(\"presentationmodechanged\", evt => {\n      this._isViewerInPresentationMode = evt.active || evt.switchInProgress;\n    });\n\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n\n      const onPagesLoaded = evt => {\n        this.eventBus._off(\"pagesloaded\", onPagesLoaded);\n\n        this._isPagesLoaded = !!evt.pagesCount;\n      };\n\n      this.eventBus._on(\"pagesloaded\", onPagesLoaded);\n    });\n  }\n\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n\n    if (this._initialized) {\n      this.reset();\n    }\n\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n\n    this._bindEvents();\n\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n\n    if (!this._isValidState(state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = this._parseCurrentHash(true);\n\n      if (!hash || reInitialized || resetHistory) {\n        this._pushOrReplaceState(null, true);\n\n        return;\n      }\n\n      this._pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n\n      return;\n    }\n\n    const destination = state.destination;\n\n    this._updateInternalState(destination, state.uid, true);\n\n    if (this._uid > this._maxUid) {\n      this._maxUid = this._uid;\n    }\n\n    if (destination.rotation !== undefined) {\n      this._initialRotation = destination.rotation;\n    }\n\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n\n  reset() {\n    if (this._initialized) {\n      this._pageHide();\n\n      this._initialized = false;\n\n      this._unbindEvents();\n    }\n\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.linkService.pagesCount)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n\n    const hash = namedDest || JSON.stringify(explicitDest);\n\n    if (!hash) {\n      return;\n    }\n\n    let forceReplace = false;\n\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n\n      forceReplace = true;\n    }\n\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n\n    this._pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    this._tryPushCurrentPosition();\n  }\n\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    const state = window.history.state;\n\n    if (this._isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    const state = window.history.state;\n\n    if (this._isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n\n  _pushOrReplaceState(destination, forceReplace = false) {\n    const shouldReplace = forceReplace || !this._destination;\n    const newState = {\n      fingerprint: this._fingerprint,\n      uid: shouldReplace ? this._uid : this._uid + 1,\n      destination\n    };\n\n    this._updateInternalState(destination, newState.uid);\n\n    let newUrl;\n\n    if (this._updateUrl && destination && destination.hash) {\n      const baseUrl = document.location.href.split(\"#\")[0];\n\n      if (!baseUrl.startsWith(\"file://\")) {\n        newUrl = `${baseUrl}#${destination.hash}`;\n      }\n    }\n\n    if (shouldReplace) {\n      window.history.replaceState(newState, \"\", newUrl);\n    } else {\n      this._maxUid = this._uid;\n      window.history.pushState(newState, \"\", newUrl);\n    }\n  }\n\n  _tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n\n    let position = this._position;\n\n    if (temporary) {\n      position = Object.assign(Object.create(null), this._position);\n      position.temporary = true;\n    }\n\n    if (!this._destination) {\n      this._pushOrReplaceState(position);\n\n      return;\n    }\n\n    if (this._destination.temporary) {\n      this._pushOrReplaceState(position, true);\n\n      return;\n    }\n\n    if (this._destination.hash === position.hash) {\n      return;\n    }\n\n    if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      return;\n    }\n\n    let forceReplace = false;\n\n    if (this._destination.page >= position.first && this._destination.page <= position.page) {\n      if (this._destination.dest || !this._destination.first) {\n        return;\n      }\n\n      forceReplace = true;\n    }\n\n    this._pushOrReplaceState(position, forceReplace);\n  }\n\n  _isValidState(state, checkReload = false) {\n    if (!state) {\n      return false;\n    }\n\n    if (state.fingerprint !== this._fingerprint) {\n      if (checkReload) {\n        if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n          return false;\n        }\n\n        const [perfEntry] = performance.getEntriesByType(\"navigation\");\n\n        if (!perfEntry || perfEntry.type !== \"reload\") {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n\n    if (state.destination === null || typeof state.destination !== \"object\") {\n      return false;\n    }\n\n    return true;\n  }\n\n  _updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    if (removeTemporary && destination && destination.temporary) {\n      delete destination.temporary;\n    }\n\n    this._destination = destination;\n    this._uid = uid;\n    this._numPositionUpdates = 0;\n  }\n\n  _parseCurrentHash(checkNameddest = false) {\n    const hash = unescape(getCurrentHash()).substring(1);\n    const params = (0, _ui_utils.parseQueryString)(hash);\n    const nameddest = params.nameddest || \"\";\n    let page = params.page | 0;\n\n    if (!(Number.isInteger(page) && page > 0 && page <= this.linkService.pagesCount) || checkNameddest && nameddest.length > 0) {\n      page = null;\n    }\n\n    return {\n      hash,\n      page,\n      rotation: this.linkService.rotation\n    };\n  }\n\n  _updateViewarea({\n    location\n  }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._position = {\n      hash: this._isViewerInPresentationMode ? `page=${location.pageNumber}` : location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation\n    };\n\n    if (this._popStateInProgress) {\n      return;\n    }\n\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n      this._numPositionUpdates++;\n    }\n\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this._tryPushCurrentPosition(true);\n        }\n\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n\n  _popState({\n    state\n  }) {\n    const newHash = getCurrentHash(),\n          hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n\n    if (!state) {\n      this._uid++;\n\n      const {\n        hash,\n        page,\n        rotation\n      } = this._parseCurrentHash();\n\n      this._pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n\n      return;\n    }\n\n    if (!this._isValidState(state)) {\n      return;\n    }\n\n    this._popStateInProgress = true;\n\n    if (hashChanged) {\n      this._blockHashChange++;\n      (0, _ui_utils.waitOnEventOrTimeout)({\n        target: window,\n        name: \"hashchange\",\n        delay: HASH_CHANGE_TIMEOUT\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n\n    const destination = state.destination;\n\n    this._updateInternalState(destination, state.uid, true);\n\n    if (this._uid > this._maxUid) {\n      this._maxUid = this._uid;\n    }\n\n    if ((0, _ui_utils.isValidRotation)(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n\n    if (destination.dest) {\n      this.linkService.navigateTo(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      this.linkService.page = destination.page;\n    }\n\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n\n  _pageHide() {\n    if (!this._destination || this._destination.temporary) {\n      this._tryPushCurrentPosition();\n    }\n  }\n\n  _bindEvents() {\n    if (this._boundEvents) {\n      return;\n    }\n\n    this._boundEvents = {\n      updateViewarea: this._updateViewarea.bind(this),\n      popState: this._popState.bind(this),\n      pageHide: this._pageHide.bind(this)\n    };\n\n    this.eventBus._on(\"updateviewarea\", this._boundEvents.updateViewarea);\n\n    window.addEventListener(\"popstate\", this._boundEvents.popState);\n    window.addEventListener(\"pagehide\", this._boundEvents.pageHide);\n  }\n\n  _unbindEvents() {\n    if (!this._boundEvents) {\n      return;\n    }\n\n    this.eventBus._off(\"updateviewarea\", this._boundEvents.updateViewarea);\n\n    window.removeEventListener(\"popstate\", this._boundEvents.popState);\n    window.removeEventListener(\"pagehide\", this._boundEvents.pageHide);\n    this._boundEvents = null;\n  }\n\n}\n\nexports.PDFHistory = PDFHistory;\n\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n\n  if (destHash === pushHash) {\n    return true;\n  }\n\n  const {\n    nameddest\n  } = (0, _ui_utils.parseQueryString)(destHash);\n\n  if (nameddest === pushHash) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleLinkService = exports.PDFLinkService = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nclass PDFLinkService {\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    externalLinkEnabled = true,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this.externalLinkEnabled = externalLinkEnabled;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n    this._pagesRefCache = null;\n  }\n\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n    this._pagesRefCache = Object.create(null);\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  }\n\n  set page(value) {\n    this.pdfViewer.currentPageNumber = value;\n  }\n\n  get rotation() {\n    return this.pdfViewer.pagesRotation;\n  }\n\n  set rotation(value) {\n    this.pdfViewer.pagesRotation = value;\n  }\n\n  navigateTo(dest) {\n    const goToDestination = ({\n      namedDest,\n      explicitDest\n    }) => {\n      const destRef = explicitDest[0];\n      let pageNumber;\n\n      if (destRef instanceof Object) {\n        pageNumber = this._cachedPageNumber(destRef);\n\n        if (pageNumber === null) {\n          this.pdfDocument.getPageIndex(destRef).then(pageIndex => {\n            this.cachePageRef(pageIndex + 1, destRef);\n            goToDestination({\n              namedDest,\n              explicitDest\n            });\n          }).catch(() => {\n            console.error(`PDFLinkService.navigateTo: \"${destRef}\" is not ` + `a valid page reference, for dest=\"${dest}\".`);\n          });\n          return;\n        }\n      } else if (Number.isInteger(destRef)) {\n        pageNumber = destRef + 1;\n      } else {\n        console.error(`PDFLinkService.navigateTo: \"${destRef}\" is not ` + `a valid destination reference, for dest=\"${dest}\".`);\n        return;\n      }\n\n      if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n        console.error(`PDFLinkService.navigateTo: \"${pageNumber}\" is not ` + `a valid page number, for dest=\"${dest}\".`);\n        return;\n      }\n\n      if (this.pdfHistory) {\n        this.pdfHistory.pushCurrentPosition();\n        this.pdfHistory.push({\n          namedDest,\n          explicitDest,\n          pageNumber\n        });\n      }\n\n      this.pdfViewer.scrollPageIntoView({\n        pageNumber,\n        destArray: explicitDest,\n        ignoreDestinationZoom: this._ignoreDestinationZoom\n      });\n    };\n\n    new Promise((resolve, reject) => {\n      if (typeof dest === \"string\") {\n        this.pdfDocument.getDestination(dest).then(destArray => {\n          resolve({\n            namedDest: dest,\n            explicitDest: destArray\n          });\n        });\n        return;\n      }\n\n      resolve({\n        namedDest: \"\",\n        explicitDest: dest\n      });\n    }).then(data => {\n      if (!Array.isArray(data.explicitDest)) {\n        console.error(`PDFLinkService.navigateTo: \"${data.explicitDest}\" is` + ` not a valid destination array, for dest=\"${dest}\".`);\n        return;\n      }\n\n      goToDestination(data);\n    });\n  }\n\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      return this.getAnchorUrl(\"#\" + escape(dest));\n    }\n\n    if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      return this.getAnchorUrl(\"#\" + escape(str));\n    }\n\n    return this.getAnchorUrl(\"\");\n  }\n\n  getAnchorUrl(anchor) {\n    return (this.baseUrl || \"\") + anchor;\n  }\n\n  setHash(hash) {\n    let pageNumber, dest;\n\n    if (hash.includes(\"=\")) {\n      const params = (0, _ui_utils.parseQueryString)(hash);\n\n      if (\"search\" in params) {\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: params.search.replace(/\"/g, \"\"),\n          phraseSearch: params.phrase === \"true\"\n        });\n      }\n\n      if (\"page\" in params) {\n        pageNumber = params.page | 0 || 1;\n      }\n\n      if (\"zoom\" in params) {\n        const zoomArgs = params.zoom.split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else {\n          if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n            dest = [null, {\n              name: zoomArg\n            }];\n          } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n          } else if (zoomArg === \"FitR\") {\n            if (zoomArgs.length !== 5) {\n              console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n            } else {\n              dest = [null, {\n                name: zoomArg\n              }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n            }\n          } else {\n            console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not ` + \"a valid zoom value.\");\n          }\n        }\n      }\n\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n\n      if (\"pagemode\" in params) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.pagemode\n        });\n      }\n\n      if (\"nameddest\" in params) {\n        this.navigateTo(params.nameddest);\n      }\n    } else {\n      dest = unescape(hash);\n\n      try {\n        dest = JSON.parse(dest);\n\n        if (!Array.isArray(dest)) {\n          dest = dest.toString();\n        }\n      } catch (ex) {}\n\n      if (typeof dest === \"string\" || isValidExplicitDestination(dest)) {\n        this.navigateTo(dest);\n        return;\n      }\n\n      console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not ` + \"a valid destination.\");\n    }\n  }\n\n  executeNamedAction(action) {\n    switch (action) {\n      case \"GoBack\":\n        if (this.pdfHistory) {\n          this.pdfHistory.back();\n        }\n\n        break;\n\n      case \"GoForward\":\n        if (this.pdfHistory) {\n          this.pdfHistory.forward();\n        }\n\n        break;\n\n      case \"NextPage\":\n        if (this.page < this.pagesCount) {\n          this.page++;\n        }\n\n        break;\n\n      case \"PrevPage\":\n        if (this.page > 1) {\n          this.page--;\n        }\n\n        break;\n\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n\n      default:\n        break;\n    }\n\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n\n  cachePageRef(pageNum, pageRef) {\n    if (!pageRef) {\n      return;\n    }\n\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    this._pagesRefCache[refStr] = pageNum;\n  }\n\n  _cachedPageNumber(pageRef) {\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    return this._pagesRefCache && this._pagesRefCache[refStr] || null;\n  }\n\n  isPageVisible(pageNumber) {\n    return this.pdfViewer.isPageVisible(pageNumber);\n  }\n\n}\n\nexports.PDFLinkService = PDFLinkService;\n\nfunction isValidExplicitDestination(dest) {\n  if (!Array.isArray(dest)) {\n    return false;\n  }\n\n  const destLength = dest.length;\n\n  if (destLength < 2) {\n    return false;\n  }\n\n  const page = dest[0];\n\n  if (!(typeof page === \"object\" && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n    return false;\n  }\n\n  const zoom = dest[1];\n\n  if (!(typeof zoom === \"object\" && typeof zoom.name === \"string\")) {\n    return false;\n  }\n\n  let allowNull = true;\n\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (destLength !== 5) {\n        return false;\n      }\n\n      break;\n\n    case \"Fit\":\n    case \"FitB\":\n      return destLength === 2;\n\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (destLength !== 3) {\n        return false;\n      }\n\n      break;\n\n    case \"FitR\":\n      if (destLength !== 6) {\n        return false;\n      }\n\n      allowNull = false;\n      break;\n\n    default:\n      return false;\n  }\n\n  for (let i = 2; i < destLength; i++) {\n    const param = dest[i];\n\n    if (!(typeof param === \"number\" || allowNull && param === null)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nclass SimpleLinkService {\n  constructor() {\n    this.externalLinkTarget = null;\n    this.externalLinkRel = null;\n    this.externalLinkEnabled = true;\n    this._ignoreDestinationZoom = false;\n  }\n\n  get pagesCount() {\n    return 0;\n  }\n\n  get page() {\n    return 0;\n  }\n\n  set page(value) {}\n\n  get rotation() {\n    return 0;\n  }\n\n  set rotation(value) {}\n\n  navigateTo(dest) {}\n\n  getDestinationHash(dest) {\n    return \"#\";\n  }\n\n  getAnchorUrl(hash) {\n    return \"#\";\n  }\n\n  setHash(hash) {}\n\n  executeNamedAction(action) {}\n\n  cachePageRef(pageNum, pageRef) {}\n\n  isPageVisible(pageNumber) {\n    return true;\n  }\n\n}\n\nexports.SimpleLinkService = SimpleLinkService;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFOutlineViewer = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nconst DEFAULT_TITLE = \"\\u2013\";\n\nclass PDFOutlineViewer {\n  constructor({\n    container,\n    linkService,\n    eventBus\n  }) {\n    this.container = container;\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this.reset();\n\n    eventBus._on(\"toggleoutlinetree\", this.toggleOutlineTree.bind(this));\n  }\n\n  reset() {\n    this.outline = null;\n    this.lastToggleIsShow = true;\n    this.container.textContent = \"\";\n    this.container.classList.remove(\"outlineWithDeepNesting\");\n  }\n\n  _dispatchEvent(outlineCount) {\n    this.eventBus.dispatch(\"outlineloaded\", {\n      source: this,\n      outlineCount\n    });\n  }\n\n  _bindLink(element, {\n    url,\n    newWindow,\n    dest\n  }) {\n    const {\n      linkService\n    } = this;\n\n    if (url) {\n      (0, _pdfjsLib.addLinkAttributes)(element, {\n        url,\n        target: newWindow ? _pdfjsLib.LinkTarget.BLANK : linkService.externalLinkTarget,\n        rel: linkService.externalLinkRel,\n        enabled: linkService.externalLinkEnabled\n      });\n      return;\n    }\n\n    element.href = linkService.getDestinationHash(dest);\n\n    element.onclick = () => {\n      if (dest) {\n        linkService.navigateTo(dest);\n      }\n\n      return false;\n    };\n  }\n\n  _setStyles(element, {\n    bold,\n    italic\n  }) {\n    if (bold) {\n      element.style.fontWeight = \"bold\";\n    }\n\n    if (italic) {\n      element.style.fontStyle = \"italic\";\n    }\n  }\n\n  _addToggleButton(div, {\n    count,\n    items\n  }) {\n    const toggler = document.createElement(\"div\");\n    toggler.className = \"outlineItemToggler\";\n\n    if (count < 0 && Math.abs(count) === items.length) {\n      toggler.classList.add(\"outlineItemsHidden\");\n    }\n\n    toggler.onclick = evt => {\n      evt.stopPropagation();\n      toggler.classList.toggle(\"outlineItemsHidden\");\n\n      if (evt.shiftKey) {\n        const shouldShowAll = !toggler.classList.contains(\"outlineItemsHidden\");\n\n        this._toggleOutlineItem(div, shouldShowAll);\n      }\n    };\n\n    div.insertBefore(toggler, div.firstChild);\n  }\n\n  _toggleOutlineItem(root, show = false) {\n    this.lastToggleIsShow = show;\n\n    for (const toggler of root.querySelectorAll(\".outlineItemToggler\")) {\n      toggler.classList.toggle(\"outlineItemsHidden\", !show);\n    }\n  }\n\n  toggleOutlineTree() {\n    if (!this.outline) {\n      return;\n    }\n\n    this._toggleOutlineItem(this.container, !this.lastToggleIsShow);\n  }\n\n  render({\n    outline\n  }) {\n    let outlineCount = 0;\n\n    if (this.outline) {\n      this.reset();\n    }\n\n    this.outline = outline || null;\n\n    if (!outline) {\n      this._dispatchEvent(outlineCount);\n\n      return;\n    }\n\n    const fragment = document.createDocumentFragment();\n    const queue = [{\n      parent: fragment,\n      items: this.outline\n    }];\n    let hasAnyNesting = false;\n\n    while (queue.length > 0) {\n      const levelData = queue.shift();\n\n      for (const item of levelData.items) {\n        const div = document.createElement(\"div\");\n        div.className = \"outlineItem\";\n        const element = document.createElement(\"a\");\n\n        this._bindLink(element, item);\n\n        this._setStyles(element, item);\n\n        element.textContent = (0, _pdfjsLib.removeNullCharacters)(item.title) || DEFAULT_TITLE;\n        div.appendChild(element);\n\n        if (item.items.length > 0) {\n          hasAnyNesting = true;\n\n          this._addToggleButton(div, item);\n\n          const itemsDiv = document.createElement(\"div\");\n          itemsDiv.className = \"outlineItems\";\n          div.appendChild(itemsDiv);\n          queue.push({\n            parent: itemsDiv,\n            items: item.items\n          });\n        }\n\n        levelData.parent.appendChild(div);\n        outlineCount++;\n      }\n    }\n\n    if (hasAnyNesting) {\n      this.container.classList.add(\"outlineWithDeepNesting\");\n      this.lastToggleIsShow = fragment.querySelectorAll(\".outlineItemsHidden\").length === 0;\n    }\n\n    this.container.appendChild(fragment);\n\n    this._dispatchEvent(outlineCount);\n  }\n\n}\n\nexports.PDFOutlineViewer = PDFOutlineViewer;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPresentationMode = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nconst DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS = 1500;\nconst DELAY_BEFORE_HIDING_CONTROLS = 3000;\nconst ACTIVE_SELECTOR = \"pdfPresentationMode\";\nconst CONTROLS_SELECTOR = \"pdfPresentationModeControls\";\nconst MOUSE_SCROLL_COOLDOWN_TIME = 50;\nconst PAGE_SWITCH_THRESHOLD = 0.1;\nconst SWIPE_MIN_DISTANCE_THRESHOLD = 50;\nconst SWIPE_ANGLE_THRESHOLD = Math.PI / 6;\n\nclass PDFPresentationMode {\n  constructor({\n    container,\n    pdfViewer,\n    eventBus,\n    contextMenuItems = null\n  }) {\n    this.container = container;\n    this.pdfViewer = pdfViewer;\n    this.eventBus = eventBus;\n    this.active = false;\n    this.args = null;\n    this.contextMenuOpen = false;\n    this.mouseScrollTimeStamp = 0;\n    this.mouseScrollDelta = 0;\n    this.touchSwipeState = null;\n\n    if (contextMenuItems) {\n      contextMenuItems.contextFirstPage.addEventListener(\"click\", () => {\n        this.contextMenuOpen = false;\n        this.eventBus.dispatch(\"firstpage\", {\n          source: this\n        });\n      });\n      contextMenuItems.contextLastPage.addEventListener(\"click\", () => {\n        this.contextMenuOpen = false;\n        this.eventBus.dispatch(\"lastpage\", {\n          source: this\n        });\n      });\n      contextMenuItems.contextPageRotateCw.addEventListener(\"click\", () => {\n        this.contextMenuOpen = false;\n        this.eventBus.dispatch(\"rotatecw\", {\n          source: this\n        });\n      });\n      contextMenuItems.contextPageRotateCcw.addEventListener(\"click\", () => {\n        this.contextMenuOpen = false;\n        this.eventBus.dispatch(\"rotateccw\", {\n          source: this\n        });\n      });\n    }\n  }\n\n  request() {\n    if (this.switchInProgress || this.active || !this.pdfViewer.pagesCount) {\n      return false;\n    }\n\n    this._addFullscreenChangeListeners();\n\n    this._setSwitchInProgress();\n\n    this._notifyStateChange();\n\n    if (this.container.requestFullscreen) {\n      this.container.requestFullscreen();\n    } else if (this.container.mozRequestFullScreen) {\n      this.container.mozRequestFullScreen();\n    } else if (this.container.webkitRequestFullscreen) {\n      this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n    } else if (this.container.msRequestFullscreen) {\n      this.container.msRequestFullscreen();\n    } else {\n      return false;\n    }\n\n    this.args = {\n      page: this.pdfViewer.currentPageNumber,\n      previousScale: this.pdfViewer.currentScaleValue\n    };\n    return true;\n  }\n\n  _mouseWheel(evt) {\n    if (!this.active) {\n      return;\n    }\n\n    evt.preventDefault();\n    const delta = (0, _ui_utils.normalizeWheelEventDelta)(evt);\n    const currentTime = new Date().getTime();\n    const storedTime = this.mouseScrollTimeStamp;\n\n    if (currentTime > storedTime && currentTime - storedTime < MOUSE_SCROLL_COOLDOWN_TIME) {\n      return;\n    }\n\n    if (this.mouseScrollDelta > 0 && delta < 0 || this.mouseScrollDelta < 0 && delta > 0) {\n      this._resetMouseScrollState();\n    }\n\n    this.mouseScrollDelta += delta;\n\n    if (Math.abs(this.mouseScrollDelta) >= PAGE_SWITCH_THRESHOLD) {\n      const totalDelta = this.mouseScrollDelta;\n\n      this._resetMouseScrollState();\n\n      const success = totalDelta > 0 ? this._goToPreviousPage() : this._goToNextPage();\n\n      if (success) {\n        this.mouseScrollTimeStamp = currentTime;\n      }\n    }\n  }\n\n  get isFullscreen() {\n    return !!(document.fullscreenElement || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement);\n  }\n\n  _goToPreviousPage() {\n    const page = this.pdfViewer.currentPageNumber;\n\n    if (page <= 1) {\n      return false;\n    }\n\n    this.pdfViewer.currentPageNumber = page - 1;\n    return true;\n  }\n\n  _goToNextPage() {\n    const page = this.pdfViewer.currentPageNumber;\n\n    if (page >= this.pdfViewer.pagesCount) {\n      return false;\n    }\n\n    this.pdfViewer.currentPageNumber = page + 1;\n    return true;\n  }\n\n  _notifyStateChange() {\n    this.eventBus.dispatch(\"presentationmodechanged\", {\n      source: this,\n      active: this.active,\n      switchInProgress: !!this.switchInProgress\n    });\n  }\n\n  _setSwitchInProgress() {\n    if (this.switchInProgress) {\n      clearTimeout(this.switchInProgress);\n    }\n\n    this.switchInProgress = setTimeout(() => {\n      this._removeFullscreenChangeListeners();\n\n      delete this.switchInProgress;\n\n      this._notifyStateChange();\n    }, DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS);\n  }\n\n  _resetSwitchInProgress() {\n    if (this.switchInProgress) {\n      clearTimeout(this.switchInProgress);\n      delete this.switchInProgress;\n    }\n  }\n\n  _enter() {\n    this.active = true;\n\n    this._resetSwitchInProgress();\n\n    this._notifyStateChange();\n\n    this.container.classList.add(ACTIVE_SELECTOR);\n    setTimeout(() => {\n      this.pdfViewer.currentPageNumber = this.args.page;\n      this.pdfViewer.currentScaleValue = \"page-fit\";\n    }, 0);\n\n    this._addWindowListeners();\n\n    this._showControls();\n\n    this.contextMenuOpen = false;\n    this.container.setAttribute(\"contextmenu\", \"viewerContextMenu\");\n    window.getSelection().removeAllRanges();\n  }\n\n  _exit() {\n    const page = this.pdfViewer.currentPageNumber;\n    this.container.classList.remove(ACTIVE_SELECTOR);\n    setTimeout(() => {\n      this.active = false;\n\n      this._removeFullscreenChangeListeners();\n\n      this._notifyStateChange();\n\n      this.pdfViewer.currentScaleValue = this.args.previousScale;\n      this.pdfViewer.currentPageNumber = page;\n      this.args = null;\n    }, 0);\n\n    this._removeWindowListeners();\n\n    this._hideControls();\n\n    this._resetMouseScrollState();\n\n    this.container.removeAttribute(\"contextmenu\");\n    this.contextMenuOpen = false;\n  }\n\n  _mouseDown(evt) {\n    if (this.contextMenuOpen) {\n      this.contextMenuOpen = false;\n      evt.preventDefault();\n      return;\n    }\n\n    if (evt.button === 0) {\n      const isInternalLink = evt.target.href && evt.target.classList.contains(\"internalLink\");\n\n      if (!isInternalLink) {\n        evt.preventDefault();\n\n        if (evt.shiftKey) {\n          this._goToPreviousPage();\n        } else {\n          this._goToNextPage();\n        }\n      }\n    }\n  }\n\n  _contextMenu() {\n    this.contextMenuOpen = true;\n  }\n\n  _showControls() {\n    if (this.controlsTimeout) {\n      clearTimeout(this.controlsTimeout);\n    } else {\n      this.container.classList.add(CONTROLS_SELECTOR);\n    }\n\n    this.controlsTimeout = setTimeout(() => {\n      this.container.classList.remove(CONTROLS_SELECTOR);\n      delete this.controlsTimeout;\n    }, DELAY_BEFORE_HIDING_CONTROLS);\n  }\n\n  _hideControls() {\n    if (!this.controlsTimeout) {\n      return;\n    }\n\n    clearTimeout(this.controlsTimeout);\n    this.container.classList.remove(CONTROLS_SELECTOR);\n    delete this.controlsTimeout;\n  }\n\n  _resetMouseScrollState() {\n    this.mouseScrollTimeStamp = 0;\n    this.mouseScrollDelta = 0;\n  }\n\n  _touchSwipe(evt) {\n    if (!this.active) {\n      return;\n    }\n\n    if (evt.touches.length > 1) {\n      this.touchSwipeState = null;\n      return;\n    }\n\n    switch (evt.type) {\n      case \"touchstart\":\n        this.touchSwipeState = {\n          startX: evt.touches[0].pageX,\n          startY: evt.touches[0].pageY,\n          endX: evt.touches[0].pageX,\n          endY: evt.touches[0].pageY\n        };\n        break;\n\n      case \"touchmove\":\n        if (this.touchSwipeState === null) {\n          return;\n        }\n\n        this.touchSwipeState.endX = evt.touches[0].pageX;\n        this.touchSwipeState.endY = evt.touches[0].pageY;\n        evt.preventDefault();\n        break;\n\n      case \"touchend\":\n        if (this.touchSwipeState === null) {\n          return;\n        }\n\n        let delta = 0;\n        const dx = this.touchSwipeState.endX - this.touchSwipeState.startX;\n        const dy = this.touchSwipeState.endY - this.touchSwipeState.startY;\n        const absAngle = Math.abs(Math.atan2(dy, dx));\n\n        if (Math.abs(dx) > SWIPE_MIN_DISTANCE_THRESHOLD && (absAngle <= SWIPE_ANGLE_THRESHOLD || absAngle >= Math.PI - SWIPE_ANGLE_THRESHOLD)) {\n          delta = dx;\n        } else if (Math.abs(dy) > SWIPE_MIN_DISTANCE_THRESHOLD && Math.abs(absAngle - Math.PI / 2) <= SWIPE_ANGLE_THRESHOLD) {\n          delta = dy;\n        }\n\n        if (delta > 0) {\n          this._goToPreviousPage();\n        } else if (delta < 0) {\n          this._goToNextPage();\n        }\n\n        break;\n    }\n  }\n\n  _addWindowListeners() {\n    this.showControlsBind = this._showControls.bind(this);\n    this.mouseDownBind = this._mouseDown.bind(this);\n    this.mouseWheelBind = this._mouseWheel.bind(this);\n    this.resetMouseScrollStateBind = this._resetMouseScrollState.bind(this);\n    this.contextMenuBind = this._contextMenu.bind(this);\n    this.touchSwipeBind = this._touchSwipe.bind(this);\n    window.addEventListener(\"mousemove\", this.showControlsBind);\n    window.addEventListener(\"mousedown\", this.mouseDownBind);\n    window.addEventListener(\"wheel\", this.mouseWheelBind, {\n      passive: false\n    });\n    window.addEventListener(\"keydown\", this.resetMouseScrollStateBind);\n    window.addEventListener(\"contextmenu\", this.contextMenuBind);\n    window.addEventListener(\"touchstart\", this.touchSwipeBind);\n    window.addEventListener(\"touchmove\", this.touchSwipeBind);\n    window.addEventListener(\"touchend\", this.touchSwipeBind);\n  }\n\n  _removeWindowListeners() {\n    window.removeEventListener(\"mousemove\", this.showControlsBind);\n    window.removeEventListener(\"mousedown\", this.mouseDownBind);\n    window.removeEventListener(\"wheel\", this.mouseWheelBind, {\n      passive: false\n    });\n    window.removeEventListener(\"keydown\", this.resetMouseScrollStateBind);\n    window.removeEventListener(\"contextmenu\", this.contextMenuBind);\n    window.removeEventListener(\"touchstart\", this.touchSwipeBind);\n    window.removeEventListener(\"touchmove\", this.touchSwipeBind);\n    window.removeEventListener(\"touchend\", this.touchSwipeBind);\n    delete this.showControlsBind;\n    delete this.mouseDownBind;\n    delete this.mouseWheelBind;\n    delete this.resetMouseScrollStateBind;\n    delete this.contextMenuBind;\n    delete this.touchSwipeBind;\n  }\n\n  _fullscreenChange() {\n    if (this.isFullscreen) {\n      this._enter();\n    } else {\n      this._exit();\n    }\n  }\n\n  _addFullscreenChangeListeners() {\n    this.fullscreenChangeBind = this._fullscreenChange.bind(this);\n    window.addEventListener(\"fullscreenchange\", this.fullscreenChangeBind);\n    window.addEventListener(\"mozfullscreenchange\", this.fullscreenChangeBind);\n    window.addEventListener(\"webkitfullscreenchange\", this.fullscreenChangeBind);\n    window.addEventListener(\"MSFullscreenChange\", this.fullscreenChangeBind);\n  }\n\n  _removeFullscreenChangeListeners() {\n    window.removeEventListener(\"fullscreenchange\", this.fullscreenChangeBind);\n    window.removeEventListener(\"mozfullscreenchange\", this.fullscreenChangeBind);\n    window.removeEventListener(\"webkitfullscreenchange\", this.fullscreenChangeBind);\n    window.removeEventListener(\"MSFullscreenChange\", this.fullscreenChangeBind);\n    delete this.fullscreenChangeBind;\n  }\n\n}\n\nexports.PDFPresentationMode = PDFPresentationMode;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFSidebarResizer = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nconst SIDEBAR_WIDTH_VAR = \"--sidebar-width\";\nconst SIDEBAR_MIN_WIDTH = 200;\nconst SIDEBAR_RESIZING_CLASS = \"sidebarResizing\";\n\nclass PDFSidebarResizer {\n  constructor(options, eventBus, l10n = _ui_utils.NullL10n) {\n    this.enabled = false;\n    this.isRTL = false;\n    this.sidebarOpen = false;\n    this.doc = document.documentElement;\n    this._width = null;\n    this._outerContainerWidth = null;\n    this._boundEvents = Object.create(null);\n    this.outerContainer = options.outerContainer;\n    this.resizer = options.resizer;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n\n    if (typeof CSS === \"undefined\" || typeof CSS.supports !== \"function\" || !CSS.supports(SIDEBAR_WIDTH_VAR, `calc(-1 * ${SIDEBAR_MIN_WIDTH}px)`)) {\n      console.warn(\"PDFSidebarResizer: \" + \"The browser does not support resizing of the sidebar.\");\n      return;\n    }\n\n    this.enabled = true;\n    this.resizer.classList.remove(\"hidden\");\n    this.l10n.getDirection().then(dir => {\n      this.isRTL = dir === \"rtl\";\n    });\n\n    this._addEventListeners();\n  }\n\n  get outerContainerWidth() {\n    if (!this._outerContainerWidth) {\n      this._outerContainerWidth = this.outerContainer.clientWidth;\n    }\n\n    return this._outerContainerWidth;\n  }\n\n  _updateWidth(width = 0) {\n    if (!this.enabled) {\n      return false;\n    }\n\n    const newWidth = (0, _ui_utils.clamp)(width, SIDEBAR_MIN_WIDTH, Math.floor(this.outerContainerWidth / 2));\n\n    if (newWidth === this._width) {\n      return false;\n    }\n\n    this._width = newWidth;\n    this.doc.style.setProperty(SIDEBAR_WIDTH_VAR, `${newWidth}px`);\n    return true;\n  }\n\n  _mouseMove(evt) {\n    let width = evt.clientX;\n\n    if (this.isRTL) {\n      width = this.outerContainerWidth - width;\n    }\n\n    this._updateWidth(width);\n  }\n\n  _mouseUp(evt) {\n    this.outerContainer.classList.remove(SIDEBAR_RESIZING_CLASS);\n    this.eventBus.dispatch(\"resize\", {\n      source: this\n    });\n    const _boundEvents = this._boundEvents;\n    window.removeEventListener(\"mousemove\", _boundEvents.mouseMove);\n    window.removeEventListener(\"mouseup\", _boundEvents.mouseUp);\n  }\n\n  _addEventListeners() {\n    if (!this.enabled) {\n      return;\n    }\n\n    const _boundEvents = this._boundEvents;\n    _boundEvents.mouseMove = this._mouseMove.bind(this);\n    _boundEvents.mouseUp = this._mouseUp.bind(this);\n    this.resizer.addEventListener(\"mousedown\", evt => {\n      if (evt.button !== 0) {\n        return;\n      }\n\n      this.outerContainer.classList.add(SIDEBAR_RESIZING_CLASS);\n      window.addEventListener(\"mousemove\", _boundEvents.mouseMove);\n      window.addEventListener(\"mouseup\", _boundEvents.mouseUp);\n    });\n\n    this.eventBus._on(\"sidebarviewchanged\", evt => {\n      this.sidebarOpen = !!(evt && evt.view);\n    });\n\n    this.eventBus._on(\"resize\", evt => {\n      if (!evt || evt.source !== window) {\n        return;\n      }\n\n      this._outerContainerWidth = null;\n\n      if (!this._width) {\n        return;\n      }\n\n      if (!this.sidebarOpen) {\n        this._updateWidth(this._width);\n\n        return;\n      }\n\n      this.outerContainer.classList.add(SIDEBAR_RESIZING_CLASS);\n\n      const updated = this._updateWidth(this._width);\n\n      Promise.resolve().then(() => {\n        this.outerContainer.classList.remove(SIDEBAR_RESIZING_CLASS);\n\n        if (updated) {\n          this.eventBus.dispatch(\"resize\", {\n            source: this\n          });\n        }\n      });\n    });\n  }\n\n}\n\nexports.PDFSidebarResizer = PDFSidebarResizer;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFThumbnailViewer = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdf_thumbnail_view = __webpack_require__(23);\n\nconst THUMBNAIL_SCROLL_MARGIN = -19;\nconst THUMBNAIL_SELECTED_CLASS = \"selected\";\n\nclass PDFThumbnailViewer {\n  constructor({\n    container,\n    linkService,\n    renderingQueue,\n    l10n = _ui_utils.NullL10n\n  }) {\n    this.container = container;\n    this.linkService = linkService;\n    this.renderingQueue = renderingQueue;\n    this.l10n = l10n;\n    this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdated.bind(this));\n\n    this._resetView();\n  }\n\n  _scrollUpdated() {\n    this.renderingQueue.renderHighestPriority();\n  }\n\n  getThumbnail(index) {\n    return this._thumbnails[index];\n  }\n\n  _getVisibleThumbs() {\n    return (0, _ui_utils.getVisibleElements)(this.container, this._thumbnails);\n  }\n\n  scrollThumbnailIntoView(pageNumber) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const thumbnailView = this._thumbnails[pageNumber - 1];\n\n    if (!thumbnailView) {\n      console.error('scrollThumbnailIntoView: Invalid \"pageNumber\" parameter.');\n      return;\n    }\n\n    if (pageNumber !== this._currentPageNumber) {\n      const prevThumbnailView = this._thumbnails[this._currentPageNumber - 1];\n      prevThumbnailView.div.classList.remove(THUMBNAIL_SELECTED_CLASS);\n      thumbnailView.div.classList.add(THUMBNAIL_SELECTED_CLASS);\n    }\n\n    const visibleThumbs = this._getVisibleThumbs();\n\n    const numVisibleThumbs = visibleThumbs.views.length;\n\n    if (numVisibleThumbs > 0) {\n      const first = visibleThumbs.first.id;\n      const last = numVisibleThumbs > 1 ? visibleThumbs.last.id : first;\n      let shouldScroll = false;\n\n      if (pageNumber <= first || pageNumber >= last) {\n        shouldScroll = true;\n      } else {\n        visibleThumbs.views.some(function (view) {\n          if (view.id !== pageNumber) {\n            return false;\n          }\n\n          shouldScroll = view.percent < 100;\n          return true;\n        });\n      }\n\n      if (shouldScroll) {\n        (0, _ui_utils.scrollIntoView)(thumbnailView.div, {\n          top: THUMBNAIL_SCROLL_MARGIN\n        });\n      }\n    }\n\n    this._currentPageNumber = pageNumber;\n  }\n\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n\n  set pagesRotation(rotation) {\n    if (!(0, _ui_utils.isValidRotation)(rotation)) {\n      throw new Error(\"Invalid thumbnails rotation angle.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n\n    this._pagesRotation = rotation;\n\n    for (let i = 0, ii = this._thumbnails.length; i < ii; i++) {\n      this._thumbnails[i].update(rotation);\n    }\n  }\n\n  cleanup() {\n    _pdf_thumbnail_view.PDFThumbnailView.cleanup();\n  }\n\n  _resetView() {\n    this._thumbnails = [];\n    this._currentPageNumber = 1;\n    this._pageLabels = null;\n    this._pagesRotation = 0;\n    this._pagesRequests = new WeakMap();\n    this.container.textContent = \"\";\n  }\n\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this._cancelRendering();\n\n      this._resetView();\n    }\n\n    this.pdfDocument = pdfDocument;\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    pdfDocument.getPage(1).then(firstPdfPage => {\n      const pagesCount = pdfDocument.numPages;\n      const viewport = firstPdfPage.getViewport({\n        scale: 1\n      });\n\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const thumbnail = new _pdf_thumbnail_view.PDFThumbnailView({\n          container: this.container,\n          id: pageNum,\n          defaultViewport: viewport.clone(),\n          linkService: this.linkService,\n          renderingQueue: this.renderingQueue,\n          disableCanvasToImageConversion: false,\n          l10n: this.l10n\n        });\n\n        this._thumbnails.push(thumbnail);\n      }\n\n      const firstThumbnailView = this._thumbnails[0];\n\n      if (firstThumbnailView) {\n        firstThumbnailView.setPdfPage(firstPdfPage);\n      }\n\n      const thumbnailView = this._thumbnails[this._currentPageNumber - 1];\n      thumbnailView.div.classList.add(THUMBNAIL_SELECTED_CLASS);\n    }).catch(reason => {\n      console.error(\"Unable to initialize thumbnail viewer\", reason);\n    });\n  }\n\n  _cancelRendering() {\n    for (let i = 0, ii = this._thumbnails.length; i < ii; i++) {\n      if (this._thumbnails[i]) {\n        this._thumbnails[i].cancelRendering();\n      }\n    }\n  }\n\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(\"PDFThumbnailViewer_setPageLabels: Invalid page labels.\");\n    } else {\n      this._pageLabels = labels;\n    }\n\n    for (let i = 0, ii = this._thumbnails.length; i < ii; i++) {\n      const label = this._pageLabels && this._pageLabels[i];\n\n      this._thumbnails[i].setPageLabel(label);\n    }\n  }\n\n  _ensurePdfPageLoaded(thumbView) {\n    if (thumbView.pdfPage) {\n      return Promise.resolve(thumbView.pdfPage);\n    }\n\n    if (this._pagesRequests.has(thumbView)) {\n      return this._pagesRequests.get(thumbView);\n    }\n\n    const promise = this.pdfDocument.getPage(thumbView.id).then(pdfPage => {\n      if (!thumbView.pdfPage) {\n        thumbView.setPdfPage(pdfPage);\n      }\n\n      this._pagesRequests.delete(thumbView);\n\n      return pdfPage;\n    }).catch(reason => {\n      console.error(\"Unable to get page for thumb view\", reason);\n\n      this._pagesRequests.delete(thumbView);\n    });\n\n    this._pagesRequests.set(thumbView, promise);\n\n    return promise;\n  }\n\n  forceRendering() {\n    const visibleThumbs = this._getVisibleThumbs();\n\n    const thumbView = this.renderingQueue.getHighestPriority(visibleThumbs, this._thumbnails, this.scroll.down);\n\n    if (thumbView) {\n      this._ensurePdfPageLoaded(thumbView).then(() => {\n        this.renderingQueue.renderView(thumbView);\n      });\n\n      return true;\n    }\n\n    return false;\n  }\n\n}\n\nexports.PDFThumbnailViewer = PDFThumbnailViewer;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFThumbnailView = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdf_rendering_queue = __webpack_require__(8);\n\nconst MAX_NUM_SCALING_STEPS = 3;\nconst THUMBNAIL_CANVAS_BORDER_WIDTH = 1;\nconst THUMBNAIL_WIDTH = 98;\n\nconst TempImageFactory = function TempImageFactoryClosure() {\n  let tempCanvasCache = null;\n  return {\n    getCanvas(width, height) {\n      let tempCanvas = tempCanvasCache;\n\n      if (!tempCanvas) {\n        tempCanvas = document.createElement(\"canvas\");\n        tempCanvasCache = tempCanvas;\n      }\n\n      tempCanvas.width = width;\n      tempCanvas.height = height;\n      tempCanvas.mozOpaque = true;\n      const ctx = tempCanvas.getContext(\"2d\", {\n        alpha: false\n      });\n      ctx.save();\n      ctx.fillStyle = \"rgb(255, 255, 255)\";\n      ctx.fillRect(0, 0, width, height);\n      ctx.restore();\n      return tempCanvas;\n    },\n\n    destroyCanvas() {\n      const tempCanvas = tempCanvasCache;\n\n      if (tempCanvas) {\n        tempCanvas.width = 0;\n        tempCanvas.height = 0;\n      }\n\n      tempCanvasCache = null;\n    }\n\n  };\n}();\n\nclass PDFThumbnailView {\n  constructor({\n    container,\n    id,\n    defaultViewport,\n    linkService,\n    renderingQueue,\n    disableCanvasToImageConversion = false,\n    l10n = _ui_utils.NullL10n\n  }) {\n    this.id = id;\n    this.renderingId = \"thumbnail\" + id;\n    this.pageLabel = null;\n    this.pdfPage = null;\n    this.rotation = 0;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this.linkService = linkService;\n    this.renderingQueue = renderingQueue;\n    this.renderTask = null;\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    this.resume = null;\n    this.disableCanvasToImageConversion = disableCanvasToImageConversion;\n    this.pageWidth = this.viewport.width;\n    this.pageHeight = this.viewport.height;\n    this.pageRatio = this.pageWidth / this.pageHeight;\n    this.canvasWidth = THUMBNAIL_WIDTH;\n    this.canvasHeight = this.canvasWidth / this.pageRatio | 0;\n    this.scale = this.canvasWidth / this.pageWidth;\n    this.l10n = l10n;\n    const anchor = document.createElement(\"a\");\n    anchor.href = linkService.getAnchorUrl(\"#page=\" + id);\n\n    this._thumbPageTitle.then(msg => {\n      anchor.title = msg;\n    });\n\n    anchor.onclick = function () {\n      linkService.page = id;\n      return false;\n    };\n\n    this.anchor = anchor;\n    const div = document.createElement(\"div\");\n    div.className = \"thumbnail\";\n    div.setAttribute(\"data-page-number\", this.id);\n    this.div = div;\n    const ring = document.createElement(\"div\");\n    ring.className = \"thumbnailSelectionRing\";\n    const borderAdjustment = 2 * THUMBNAIL_CANVAS_BORDER_WIDTH;\n    ring.style.width = this.canvasWidth + borderAdjustment + \"px\";\n    ring.style.height = this.canvasHeight + borderAdjustment + \"px\";\n    this.ring = ring;\n    div.appendChild(ring);\n    anchor.appendChild(div);\n    container.appendChild(anchor);\n  }\n\n  setPdfPage(pdfPage) {\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: 1,\n      rotation: totalRotation\n    });\n    this.reset();\n  }\n\n  reset() {\n    this.cancelRendering();\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    this.pageWidth = this.viewport.width;\n    this.pageHeight = this.viewport.height;\n    this.pageRatio = this.pageWidth / this.pageHeight;\n    this.canvasHeight = this.canvasWidth / this.pageRatio | 0;\n    this.scale = this.canvasWidth / this.pageWidth;\n    this.div.removeAttribute(\"data-loaded\");\n    const ring = this.ring;\n    const childNodes = ring.childNodes;\n\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      ring.removeChild(childNodes[i]);\n    }\n\n    const borderAdjustment = 2 * THUMBNAIL_CANVAS_BORDER_WIDTH;\n    ring.style.width = this.canvasWidth + borderAdjustment + \"px\";\n    ring.style.height = this.canvasHeight + borderAdjustment + \"px\";\n\n    if (this.canvas) {\n      this.canvas.width = 0;\n      this.canvas.height = 0;\n      delete this.canvas;\n    }\n\n    if (this.image) {\n      this.image.removeAttribute(\"src\");\n      delete this.image;\n    }\n  }\n\n  update(rotation) {\n    if (typeof rotation !== \"undefined\") {\n      this.rotation = rotation;\n    }\n\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: 1,\n      rotation: totalRotation\n    });\n    this.reset();\n  }\n\n  cancelRendering() {\n    if (this.renderTask) {\n      this.renderTask.cancel();\n      this.renderTask = null;\n    }\n\n    this.resume = null;\n  }\n\n  _getPageDrawContext(noCtxScale = false) {\n    const canvas = document.createElement(\"canvas\");\n    this.canvas = canvas;\n    canvas.mozOpaque = true;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const outputScale = (0, _ui_utils.getOutputScale)(ctx);\n    canvas.width = this.canvasWidth * outputScale.sx | 0;\n    canvas.height = this.canvasHeight * outputScale.sy | 0;\n    canvas.style.width = this.canvasWidth + \"px\";\n    canvas.style.height = this.canvasHeight + \"px\";\n\n    if (!noCtxScale && outputScale.scaled) {\n      ctx.scale(outputScale.sx, outputScale.sy);\n    }\n\n    return ctx;\n  }\n\n  _convertCanvasToImage() {\n    if (!this.canvas) {\n      return;\n    }\n\n    if (this.renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n      return;\n    }\n\n    const className = \"thumbnailImage\";\n\n    if (this.disableCanvasToImageConversion) {\n      this.canvas.className = className;\n\n      this._thumbPageCanvas.then(msg => {\n        this.canvas.setAttribute(\"aria-label\", msg);\n      });\n\n      this.div.setAttribute(\"data-loaded\", true);\n      this.ring.appendChild(this.canvas);\n      return;\n    }\n\n    const image = document.createElement(\"img\");\n    image.className = className;\n\n    this._thumbPageCanvas.then(msg => {\n      image.setAttribute(\"aria-label\", msg);\n    });\n\n    image.style.width = this.canvasWidth + \"px\";\n    image.style.height = this.canvasHeight + \"px\";\n    image.src = this.canvas.toDataURL();\n    this.image = image;\n    this.div.setAttribute(\"data-loaded\", true);\n    this.ring.appendChild(image);\n    this.canvas.width = 0;\n    this.canvas.height = 0;\n    delete this.canvas;\n  }\n\n  draw() {\n    if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      return Promise.resolve(undefined);\n    }\n\n    const {\n      pdfPage\n    } = this;\n\n    if (!pdfPage) {\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n      return Promise.reject(new Error(\"pdfPage is not loaded\"));\n    }\n\n    this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n    const renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n\n    const finishRenderTask = error => {\n      if (renderTask === this.renderTask) {\n        this.renderTask = null;\n      }\n\n      if (error instanceof _pdfjsLib.RenderingCancelledException) {\n        renderCapability.resolve(undefined);\n        return;\n      }\n\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n      this._convertCanvasToImage();\n\n      if (!error) {\n        renderCapability.resolve(undefined);\n      } else {\n        renderCapability.reject(error);\n      }\n    };\n\n    const ctx = this._getPageDrawContext();\n\n    const drawViewport = this.viewport.clone({\n      scale: this.scale\n    });\n\n    const renderContinueCallback = cont => {\n      if (!this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = _pdf_rendering_queue.RenderingStates.PAUSED;\n\n        this.resume = () => {\n          this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n          cont();\n        };\n\n        return;\n      }\n\n      cont();\n    };\n\n    const renderContext = {\n      canvasContext: ctx,\n      viewport: drawViewport\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    renderTask.promise.then(function () {\n      finishRenderTask(null);\n    }, function (error) {\n      finishRenderTask(error);\n    });\n    return renderCapability.promise;\n  }\n\n  setImage(pageView) {\n    if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n      return;\n    }\n\n    const img = pageView.canvas;\n\n    if (!img) {\n      return;\n    }\n\n    if (!this.pdfPage) {\n      this.setPdfPage(pageView.pdfPage);\n    }\n\n    this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n    const ctx = this._getPageDrawContext(true);\n\n    const canvas = ctx.canvas;\n\n    if (img.width <= 2 * canvas.width) {\n      ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\n\n      this._convertCanvasToImage();\n\n      return;\n    }\n\n    let reducedWidth = canvas.width << MAX_NUM_SCALING_STEPS;\n    let reducedHeight = canvas.height << MAX_NUM_SCALING_STEPS;\n    const reducedImage = TempImageFactory.getCanvas(reducedWidth, reducedHeight);\n    const reducedImageCtx = reducedImage.getContext(\"2d\");\n\n    while (reducedWidth > img.width || reducedHeight > img.height) {\n      reducedWidth >>= 1;\n      reducedHeight >>= 1;\n    }\n\n    reducedImageCtx.drawImage(img, 0, 0, img.width, img.height, 0, 0, reducedWidth, reducedHeight);\n\n    while (reducedWidth > 2 * canvas.width) {\n      reducedImageCtx.drawImage(reducedImage, 0, 0, reducedWidth, reducedHeight, 0, 0, reducedWidth >> 1, reducedHeight >> 1);\n      reducedWidth >>= 1;\n      reducedHeight >>= 1;\n    }\n\n    ctx.drawImage(reducedImage, 0, 0, reducedWidth, reducedHeight, 0, 0, canvas.width, canvas.height);\n\n    this._convertCanvasToImage();\n  }\n\n  get _thumbPageTitle() {\n    return this.l10n.get(\"thumb_page_title\", {\n      page: this.pageLabel !== null ? this.pageLabel : this.id\n    }, \"Page {{page}}\");\n  }\n\n  get _thumbPageCanvas() {\n    return this.l10n.get(\"thumb_page_canvas\", {\n      page: this.pageLabel !== null ? this.pageLabel : this.id\n    }, \"Thumbnail of Page {{page}}\");\n  }\n\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n\n    this._thumbPageTitle.then(msg => {\n      this.anchor.title = msg;\n    });\n\n    if (this.renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n      return;\n    }\n\n    this._thumbPageCanvas.then(msg => {\n      if (this.image) {\n        this.image.setAttribute(\"aria-label\", msg);\n      } else if (this.disableCanvasToImageConversion && this.canvas) {\n        this.canvas.setAttribute(\"aria-label\", msg);\n      }\n    });\n  }\n\n  static cleanup() {\n    TempImageFactory.destroyCanvas();\n  }\n\n}\n\nexports.PDFThumbnailView = PDFThumbnailView;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFViewer = void 0;\n\nvar _base_viewer = __webpack_require__(25);\n\nvar _pdfjsLib = __webpack_require__(5);\n\nclass PDFViewer extends _base_viewer.BaseViewer {\n  get _viewerElement() {\n    return (0, _pdfjsLib.shadow)(this, \"_viewerElement\", this.viewer);\n  }\n\n  _scrollIntoView({\n    pageDiv,\n    pageSpot = null,\n    pageNumber = null\n  }) {\n    if (!pageSpot && !this.isInPresentationMode) {\n      const left = pageDiv.offsetLeft + pageDiv.clientLeft;\n      const right = left + pageDiv.clientWidth;\n      const {\n        scrollLeft,\n        clientWidth\n      } = this.container;\n\n      if (this._isScrollModeHorizontal || left < scrollLeft || right > scrollLeft + clientWidth) {\n        pageSpot = {\n          left: 0,\n          top: 0\n        };\n      }\n    }\n\n    super._scrollIntoView({\n      pageDiv,\n      pageSpot,\n      pageNumber\n    });\n  }\n\n  _getVisiblePages() {\n    if (this.isInPresentationMode) {\n      return this._getCurrentVisiblePage();\n    }\n\n    return super._getVisiblePages();\n  }\n\n  _updateHelper(visiblePages) {\n    if (this.isInPresentationMode) {\n      return;\n    }\n\n    let currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n\n      if (page.id === currentId) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n\n    if (!stillFullyVisible) {\n      currentId = visiblePages[0].id;\n    }\n\n    this._setCurrentPageNumber(currentId);\n  }\n\n}\n\nexports.PDFViewer = PDFViewer;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseViewer = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdf_rendering_queue = __webpack_require__(8);\n\nvar _annotation_layer_builder = __webpack_require__(26);\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _pdf_page_view = __webpack_require__(27);\n\nvar _pdf_link_service = __webpack_require__(18);\n\nvar _text_layer_builder = __webpack_require__(28);\n\nconst DEFAULT_CACHE_SIZE = 10;\n\nfunction PDFPageViewBuffer(size) {\n  const data = [];\n\n  this.push = function (view) {\n    const i = data.indexOf(view);\n\n    if (i >= 0) {\n      data.splice(i, 1);\n    }\n\n    data.push(view);\n\n    if (data.length > size) {\n      data.shift().destroy();\n    }\n  };\n\n  this.resize = function (newSize, pagesToKeep) {\n    size = newSize;\n\n    if (pagesToKeep) {\n      const pageIdsToKeep = new Set();\n\n      for (let i = 0, iMax = pagesToKeep.length; i < iMax; ++i) {\n        pageIdsToKeep.add(pagesToKeep[i].id);\n      }\n\n      (0, _ui_utils.moveToEndOfArray)(data, function (page) {\n        return pageIdsToKeep.has(page.id);\n      });\n    }\n\n    while (data.length > size) {\n      data.shift().destroy();\n    }\n  };\n}\n\nfunction isSameScale(oldScale, newScale) {\n  if (newScale === oldScale) {\n    return true;\n  }\n\n  if (Math.abs(newScale - oldScale) < 1e-15) {\n    return true;\n  }\n\n  return false;\n}\n\nclass BaseViewer {\n  constructor(options) {\n    if (this.constructor === BaseViewer) {\n      throw new Error(\"Cannot initialize BaseViewer.\");\n    }\n\n    this._name = this.constructor.name;\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new _pdf_link_service.SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this.removePageBorders = options.removePageBorders || false;\n    this.textLayerMode = Number.isInteger(options.textLayerMode) ? options.textLayerMode : _ui_utils.TextLayerMode.ENABLE;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.renderInteractiveForms = options.renderInteractiveForms || false;\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.enableWebGL = options.enableWebGL || false;\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n || _ui_utils.NullL10n;\n    this.defaultRenderingQueue = !options.renderingQueue;\n\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n\n    this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdate.bind(this));\n    this.presentationModeState = _ui_utils.PresentationModeState.UNKNOWN;\n    this._onBeforeDraw = this._onAfterDraw = null;\n\n    this._resetView();\n\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n\n    Promise.resolve().then(() => {\n      this.eventBus.dispatch(\"baseviewerinit\", {\n        source: this\n      });\n    });\n  }\n\n  get pagesCount() {\n    return this._pages.length;\n  }\n\n  getPageView(index) {\n    return this._pages[index];\n  }\n\n  get pageViewsReady() {\n    if (!this._pagesCapability.settled) {\n      return false;\n    }\n\n    return this._pages.every(function (pageView) {\n      return pageView && pageView.pdfPage;\n    });\n  }\n\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`${this._name}.currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this._resetCurrentPageView();\n      }\n\n      return true;\n    }\n\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels && this._pageLabels[val - 1]\n    });\n\n    if (resetCurrentPageView) {\n      this._resetCurrentPageView();\n    }\n\n    return true;\n  }\n\n  get currentPageLabel() {\n    return this._pageLabels && this._pageLabels[this._currentPageNumber - 1];\n  }\n\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let page = val | 0;\n\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`${this._name}.currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n\n  get currentScale() {\n    return this._currentScale !== _ui_utils.UNKNOWN_SCALE ? this._currentScale : _ui_utils.DEFAULT_SCALE;\n  }\n\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this._setScale(val, false);\n  }\n\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this._setScale(val, false);\n  }\n\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n\n  set pagesRotation(rotation) {\n    if (!(0, _ui_utils.isValidRotation)(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      const pageView = this._pages[i];\n      pageView.update(pageView.scale, rotation);\n    }\n\n    if (this._currentScaleValue) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n\n  get _viewerElement() {\n    throw new Error(\"Not implemented: _viewerElement\");\n  }\n\n  _onePageRenderedOrForceFetch() {\n    if (!this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n      return Promise.resolve();\n    }\n\n    return this._onePageRenderedCapability.promise;\n  }\n\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this._cancelRendering();\n\n      this._resetView();\n\n      if (this.findController) {\n        this.findController.setDocument(null);\n      }\n    }\n\n    this.pdfDocument = pdfDocument;\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n\n    this._pagesCapability.promise.then(() => {\n      this.eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    });\n\n    this._onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n\n      if (!pageView) {\n        return;\n      }\n\n      this._buffer.push(pageView);\n    };\n\n    this.eventBus._on(\"pagerender\", this._onBeforeDraw);\n\n    this._onAfterDraw = evt => {\n      if (evt.cssTransform || this._onePageRenderedCapability.settled) {\n        return;\n      }\n\n      this._onePageRenderedCapability.resolve();\n\n      this.eventBus._off(\"pagerendered\", this._onAfterDraw);\n\n      this._onAfterDraw = null;\n    };\n\n    this.eventBus._on(\"pagerendered\", this._onAfterDraw);\n\n    firstPagePromise.then(firstPdfPage => {\n      this._firstPageCapability.resolve(firstPdfPage);\n\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * _ui_utils.CSS_UNITS\n      });\n      const textLayerFactory = this.textLayerMode !== _ui_utils.TextLayerMode.DISABLE ? this : null;\n\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new _pdf_page_view.PDFPageView({\n          container: this._viewerElement,\n          eventBus: this.eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          renderingQueue: this.renderingQueue,\n          textLayerFactory,\n          textLayerMode: this.textLayerMode,\n          annotationLayerFactory: this,\n          imageResourcesPath: this.imageResourcesPath,\n          renderInteractiveForms: this.renderInteractiveForms,\n          renderer: this.renderer,\n          enableWebGL: this.enableWebGL,\n          useOnlyCssZoom: this.useOnlyCssZoom,\n          maxCanvasPixels: this.maxCanvasPixels,\n          l10n: this.l10n\n        });\n\n        this._pages.push(pageView);\n      }\n\n      const firstPageView = this._pages[0];\n\n      if (firstPageView) {\n        firstPageView.setPdfPage(firstPdfPage);\n        this.linkService.cachePageRef(1, firstPdfPage.ref);\n      }\n\n      if (this._spreadMode !== _ui_utils.SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n\n      this._onePageRenderedOrForceFetch().then(() => {\n        if (this.findController) {\n          this.findController.setDocument(pdfDocument);\n        }\n\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > 7500) {\n          this._pagesCapability.resolve();\n\n          return;\n        }\n\n        let getPagesLeft = pagesCount - 1;\n\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n\n          return;\n        }\n\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = this._pages[pageNum - 1];\n\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n\n            this.linkService.cachePageRef(pageNum, pdfPage.ref);\n\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n        }\n      });\n\n      this.eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n    });\n  }\n\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`${this._name}.setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      const pageView = this._pages[i];\n      const label = this._pageLabels && this._pageLabels[i];\n      pageView.setPageLabel(label);\n    }\n  }\n\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = _ui_utils.UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this._buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._pagesRequests = new WeakMap();\n    this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._onePageRenderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._pagesCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._scrollMode = _ui_utils.ScrollMode.VERTICAL;\n    this._spreadMode = _ui_utils.SpreadMode.NONE;\n\n    if (this._onBeforeDraw) {\n      this.eventBus._off(\"pagerender\", this._onBeforeDraw);\n\n      this._onBeforeDraw = null;\n    }\n\n    if (this._onAfterDraw) {\n      this.eventBus._off(\"pagerendered\", this._onAfterDraw);\n\n      this._onAfterDraw = null;\n    }\n\n    this.viewer.textContent = \"\";\n\n    this._updateScrollMode();\n  }\n\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n\n    this.update();\n  }\n\n  _scrollIntoView({\n    pageDiv,\n    pageSpot = null,\n    pageNumber = null\n  }) {\n    (0, _ui_utils.scrollIntoView)(pageDiv, pageSpot);\n  }\n\n  _setScaleUpdatePages(newScale, newValue, noScroll = false, preset = false) {\n    this._currentScaleValue = newValue.toString();\n\n    if (isSameScale(this._currentScale, newScale)) {\n      if (preset) {\n        this.eventBus.dispatch(\"scalechanging\", {\n          source: this,\n          scale: newScale,\n          presetValue: newValue\n        });\n      }\n\n      return;\n    }\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].update(newScale);\n    }\n\n    this._currentScale = newScale;\n\n    if (!noScroll) {\n      let page = this._currentPageNumber,\n          dest;\n\n      if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, {\n          name: \"XYZ\"\n        }, this._location.left, this._location.top, null];\n      }\n\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true\n      });\n    }\n\n    this.eventBus.dispatch(\"scalechanging\", {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  _setScale(value, noScroll = false) {\n    let scale = parseFloat(value);\n\n    if (scale > 0) {\n      this._setScaleUpdatePages(scale, value, noScroll, false);\n    } else {\n      const currentPage = this._pages[this._currentPageNumber - 1];\n\n      if (!currentPage) {\n        return;\n      }\n\n      const noPadding = this.isInPresentationMode || this.removePageBorders;\n      let hPadding = noPadding ? 0 : _ui_utils.SCROLLBAR_PADDING;\n      let vPadding = noPadding ? 0 : _ui_utils.VERTICAL_PADDING;\n\n      if (!noPadding && this._isScrollModeHorizontal) {\n        [hPadding, vPadding] = [vPadding, hPadding];\n      }\n\n      const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale;\n      const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n\n      switch (value) {\n        case \"page-actual\":\n          scale = 1;\n          break;\n\n        case \"page-width\":\n          scale = pageWidthScale;\n          break;\n\n        case \"page-height\":\n          scale = pageHeightScale;\n          break;\n\n        case \"page-fit\":\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n\n        case \"auto\":\n          const horizontalScale = (0, _ui_utils.isPortraitOrientation)(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n          scale = Math.min(_ui_utils.MAX_AUTO_SCALE, horizontalScale);\n          break;\n\n        default:\n          console.error(`${this._name}._setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n\n      this._setScaleUpdatePages(scale, value, noScroll, true);\n    }\n  }\n\n  _resetCurrentPageView() {\n    if (this.isInPresentationMode) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    const pageView = this._pages[this._currentPageNumber - 1];\n\n    this._scrollIntoView({\n      pageDiv: pageView.div\n    });\n  }\n\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n\n    if (!pageView) {\n      console.error(`${this._name}.scrollPageIntoView: ` + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n\n      return;\n    }\n\n    let x = 0,\n        y = 0;\n    let width = 0,\n        height = 0,\n        widthScale,\n        heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / _ui_utils.CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / _ui_utils.CSS_UNITS;\n    let scale = 0;\n\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        }\n\n        break;\n\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        const hPadding = this.removePageBorders ? 0 : _ui_utils.SCROLLBAR_PADDING;\n        const vPadding = this.removePageBorders ? 0 : _ui_utils.VERTICAL_PADDING;\n        widthScale = (this.container.clientWidth - hPadding) / width / _ui_utils.CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / _ui_utils.CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n\n      default:\n        console.error(`${this._name}.scrollPageIntoView: ` + `\"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === _ui_utils.UNKNOWN_SCALE) {\n        this.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n      }\n    }\n\n    if (scale === \"page-fit\" && !destArray[4]) {\n      this._scrollIntoView({\n        pageDiv: pageView.div,\n        pageNumber\n      });\n\n      return;\n    }\n\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n\n    this._scrollIntoView({\n      pageDiv: pageView.div,\n      pageSpot: {\n        left,\n        top\n      },\n      pageNumber\n    });\n  }\n\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    let pdfOpenParams = \"#page=\" + pageNumber;\n    pdfOpenParams += \"&zoom=\" + normalizedScaleValue;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    pdfOpenParams += \",\" + intLeft + \",\" + intTop;\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n\n  _updateHelper(visiblePages) {\n    throw new Error(\"Not implemented: _updateHelper\");\n  }\n\n  update() {\n    const visible = this._getVisiblePages();\n\n    const visiblePages = visible.views,\n          numVisiblePages = visiblePages.length;\n\n    if (numVisiblePages === 0) {\n      return;\n    }\n\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n\n    this._buffer.resize(newCacheSize, visiblePages);\n\n    this.renderingQueue.renderHighestPriority(visible);\n\n    this._updateHelper(visiblePages);\n\n    this._updateLocation(visible.first);\n\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n\n  focus() {\n    this.container.focus();\n  }\n\n  get _isScrollModeHorizontal() {\n    return this.isInPresentationMode ? false : this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL;\n  }\n\n  get isInPresentationMode() {\n    return this.presentationModeState === _ui_utils.PresentationModeState.FULLSCREEN;\n  }\n\n  get isChangingPresentationMode() {\n    return this.presentationModeState === _ui_utils.PresentationModeState.CHANGING;\n  }\n\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n\n  _getCurrentVisiblePage() {\n    if (!this.pagesCount) {\n      return {\n        views: []\n      };\n    }\n\n    const pageView = this._pages[this._currentPageNumber - 1];\n    const element = pageView.div;\n    const view = {\n      id: pageView.id,\n      x: element.offsetLeft + element.clientLeft,\n      y: element.offsetTop + element.clientTop,\n      view: pageView\n    };\n    return {\n      first: view,\n      last: view,\n      views: [view]\n    };\n  }\n\n  _getVisiblePages() {\n    return (0, _ui_utils.getVisibleElements)(this.container, this._pages, true, this._isScrollModeHorizontal);\n  }\n\n  isPageVisible(pageNumber) {\n    if (!this.pdfDocument) {\n      return false;\n    }\n\n    if (pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`${this._name}.isPageVisible: \"${pageNumber}\" is out of bounds.`);\n      return false;\n    }\n\n    return this._getVisiblePages().views.some(function (view) {\n      return view.id === pageNumber;\n    });\n  }\n\n  cleanup() {\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      if (this._pages[i] && this._pages[i].renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n        this._pages[i].reset();\n      }\n    }\n  }\n\n  _cancelRendering() {\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      if (this._pages[i]) {\n        this._pages[i].cancelRendering();\n      }\n    }\n  }\n\n  _ensurePdfPageLoaded(pageView) {\n    if (pageView.pdfPage) {\n      return Promise.resolve(pageView.pdfPage);\n    }\n\n    if (this._pagesRequests.has(pageView)) {\n      return this._pagesRequests.get(pageView);\n    }\n\n    const promise = this.pdfDocument.getPage(pageView.id).then(pdfPage => {\n      if (!pageView.pdfPage) {\n        pageView.setPdfPage(pdfPage);\n      }\n\n      this._pagesRequests.delete(pageView);\n\n      return pdfPage;\n    }).catch(reason => {\n      console.error(\"Unable to get page for page view\", reason);\n\n      this._pagesRequests.delete(pageView);\n    });\n\n    this._pagesRequests.set(pageView, promise);\n\n    return promise;\n  }\n\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n\n    const scrollAhead = this._isScrollModeHorizontal ? this.scroll.right : this.scroll.down;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead);\n\n    if (pageView) {\n      this._ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n\n      return true;\n    }\n\n    return false;\n  }\n\n  createTextLayerBuilder(textLayerDiv, pageIndex, viewport, enhanceTextSelection = false, eventBus) {\n    return new _text_layer_builder.TextLayerBuilder({\n      textLayerDiv,\n      eventBus,\n      pageIndex,\n      viewport,\n      findController: this.isInPresentationMode ? null : this.findController,\n      enhanceTextSelection: this.isInPresentationMode ? false : enhanceTextSelection\n    });\n  }\n\n  createAnnotationLayerBuilder(pageDiv, pdfPage, imageResourcesPath = \"\", renderInteractiveForms = false, l10n = _ui_utils.NullL10n) {\n    return new _annotation_layer_builder.AnnotationLayerBuilder({\n      pageDiv,\n      pdfPage,\n      imageResourcesPath,\n      renderInteractiveForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      l10n\n    });\n  }\n\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  getPagesOverview() {\n    const pagesOverview = this._pages.map(function (pageView) {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n\n    if (!this.enablePrintAutoRotate) {\n      return pagesOverview;\n    }\n\n    const isFirstPagePortrait = (0, _ui_utils.isPortraitOrientation)(pagesOverview[0]);\n    return pagesOverview.map(function (size) {\n      if (isFirstPagePortrait === (0, _ui_utils.isPortraitOrientation)(size)) {\n        return size;\n      }\n\n      return {\n        width: size.height,\n        height: size.width,\n        rotation: (size.rotation + 90) % 360\n      };\n    });\n  }\n\n  get scrollMode() {\n    return this._scrollMode;\n  }\n\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n\n    if (!(0, _ui_utils.isValidScrollMode)(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n\n    this._updateScrollMode(this._currentPageNumber);\n  }\n\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n          viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === _ui_utils.ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === _ui_utils.ScrollMode.WRAPPED);\n\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this._setCurrentPageNumber(pageNumber, true);\n\n    this.update();\n  }\n\n  get spreadMode() {\n    return this._spreadMode;\n  }\n\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n\n    if (!(0, _ui_utils.isValidSpreadMode)(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const viewer = this.viewer,\n          pages = this._pages;\n    viewer.textContent = \"\";\n\n    if (this._spreadMode === _ui_utils.SpreadMode.NONE) {\n      for (let i = 0, iMax = pages.length; i < iMax; ++i) {\n        viewer.appendChild(pages[i].div);\n      }\n    } else {\n      const parity = this._spreadMode - 1;\n      let spread = null;\n\n      for (let i = 0, iMax = pages.length; i < iMax; ++i) {\n        if (spread === null) {\n          spread = document.createElement(\"div\");\n          spread.className = \"spread\";\n          viewer.appendChild(spread);\n        } else if (i % 2 === parity) {\n          spread = spread.cloneNode(false);\n          viewer.appendChild(spread);\n        }\n\n        spread.appendChild(pages[i].div);\n      }\n    }\n\n    if (!pageNumber) {\n      return;\n    }\n\n    this._setCurrentPageNumber(pageNumber, true);\n\n    this.update();\n  }\n\n}\n\nexports.BaseViewer = BaseViewer;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultAnnotationLayerFactory = exports.AnnotationLayerBuilder = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdf_link_service = __webpack_require__(18);\n\nclass AnnotationLayerBuilder {\n  constructor({\n    pageDiv,\n    pdfPage,\n    linkService,\n    downloadManager,\n    imageResourcesPath = \"\",\n    renderInteractiveForms = false,\n    l10n = _ui_utils.NullL10n\n  }) {\n    this.pageDiv = pageDiv;\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderInteractiveForms = renderInteractiveForms;\n    this.l10n = l10n;\n    this.div = null;\n    this._cancelled = false;\n  }\n\n  render(viewport, intent = \"display\") {\n    this.pdfPage.getAnnotations({\n      intent\n    }).then(annotations => {\n      if (this._cancelled) {\n        return;\n      }\n\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        annotations,\n        page: this.pdfPage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderInteractiveForms: this.renderInteractiveForms,\n        linkService: this.linkService,\n        downloadManager: this.downloadManager\n      };\n\n      if (this.div) {\n        _pdfjsLib.AnnotationLayer.update(parameters);\n      } else {\n        if (annotations.length === 0) {\n          return;\n        }\n\n        this.div = document.createElement(\"div\");\n        this.div.className = \"annotationLayer\";\n        this.pageDiv.appendChild(this.div);\n        parameters.div = this.div;\n\n        _pdfjsLib.AnnotationLayer.render(parameters);\n\n        this.l10n.translate(this.div);\n      }\n    });\n  }\n\n  cancel() {\n    this._cancelled = true;\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.setAttribute(\"hidden\", \"true\");\n  }\n\n}\n\nexports.AnnotationLayerBuilder = AnnotationLayerBuilder;\n\nclass DefaultAnnotationLayerFactory {\n  createAnnotationLayerBuilder(pageDiv, pdfPage, imageResourcesPath = \"\", renderInteractiveForms = false, l10n = _ui_utils.NullL10n) {\n    return new AnnotationLayerBuilder({\n      pageDiv,\n      pdfPage,\n      imageResourcesPath,\n      renderInteractiveForms,\n      linkService: new _pdf_link_service.SimpleLinkService(),\n      l10n\n    });\n  }\n\n}\n\nexports.DefaultAnnotationLayerFactory = DefaultAnnotationLayerFactory;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPageView = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _pdf_rendering_queue = __webpack_require__(8);\n\nvar _viewer_compatibility = __webpack_require__(4);\n\nconst MAX_CANVAS_PIXELS = _viewer_compatibility.viewerCompatibilityParams.maxCanvasPixels || 16777216;\n\nclass PDFPageView {\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || _ui_utils.DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this.hasRestrictedScaling = false;\n    this.textLayerMode = Number.isInteger(options.textLayerMode) ? options.textLayerMode : _ui_utils.TextLayerMode.ENABLE;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.renderInteractiveForms = options.renderInteractiveForms || false;\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels || MAX_CANVAS_PIXELS;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.textLayerFactory = options.textLayerFactory;\n    this.annotationLayerFactory = options.annotationLayerFactory;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.enableWebGL = options.enableWebGL || false;\n    this.l10n = options.l10n || _ui_utils.NullL10n;\n    this.paintTask = null;\n    this.paintedViewportMap = new WeakMap();\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    this.resume = null;\n    this.error = null;\n    this.annotationLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    div.setAttribute(\"data-page-number\", this.id);\n    this.div = div;\n    container.appendChild(div);\n  }\n\n  setPdfPage(pdfPage) {\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * _ui_utils.CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.stats = pdfPage.stats;\n    this.reset();\n  }\n\n  destroy() {\n    this.reset();\n\n    if (this.pdfPage) {\n      this.pdfPage.cleanup();\n    }\n  }\n\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.paintedViewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n\n    this.zoomLayer = null;\n  }\n\n  reset(keepZoomLayer = false, keepAnnotations = false) {\n    this.cancelRendering(keepAnnotations);\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    const div = this.div;\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    const childNodes = div.childNodes;\n    const currentZoomLayerNode = keepZoomLayer && this.zoomLayer || null;\n    const currentAnnotationNode = keepAnnotations && this.annotationLayer && this.annotationLayer.div || null;\n\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n\n      if (currentZoomLayerNode === node || currentAnnotationNode === node) {\n        continue;\n      }\n\n      div.removeChild(node);\n    }\n\n    div.removeAttribute(\"data-loaded\");\n\n    if (currentAnnotationNode) {\n      this.annotationLayer.hide();\n    } else if (this.annotationLayer) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n    }\n\n    if (!currentZoomLayerNode) {\n      if (this.canvas) {\n        this.paintedViewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n\n      this._resetZoomLayer();\n    }\n\n    if (this.svg) {\n      this.paintedViewportMap.delete(this.svg);\n      delete this.svg;\n    }\n\n    this.loadingIconDiv = document.createElement(\"div\");\n    this.loadingIconDiv.className = \"loadingIcon\";\n    div.appendChild(this.loadingIconDiv);\n  }\n\n  update(scale, rotation) {\n    this.scale = scale || this.scale;\n\n    if (typeof rotation !== \"undefined\") {\n      this.rotation = rotation;\n    }\n\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * _ui_utils.CSS_UNITS,\n      rotation: totalRotation\n    });\n\n    if (this.svg) {\n      this.cssTransform(this.svg, true);\n      this.eventBus.dispatch(\"pagerendered\", {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: true,\n        timestamp: performance.now()\n      });\n      return;\n    }\n\n    let isScalingRestricted = false;\n\n    if (this.canvas && this.maxCanvasPixels > 0) {\n      const outputScale = this.outputScale;\n\n      if ((Math.floor(this.viewport.width) * outputScale.sx | 0) * (Math.floor(this.viewport.height) * outputScale.sy | 0) > this.maxCanvasPixels) {\n        isScalingRestricted = true;\n      }\n    }\n\n    if (this.canvas) {\n      if (this.useOnlyCssZoom || this.hasRestrictedScaling && isScalingRestricted) {\n        this.cssTransform(this.canvas, true);\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now()\n        });\n        return;\n      }\n\n      if (!this.zoomLayer && !this.canvas.hasAttribute(\"hidden\")) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n\n    if (this.zoomLayer) {\n      this.cssTransform(this.zoomLayer.firstChild);\n    }\n\n    this.reset(true, true);\n  }\n\n  cancelRendering(keepAnnotations = false) {\n    if (this.paintTask) {\n      this.paintTask.cancel();\n      this.paintTask = null;\n    }\n\n    this.resume = null;\n\n    if (this.textLayer) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n\n    if (!keepAnnotations && this.annotationLayer) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n    }\n  }\n\n  cssTransform(target, redrawAnnotations = false) {\n    const width = this.viewport.width;\n    const height = this.viewport.height;\n    const div = this.div;\n    target.style.width = target.parentNode.style.width = div.style.width = Math.floor(width) + \"px\";\n    target.style.height = target.parentNode.style.height = div.style.height = Math.floor(height) + \"px\";\n    const relativeRotation = this.viewport.rotation - this.paintedViewportMap.get(target).rotation;\n    const absRotation = Math.abs(relativeRotation);\n    let scaleX = 1,\n        scaleY = 1;\n\n    if (absRotation === 90 || absRotation === 270) {\n      scaleX = height / width;\n      scaleY = width / height;\n    }\n\n    const cssTransform = \"rotate(\" + relativeRotation + \"deg) \" + \"scale(\" + scaleX + \",\" + scaleY + \")\";\n    target.style.transform = cssTransform;\n\n    if (this.textLayer) {\n      const textLayerViewport = this.textLayer.viewport;\n      const textRelativeRotation = this.viewport.rotation - textLayerViewport.rotation;\n      const textAbsRotation = Math.abs(textRelativeRotation);\n      let scale = width / textLayerViewport.width;\n\n      if (textAbsRotation === 90 || textAbsRotation === 270) {\n        scale = width / textLayerViewport.height;\n      }\n\n      const textLayerDiv = this.textLayer.textLayerDiv;\n      let transX, transY;\n\n      switch (textAbsRotation) {\n        case 0:\n          transX = transY = 0;\n          break;\n\n        case 90:\n          transX = 0;\n          transY = \"-\" + textLayerDiv.style.height;\n          break;\n\n        case 180:\n          transX = \"-\" + textLayerDiv.style.width;\n          transY = \"-\" + textLayerDiv.style.height;\n          break;\n\n        case 270:\n          transX = \"-\" + textLayerDiv.style.width;\n          transY = 0;\n          break;\n\n        default:\n          console.error(\"Bad rotation value.\");\n          break;\n      }\n\n      textLayerDiv.style.transform = \"rotate(\" + textAbsRotation + \"deg) \" + \"scale(\" + scale + \", \" + scale + \") \" + \"translate(\" + transX + \", \" + transY + \")\";\n      textLayerDiv.style.transformOrigin = \"0% 0%\";\n    }\n\n    if (redrawAnnotations && this.annotationLayer) {\n      this.annotationLayer.render(this.viewport, \"display\");\n    }\n  }\n\n  get width() {\n    return this.viewport.width;\n  }\n\n  get height() {\n    return this.viewport.height;\n  }\n\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n\n  draw() {\n    if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n\n    const {\n      div,\n      pdfPage\n    } = this;\n\n    if (!pdfPage) {\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        div.removeChild(this.loadingIconDiv);\n        delete this.loadingIconDiv;\n      }\n\n      return Promise.reject(new Error(\"pdfPage is not loaded\"));\n    }\n\n    this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.style.width = div.style.width;\n    canvasWrapper.style.height = div.style.height;\n    canvasWrapper.classList.add(\"canvasWrapper\");\n\n    if (this.annotationLayer && this.annotationLayer.div) {\n      div.insertBefore(canvasWrapper, this.annotationLayer.div);\n    } else {\n      div.appendChild(canvasWrapper);\n    }\n\n    let textLayer = null;\n\n    if (this.textLayerMode !== _ui_utils.TextLayerMode.DISABLE && this.textLayerFactory) {\n      const textLayerDiv = document.createElement(\"div\");\n      textLayerDiv.className = \"textLayer\";\n      textLayerDiv.style.width = canvasWrapper.style.width;\n      textLayerDiv.style.height = canvasWrapper.style.height;\n\n      if (this.annotationLayer && this.annotationLayer.div) {\n        div.insertBefore(textLayerDiv, this.annotationLayer.div);\n      } else {\n        div.appendChild(textLayerDiv);\n      }\n\n      textLayer = this.textLayerFactory.createTextLayerBuilder(textLayerDiv, this.id - 1, this.viewport, this.textLayerMode === _ui_utils.TextLayerMode.ENABLE_ENHANCE, this.eventBus);\n    }\n\n    this.textLayer = textLayer;\n    let renderContinueCallback = null;\n\n    if (this.renderingQueue) {\n      renderContinueCallback = cont => {\n        if (!this.renderingQueue.isHighestPriority(this)) {\n          this.renderingState = _pdf_rendering_queue.RenderingStates.PAUSED;\n\n          this.resume = () => {\n            this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n            cont();\n          };\n\n          return;\n        }\n\n        cont();\n      };\n    }\n\n    const finishPaintTask = async error => {\n      if (paintTask === this.paintTask) {\n        this.paintTask = null;\n      }\n\n      if (error instanceof _pdfjsLib.RenderingCancelledException) {\n        this.error = null;\n        return;\n      }\n\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        div.removeChild(this.loadingIconDiv);\n        delete this.loadingIconDiv;\n      }\n\n      this._resetZoomLayer(true);\n\n      this.error = error;\n      this.stats = pdfPage.stats;\n      this.eventBus.dispatch(\"pagerendered\", {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: false,\n        timestamp: performance.now()\n      });\n\n      if (error) {\n        throw error;\n      }\n    };\n\n    const paintTask = this.renderer === _ui_utils.RendererType.SVG ? this.paintOnSvg(canvasWrapper) : this.paintOnCanvas(canvasWrapper);\n    paintTask.onRenderContinue = renderContinueCallback;\n    this.paintTask = paintTask;\n    const resultPromise = paintTask.promise.then(function () {\n      return finishPaintTask(null).then(function () {\n        if (textLayer) {\n          const readableStream = pdfPage.streamTextContent({\n            normalizeWhitespace: true\n          });\n          textLayer.setTextContentStream(readableStream);\n          textLayer.render();\n        }\n      });\n    }, function (reason) {\n      return finishPaintTask(reason);\n    });\n\n    if (this.annotationLayerFactory) {\n      if (!this.annotationLayer) {\n        this.annotationLayer = this.annotationLayerFactory.createAnnotationLayerBuilder(div, pdfPage, this.imageResourcesPath, this.renderInteractiveForms, this.l10n);\n      }\n\n      this.annotationLayer.render(this.viewport, \"display\");\n    }\n\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n\n  paintOnCanvas(canvasWrapper) {\n    const renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n    const result = {\n      promise: renderCapability.promise,\n\n      onRenderContinue(cont) {\n        cont();\n      },\n\n      cancel() {\n        renderTask.cancel();\n      }\n\n    };\n    const viewport = this.viewport;\n    const canvas = document.createElement(\"canvas\");\n    this.l10n.get(\"page_canvas\", {\n      page: this.id\n    }, \"Page {{page}}\").then(msg => {\n      canvas.setAttribute(\"aria-label\", msg);\n    });\n    canvas.setAttribute(\"hidden\", \"hidden\");\n    let isCanvasHidden = true;\n\n    const showCanvas = function () {\n      if (isCanvasHidden) {\n        canvas.removeAttribute(\"hidden\");\n        isCanvasHidden = false;\n      }\n    };\n\n    canvasWrapper.appendChild(canvas);\n    this.canvas = canvas;\n    canvas.mozOpaque = true;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const outputScale = (0, _ui_utils.getOutputScale)(ctx);\n    this.outputScale = outputScale;\n\n    if (this.useOnlyCssZoom) {\n      const actualSizeViewport = viewport.clone({\n        scale: _ui_utils.CSS_UNITS\n      });\n      outputScale.sx *= actualSizeViewport.width / viewport.width;\n      outputScale.sy *= actualSizeViewport.height / viewport.height;\n      outputScale.scaled = true;\n    }\n\n    if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = viewport.width * viewport.height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        outputScale.scaled = true;\n        this.hasRestrictedScaling = true;\n      } else {\n        this.hasRestrictedScaling = false;\n      }\n    }\n\n    const sfx = (0, _ui_utils.approximateFraction)(outputScale.sx);\n    const sfy = (0, _ui_utils.approximateFraction)(outputScale.sy);\n    canvas.width = (0, _ui_utils.roundToDivide)(viewport.width * outputScale.sx, sfx[0]);\n    canvas.height = (0, _ui_utils.roundToDivide)(viewport.height * outputScale.sy, sfy[0]);\n    canvas.style.width = (0, _ui_utils.roundToDivide)(viewport.width, sfx[1]) + \"px\";\n    canvas.style.height = (0, _ui_utils.roundToDivide)(viewport.height, sfy[1]) + \"px\";\n    this.paintedViewportMap.set(canvas, viewport);\n    const transform = !outputScale.scaled ? null : [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n    const hookedCanvasFactory = new HookedCanvasFactory(ctx);\n\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport: this.viewport,\n      enableWebGL: this.enableWebGL,\n      renderInteractiveForms: this.renderInteractiveForms,\n      canvasFactory: hookedCanvasFactory\n    };\n    const renderTask = this.pdfPage.render(renderContext);\n    const pageIdx = this.pdfPage._pageIndex;\n\n    renderTask.onContinue = function (cont) {\n      showCanvas();\n\n      if (PDFViewerApplication.pageShapeCommands === undefined) {\n        PDFViewerApplication.pageShapeCommands = {};\n      }\n      PDFViewerApplication.pageShapeCommands[pageIdx] = hookedCanvasFactory.getCommands();\n\n      if (PDFViewerApplication.onPageReloaded) {\n        PDFViewerApplication.onPageReloaded(pageIdx);\n      }\n\n      if (result.onRenderContinue) {\n        result.onRenderContinue(cont);\n      } else {\n        cont();\n      }\n    };\n\n    renderTask.promise.then(function () {\n      showCanvas();\n      renderCapability.resolve(undefined);\n    }, function (error) {\n      showCanvas();\n      renderCapability.reject(error);\n    });\n    return result;\n  }\n\n  paintOnSvg(wrapper) {\n    let cancelled = false;\n\n    const ensureNotCancelled = () => {\n      if (cancelled) {\n        throw new _pdfjsLib.RenderingCancelledException(`Rendering cancelled, page ${this.id}`, \"svg\");\n      }\n    };\n\n    const pdfPage = this.pdfPage;\n    const actualSizeViewport = this.viewport.clone({\n      scale: _ui_utils.CSS_UNITS\n    });\n    const promise = pdfPage.getOperatorList().then(opList => {\n      ensureNotCancelled();\n      const svgGfx = new _pdfjsLib.SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n      return svgGfx.getSVG(opList, actualSizeViewport).then(svg => {\n        ensureNotCancelled();\n        this.svg = svg;\n        this.paintedViewportMap.set(svg, actualSizeViewport);\n        svg.style.width = wrapper.style.width;\n        svg.style.height = wrapper.style.height;\n        this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n        wrapper.appendChild(svg);\n      });\n    });\n    return {\n      promise,\n\n      onRenderContinue(cont) {\n        cont();\n      },\n\n      cancel() {\n        cancelled = true;\n      }\n\n    };\n  }\n\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n\n}\n\nexports.PDFPageView = PDFPageView;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultTextLayerFactory = exports.TextLayerBuilder = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nconst EXPAND_DIVS_TIMEOUT = 300;\n\nclass TextLayerBuilder {\n  constructor({\n    textLayerDiv,\n    eventBus,\n    pageIndex,\n    viewport,\n    findController = null,\n    enhanceTextSelection = false\n  }) {\n    this.textLayerDiv = textLayerDiv;\n    this.eventBus = eventBus;\n    this.textContent = null;\n    this.textContentItemsStr = [];\n    this.textContentStream = null;\n    this.renderingDone = false;\n    this.pageIdx = pageIndex;\n    this.pageNumber = this.pageIdx + 1;\n    this.matches = [];\n    this.viewport = viewport;\n    this.textDivs = [];\n    this.findController = findController;\n    this.textLayerRenderTask = null;\n    this.enhanceTextSelection = enhanceTextSelection;\n    this._onUpdateTextLayerMatches = null;\n\n    this._bindMouse();\n  }\n\n  _finishRendering() {\n    this.renderingDone = true;\n\n    if (!this.enhanceTextSelection) {\n      const endOfContent = document.createElement(\"div\");\n      endOfContent.className = \"endOfContent\";\n      this.textLayerDiv.appendChild(endOfContent);\n    }\n\n    this.eventBus.dispatch(\"textlayerrendered\", {\n      source: this,\n      pageNumber: this.pageNumber,\n      numTextDivs: this.textDivs.length\n    });\n  }\n\n  render(timeout = 0) {\n    if (!(this.textContent || this.textContentStream) || this.renderingDone) {\n      return;\n    }\n\n    this.cancel();\n    this.textDivs = [];\n    const textLayerFrag = document.createDocumentFragment();\n    this.textLayerRenderTask = (0, _pdfjsLib.renderTextLayer)({\n      textContent: this.textContent,\n      textContentStream: this.textContentStream,\n      container: textLayerFrag,\n      viewport: this.viewport,\n      textDivs: this.textDivs,\n      textContentItemsStr: this.textContentItemsStr,\n      timeout,\n      enhanceTextSelection: this.enhanceTextSelection\n    });\n    this.textLayerRenderTask.promise.then(() => {\n      this.textLayerDiv.appendChild(textLayerFrag);\n\n      this._finishRendering();\n\n      this._updateMatches();\n    }, function (reason) {});\n\n    if (!this._onUpdateTextLayerMatches) {\n      this._onUpdateTextLayerMatches = evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      };\n\n      this.eventBus._on(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n    }\n  }\n\n  cancel() {\n    if (this.textLayerRenderTask) {\n      this.textLayerRenderTask.cancel();\n      this.textLayerRenderTask = null;\n    }\n\n    if (this._onUpdateTextLayerMatches) {\n      this.eventBus._off(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n\n      this._onUpdateTextLayerMatches = null;\n    }\n  }\n\n  setTextContentStream(readableStream) {\n    this.cancel();\n    this.textContentStream = readableStream;\n  }\n\n  setTextContent(textContent) {\n    this.cancel();\n    this.textContent = textContent;\n  }\n\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n\n    const {\n      findController,\n      textContentItemsStr\n    } = this;\n    let i = 0,\n        iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const queryLen = findController.state.query.length;\n    const result = [];\n\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n\n      const match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n\n      if (matchesLength) {\n        matchIdx += matchesLength[m];\n      } else {\n        matchIdx += queryLen;\n      }\n\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match);\n    }\n\n    return result;\n  }\n\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n\n    const {\n      findController,\n      pageIdx,\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: undefined\n    };\n\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      const div = textDivs[divIdx];\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = className;\n        span.appendChild(node);\n        div.appendChild(span);\n        return;\n      }\n\n      div.appendChild(node);\n    }\n\n    let i0 = selectedMatchIdx,\n        i1 = i0 + 1;\n\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n\n    for (let i = i0; i < i1; i++) {\n      const match = matches[i];\n      const begin = match.begin;\n      const end = match.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n\n      if (begin.divIdx === end.divIdx) {\n        appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n\n      prevEnd = end;\n    }\n\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n\n  _updateMatches() {\n    if (!this.renderingDone) {\n      return;\n    }\n\n    const {\n      findController,\n      matches,\n      pageIdx,\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n\n    for (let i = 0, ii = matches.length; i < ii; i++) {\n      const match = matches[i];\n      const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n\n    if (!findController || !findController.highlightMatches) {\n      return;\n    }\n\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n\n    this._renderMatches(this.matches);\n  }\n\n  _bindMouse() {\n    const div = this.textLayerDiv;\n    let expandDivsTimer = null;\n    div.addEventListener(\"mousedown\", evt => {\n      if (this.enhanceTextSelection && this.textLayerRenderTask) {\n        this.textLayerRenderTask.expandTextDivs(true);\n\n        if (expandDivsTimer) {\n          clearTimeout(expandDivsTimer);\n          expandDivsTimer = null;\n        }\n\n        return;\n      }\n\n      const end = div.querySelector(\".endOfContent\");\n\n      if (!end) {\n        return;\n      }\n\n      let adjustTop = evt.target !== div;\n      adjustTop = adjustTop && window.getComputedStyle(end).getPropertyValue(\"-moz-user-select\") !== \"none\";\n\n      if (adjustTop) {\n        const divBounds = div.getBoundingClientRect();\n        const r = Math.max(0, (evt.pageY - divBounds.top) / divBounds.height);\n        end.style.top = (r * 100).toFixed(2) + \"%\";\n      }\n\n      end.classList.add(\"active\");\n    });\n    div.addEventListener(\"mouseup\", () => {\n      if (this.enhanceTextSelection && this.textLayerRenderTask) {\n        expandDivsTimer = setTimeout(() => {\n          if (this.textLayerRenderTask) {\n            this.textLayerRenderTask.expandTextDivs(false);\n          }\n\n          expandDivsTimer = null;\n        }, EXPAND_DIVS_TIMEOUT);\n        return;\n      }\n\n      const end = div.querySelector(\".endOfContent\");\n\n      if (!end) {\n        return;\n      }\n\n      end.style.top = \"\";\n      end.classList.remove(\"active\");\n    });\n  }\n\n}\n\nexports.TextLayerBuilder = TextLayerBuilder;\n\nclass DefaultTextLayerFactory {\n  createTextLayerBuilder(textLayerDiv, pageIndex, viewport, enhanceTextSelection = false, eventBus) {\n    return new TextLayerBuilder({\n      textLayerDiv,\n      pageIndex,\n      viewport,\n      enhanceTextSelection,\n      eventBus\n    });\n  }\n\n}\n\nexports.DefaultTextLayerFactory = DefaultTextLayerFactory;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SecondaryToolbar = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _pdf_cursor_tools = __webpack_require__(6);\n\nvar _pdf_single_page_viewer = __webpack_require__(30);\n\nclass SecondaryToolbar {\n  constructor(options, mainContainer, eventBus) {\n    this.toolbar = options.toolbar;\n    this.toggleButton = options.toggleButton;\n    this.toolbarButtonContainer = options.toolbarButtonContainer;\n    this.buttons = [{\n      element: options.presentationModeButton,\n      eventName: \"presentationmode\",\n      close: true\n    }, {\n      element: options.openFileButton,\n      eventName: \"openfile\",\n      close: true\n    }, {\n      element: options.printButton,\n      eventName: \"print\",\n      close: true\n    }, {\n      element: options.downloadButton,\n      eventName: \"download\",\n      close: true\n    }, {\n      element: options.viewBookmarkButton,\n      eventName: null,\n      close: true\n    }, {\n      element: options.firstPageButton,\n      eventName: \"firstpage\",\n      close: true\n    }, {\n      element: options.lastPageButton,\n      eventName: \"lastpage\",\n      close: true\n    }, {\n      element: options.pageRotateCwButton,\n      eventName: \"rotatecw\",\n      close: false\n    }, {\n      element: options.pageRotateCcwButton,\n      eventName: \"rotateccw\",\n      close: false\n    }, {\n      element: options.cursorSelectToolButton,\n      eventName: \"switchcursortool\",\n      eventDetails: {\n        tool: _pdf_cursor_tools.CursorTool.SELECT\n      },\n      close: true\n    }, {\n      element: options.cursorHandToolButton,\n      eventName: \"switchcursortool\",\n      eventDetails: {\n        tool: _pdf_cursor_tools.CursorTool.HAND\n      },\n      close: true\n    }, {\n      element: options.scrollVerticalButton,\n      eventName: \"switchscrollmode\",\n      eventDetails: {\n        mode: _ui_utils.ScrollMode.VERTICAL\n      },\n      close: true\n    }, {\n      element: options.scrollHorizontalButton,\n      eventName: \"switchscrollmode\",\n      eventDetails: {\n        mode: _ui_utils.ScrollMode.HORIZONTAL\n      },\n      close: true\n    }, {\n      element: options.scrollWrappedButton,\n      eventName: \"switchscrollmode\",\n      eventDetails: {\n        mode: _ui_utils.ScrollMode.WRAPPED\n      },\n      close: true\n    }, {\n      element: options.spreadNoneButton,\n      eventName: \"switchspreadmode\",\n      eventDetails: {\n        mode: _ui_utils.SpreadMode.NONE\n      },\n      close: true\n    }, {\n      element: options.spreadOddButton,\n      eventName: \"switchspreadmode\",\n      eventDetails: {\n        mode: _ui_utils.SpreadMode.ODD\n      },\n      close: true\n    }, {\n      element: options.spreadEvenButton,\n      eventName: \"switchspreadmode\",\n      eventDetails: {\n        mode: _ui_utils.SpreadMode.EVEN\n      },\n      close: true\n    }, {\n      element: options.documentPropertiesButton,\n      eventName: \"documentproperties\",\n      close: true\n    }];\n    this.items = {\n      firstPage: options.firstPageButton,\n      lastPage: options.lastPageButton,\n      pageRotateCw: options.pageRotateCwButton,\n      pageRotateCcw: options.pageRotateCcwButton\n    };\n    this.mainContainer = mainContainer;\n    this.eventBus = eventBus;\n    this.opened = false;\n    this.containerHeight = null;\n    this.previousContainerHeight = null;\n    this.reset();\n\n    this._bindClickListeners();\n\n    this._bindCursorToolsListener(options);\n\n    this._bindScrollModeListener(options);\n\n    this._bindSpreadModeListener(options);\n\n    this.eventBus._on(\"resize\", this._setMaxHeight.bind(this));\n\n    this.eventBus._on(\"baseviewerinit\", evt => {\n      if (evt.source instanceof _pdf_single_page_viewer.PDFSinglePageViewer) {\n        this.toolbarButtonContainer.classList.add(\"hiddenScrollModeButtons\", \"hiddenSpreadModeButtons\");\n      } else {\n        this.toolbarButtonContainer.classList.remove(\"hiddenScrollModeButtons\", \"hiddenSpreadModeButtons\");\n      }\n    });\n  }\n\n  get isOpen() {\n    return this.opened;\n  }\n\n  setPageNumber(pageNumber) {\n    this.pageNumber = pageNumber;\n\n    this._updateUIState();\n  }\n\n  setPagesCount(pagesCount) {\n    this.pagesCount = pagesCount;\n\n    this._updateUIState();\n  }\n\n  reset() {\n    this.pageNumber = 0;\n    this.pagesCount = 0;\n\n    this._updateUIState();\n\n    this.eventBus.dispatch(\"secondarytoolbarreset\", {\n      source: this\n    });\n  }\n\n  _updateUIState() {\n    this.items.firstPage.disabled = this.pageNumber <= 1;\n    this.items.lastPage.disabled = this.pageNumber >= this.pagesCount;\n    this.items.pageRotateCw.disabled = this.pagesCount === 0;\n    this.items.pageRotateCcw.disabled = this.pagesCount === 0;\n  }\n\n  _bindClickListeners() {\n    this.toggleButton.addEventListener(\"click\", this.toggle.bind(this));\n\n    for (const {\n      element,\n      eventName,\n      close,\n      eventDetails\n    } of this.buttons) {\n      element.addEventListener(\"click\", evt => {\n        if (eventName !== null) {\n          const details = {\n            source: this\n          };\n\n          for (const property in eventDetails) {\n            details[property] = eventDetails[property];\n          }\n\n          this.eventBus.dispatch(eventName, details);\n        }\n\n        if (close) {\n          this.close();\n        }\n      });\n    }\n  }\n\n  _bindCursorToolsListener(buttons) {\n    this.eventBus._on(\"cursortoolchanged\", function ({\n      tool\n    }) {\n      buttons.cursorSelectToolButton.classList.toggle(\"toggled\", tool === _pdf_cursor_tools.CursorTool.SELECT);\n      buttons.cursorHandToolButton.classList.toggle(\"toggled\", tool === _pdf_cursor_tools.CursorTool.HAND);\n    });\n  }\n\n  _bindScrollModeListener(buttons) {\n    function scrollModeChanged({\n      mode\n    }) {\n      buttons.scrollVerticalButton.classList.toggle(\"toggled\", mode === _ui_utils.ScrollMode.VERTICAL);\n      buttons.scrollHorizontalButton.classList.toggle(\"toggled\", mode === _ui_utils.ScrollMode.HORIZONTAL);\n      buttons.scrollWrappedButton.classList.toggle(\"toggled\", mode === _ui_utils.ScrollMode.WRAPPED);\n      const isScrollModeHorizontal = mode === _ui_utils.ScrollMode.HORIZONTAL;\n      buttons.spreadNoneButton.disabled = isScrollModeHorizontal;\n      buttons.spreadOddButton.disabled = isScrollModeHorizontal;\n      buttons.spreadEvenButton.disabled = isScrollModeHorizontal;\n    }\n\n    this.eventBus._on(\"scrollmodechanged\", scrollModeChanged);\n\n    this.eventBus._on(\"secondarytoolbarreset\", evt => {\n      if (evt.source === this) {\n        scrollModeChanged({\n          mode: _ui_utils.ScrollMode.VERTICAL\n        });\n      }\n    });\n  }\n\n  _bindSpreadModeListener(buttons) {\n    function spreadModeChanged({\n      mode\n    }) {\n      buttons.spreadNoneButton.classList.toggle(\"toggled\", mode === _ui_utils.SpreadMode.NONE);\n      buttons.spreadOddButton.classList.toggle(\"toggled\", mode === _ui_utils.SpreadMode.ODD);\n      buttons.spreadEvenButton.classList.toggle(\"toggled\", mode === _ui_utils.SpreadMode.EVEN);\n    }\n\n    this.eventBus._on(\"spreadmodechanged\", spreadModeChanged);\n\n    this.eventBus._on(\"secondarytoolbarreset\", evt => {\n      if (evt.source === this) {\n        spreadModeChanged({\n          mode: _ui_utils.SpreadMode.NONE\n        });\n      }\n    });\n  }\n\n  open() {\n    if (this.opened) {\n      return;\n    }\n\n    this.opened = true;\n\n    this._setMaxHeight();\n\n    this.toggleButton.classList.add(\"toggled\");\n    this.toolbar.classList.remove(\"hidden\");\n  }\n\n  close() {\n    if (!this.opened) {\n      return;\n    }\n\n    this.opened = false;\n    this.toolbar.classList.add(\"hidden\");\n    this.toggleButton.classList.remove(\"toggled\");\n  }\n\n  toggle() {\n    if (this.opened) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  _setMaxHeight() {\n    if (!this.opened) {\n      return;\n    }\n\n    this.containerHeight = this.mainContainer.clientHeight;\n\n    if (this.containerHeight === this.previousContainerHeight) {\n      return;\n    }\n\n    this.toolbarButtonContainer.style.maxHeight = `${this.containerHeight - _ui_utils.SCROLLBAR_PADDING}px`;\n    this.previousContainerHeight = this.containerHeight;\n  }\n\n}\n\nexports.SecondaryToolbar = SecondaryToolbar;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFSinglePageViewer = void 0;\n\nvar _base_viewer = __webpack_require__(25);\n\nvar _pdfjsLib = __webpack_require__(5);\n\nclass PDFSinglePageViewer extends _base_viewer.BaseViewer {\n  constructor(options) {\n    super(options);\n\n    this.eventBus._on(\"pagesinit\", evt => {\n      this._ensurePageViewVisible();\n    });\n  }\n\n  get _viewerElement() {\n    return (0, _pdfjsLib.shadow)(this, \"_viewerElement\", this._shadowViewer);\n  }\n\n  _resetView() {\n    super._resetView();\n\n    this._previousPageNumber = 1;\n    this._shadowViewer = document.createDocumentFragment();\n    this._updateScrollDown = null;\n  }\n\n  _ensurePageViewVisible() {\n    const pageView = this._pages[this._currentPageNumber - 1];\n    const previousPageView = this._pages[this._previousPageNumber - 1];\n    const viewerNodes = this.viewer.childNodes;\n\n    switch (viewerNodes.length) {\n      case 0:\n        this.viewer.appendChild(pageView.div);\n        break;\n\n      case 1:\n        if (viewerNodes[0] !== previousPageView.div) {\n          throw new Error(\"_ensurePageViewVisible: Unexpected previously visible page.\");\n        }\n\n        if (pageView === previousPageView) {\n          break;\n        }\n\n        this._shadowViewer.appendChild(previousPageView.div);\n\n        this.viewer.appendChild(pageView.div);\n        this.container.scrollTop = 0;\n        break;\n\n      default:\n        throw new Error(\"_ensurePageViewVisible: Only one page should be visible at a time.\");\n    }\n\n    this._previousPageNumber = this._currentPageNumber;\n  }\n\n  _scrollUpdate() {\n    if (this._updateScrollDown) {\n      this._updateScrollDown();\n    }\n\n    super._scrollUpdate();\n  }\n\n  _scrollIntoView({\n    pageDiv,\n    pageSpot = null,\n    pageNumber = null\n  }) {\n    if (pageNumber) {\n      this._setCurrentPageNumber(pageNumber);\n    }\n\n    const scrolledDown = this._currentPageNumber >= this._previousPageNumber;\n\n    this._ensurePageViewVisible();\n\n    this.update();\n\n    super._scrollIntoView({\n      pageDiv,\n      pageSpot,\n      pageNumber\n    });\n\n    this._updateScrollDown = () => {\n      this.scroll.down = scrolledDown;\n      this._updateScrollDown = null;\n    };\n  }\n\n  _getVisiblePages() {\n    return this._getCurrentVisiblePage();\n  }\n\n  _updateHelper(visiblePages) {}\n\n  get _isScrollModeHorizontal() {\n    return (0, _pdfjsLib.shadow)(this, \"_isScrollModeHorizontal\", false);\n  }\n\n  _updateScrollMode() {}\n\n  _updateSpreadMode() {}\n\n}\n\nexports.PDFSinglePageViewer = PDFSinglePageViewer;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Toolbar = void 0;\n\nvar _ui_utils = __webpack_require__(2);\n\nconst PAGE_NUMBER_LOADING_INDICATOR = \"visiblePageIsLoading\";\nconst SCALE_SELECT_CONTAINER_WIDTH = 140;\nconst SCALE_SELECT_WIDTH = 162;\n\nclass Toolbar {\n  constructor(options, eventBus, l10n = _ui_utils.NullL10n) {\n    this.toolbar = options.container;\n    this.eventBus = eventBus;\n    this.l10n = l10n;\n    this.buttons = [{\n      element: options.previous,\n      eventName: \"previouspage\"\n    }, {\n      element: options.next,\n      eventName: \"nextpage\"\n    }, {\n      element: options.zoomIn,\n      eventName: \"zoomin\"\n    }, {\n      element: options.zoomOut,\n      eventName: \"zoomout\"\n    }, {\n      element: options.openFile,\n      eventName: \"openfile\"\n    }, {\n      element: options.print,\n      eventName: \"print\"\n    }, {\n      element: options.presentationModeButton,\n      eventName: \"presentationmode\"\n    }, {\n      element: options.download,\n      eventName: \"download\"\n    }, {\n      element: options.viewBookmark,\n      eventName: null\n    }];\n    this.items = {\n      numPages: options.numPages,\n      pageNumber: options.pageNumber,\n      scaleSelectContainer: options.scaleSelectContainer,\n      scaleSelect: options.scaleSelect,\n      customScaleOption: options.customScaleOption,\n      previous: options.previous,\n      next: options.next,\n      zoomIn: options.zoomIn,\n      zoomOut: options.zoomOut\n    };\n    this._wasLocalized = false;\n    this.reset();\n\n    this._bindListeners();\n  }\n\n  setPageNumber(pageNumber, pageLabel) {\n    this.pageNumber = pageNumber;\n    this.pageLabel = pageLabel;\n\n    this._updateUIState(false);\n  }\n\n  setPagesCount(pagesCount, hasPageLabels) {\n    this.pagesCount = pagesCount;\n    this.hasPageLabels = hasPageLabels;\n\n    this._updateUIState(true);\n  }\n\n  setPageScale(pageScaleValue, pageScale) {\n    this.pageScaleValue = (pageScaleValue || pageScale).toString();\n    this.pageScale = pageScale;\n\n    this._updateUIState(false);\n  }\n\n  reset() {\n    this.pageNumber = 0;\n    this.pageLabel = null;\n    this.hasPageLabels = false;\n    this.pagesCount = 0;\n    this.pageScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n    this.pageScale = _ui_utils.DEFAULT_SCALE;\n\n    this._updateUIState(true);\n\n    this.updateLoadingIndicatorState();\n  }\n\n  _bindListeners() {\n    const {\n      pageNumber,\n      scaleSelect\n    } = this.items;\n    const self = this;\n\n    for (const {\n      element,\n      eventName\n    } of this.buttons) {\n      element.addEventListener(\"click\", evt => {\n        if (eventName !== null) {\n          this.eventBus.dispatch(eventName, {\n            source: this\n          });\n        }\n      });\n    }\n\n    pageNumber.addEventListener(\"click\", function () {\n      this.select();\n    });\n    pageNumber.addEventListener(\"change\", function () {\n      self.eventBus.dispatch(\"pagenumberchanged\", {\n        source: self,\n        value: this.value\n      });\n    });\n    scaleSelect.addEventListener(\"change\", function () {\n      if (this.value === \"custom\") {\n        return;\n      }\n\n      self.eventBus.dispatch(\"scalechanged\", {\n        source: self,\n        value: this.value\n      });\n    });\n    scaleSelect.oncontextmenu = _ui_utils.noContextMenuHandler;\n\n    this.eventBus._on(\"localized\", () => {\n      this._wasLocalized = true;\n\n      this._adjustScaleWidth();\n\n      this._updateUIState(true);\n    });\n  }\n\n  _updateUIState(resetNumPages = false) {\n    if (!this._wasLocalized) {\n      return;\n    }\n\n    const {\n      pageNumber,\n      pagesCount,\n      pageScaleValue,\n      pageScale,\n      items\n    } = this;\n\n    if (resetNumPages) {\n      if (this.hasPageLabels) {\n        items.pageNumber.type = \"text\";\n      } else {\n        items.pageNumber.type = \"number\";\n        this.l10n.get(\"of_pages\", {\n          pagesCount\n        }, \"of {{pagesCount}}\").then(msg => {\n          items.numPages.textContent = msg;\n        });\n      }\n\n      items.pageNumber.max = pagesCount;\n    }\n\n    if (this.hasPageLabels) {\n      items.pageNumber.value = this.pageLabel;\n      this.l10n.get(\"page_of_pages\", {\n        pageNumber,\n        pagesCount\n      }, \"({{pageNumber}} of {{pagesCount}})\").then(msg => {\n        items.numPages.textContent = msg;\n      });\n    } else {\n      items.pageNumber.value = pageNumber;\n    }\n\n    items.previous.disabled = pageNumber <= 1;\n    items.next.disabled = pageNumber >= pagesCount;\n    items.zoomOut.disabled = pageScale <= _ui_utils.MIN_SCALE;\n    items.zoomIn.disabled = pageScale >= _ui_utils.MAX_SCALE;\n    const customScale = Math.round(pageScale * 10000) / 100;\n    this.l10n.get(\"page_scale_percent\", {\n      scale: customScale\n    }, \"{{scale}}%\").then(msg => {\n      let predefinedValueFound = false;\n\n      for (const option of items.scaleSelect.options) {\n        if (option.value !== pageScaleValue) {\n          option.selected = false;\n          continue;\n        }\n\n        option.selected = true;\n        predefinedValueFound = true;\n      }\n\n      if (!predefinedValueFound) {\n        items.customScaleOption.textContent = msg;\n        items.customScaleOption.selected = true;\n      }\n    });\n  }\n\n  updateLoadingIndicatorState(loading = false) {\n    const pageNumberInput = this.items.pageNumber;\n    pageNumberInput.classList.toggle(PAGE_NUMBER_LOADING_INDICATOR, loading);\n  }\n\n  async _adjustScaleWidth() {\n    const {\n      items,\n      l10n\n    } = this;\n    const predefinedValuesPromise = Promise.all([l10n.get(\"page_scale_auto\", null, \"Automatic Zoom\"), l10n.get(\"page_scale_actual\", null, \"Actual Size\"), l10n.get(\"page_scale_fit\", null, \"Page Fit\"), l10n.get(\"page_scale_width\", null, \"Page Width\")]);\n    let canvas = document.createElement(\"canvas\");\n    canvas.mozOpaque = true;\n    let ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    await _ui_utils.animationStarted;\n    const {\n      fontSize,\n      fontFamily\n    } = getComputedStyle(items.scaleSelect);\n    ctx.font = `${fontSize} ${fontFamily}`;\n    let maxWidth = 0;\n\n    for (const predefinedValue of await predefinedValuesPromise) {\n      const {\n        width\n      } = ctx.measureText(predefinedValue);\n\n      if (width > maxWidth) {\n        maxWidth = width;\n      }\n    }\n\n    const overflow = SCALE_SELECT_WIDTH - SCALE_SELECT_CONTAINER_WIDTH;\n    maxWidth += 1.5 * overflow;\n\n    if (maxWidth > SCALE_SELECT_CONTAINER_WIDTH) {\n      items.scaleSelect.style.width = `${maxWidth + overflow}px`;\n      items.scaleSelectContainer.style.width = `${maxWidth}px`;\n    }\n\n    canvas.width = 0;\n    canvas.height = 0;\n    canvas = ctx = null;\n  }\n\n}\n\nexports.Toolbar = Toolbar;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewHistory = void 0;\nconst DEFAULT_VIEW_HISTORY_CACHE_SIZE = 20;\n\nclass ViewHistory {\n  constructor(fingerprint, cacheSize = DEFAULT_VIEW_HISTORY_CACHE_SIZE) {\n    this.fingerprint = fingerprint;\n    this.cacheSize = cacheSize;\n    this._initializedPromise = this._readFromStorage().then(databaseStr => {\n      const database = JSON.parse(databaseStr || \"{}\");\n      let index = -1;\n\n      if (!Array.isArray(database.files)) {\n        database.files = [];\n      } else {\n        while (database.files.length >= this.cacheSize) {\n          database.files.shift();\n        }\n\n        for (let i = 0, ii = database.files.length; i < ii; i++) {\n          const branch = database.files[i];\n\n          if (branch.fingerprint === this.fingerprint) {\n            index = i;\n            break;\n          }\n        }\n      }\n\n      if (index === -1) {\n        index = database.files.push({\n          fingerprint: this.fingerprint\n        }) - 1;\n      }\n\n      this.file = database.files[index];\n      this.database = database;\n    });\n  }\n\n  async _writeToStorage() {\n    const databaseStr = JSON.stringify(this.database);\n    localStorage.setItem(\"pdfjs.history\", databaseStr);\n  }\n\n  async _readFromStorage() {\n    return localStorage.getItem(\"pdfjs.history\");\n  }\n\n  async set(name, val) {\n    await this._initializedPromise;\n    this.file[name] = val;\n    return this._writeToStorage();\n  }\n\n  async setMultiple(properties) {\n    await this._initializedPromise;\n\n    for (const name in properties) {\n      this.file[name] = properties[name];\n    }\n\n    return this._writeToStorage();\n  }\n\n  async get(name, defaultValue) {\n    await this._initializedPromise;\n    const val = this.file[name];\n    return val !== undefined ? val : defaultValue;\n  }\n\n  async getMultiple(properties) {\n    await this._initializedPromise;\n    const values = Object.create(null);\n\n    for (const name in properties) {\n      const val = this.file[name];\n      values[name] = val !== undefined ? val : properties[name];\n    }\n\n    return values;\n  }\n\n}\n\nexports.ViewHistory = ViewHistory;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GenericCom = void 0;\n\nvar _app = __webpack_require__(1);\n\nvar _preferences = __webpack_require__(34);\n\nvar _download_manager = __webpack_require__(35);\n\nvar _genericl10n = __webpack_require__(36);\n\n;\nconst GenericCom = {};\nexports.GenericCom = GenericCom;\n\nclass GenericPreferences extends _preferences.BasePreferences {\n  async _writeToStorage(prefObj) {\n    localStorage.setItem(\"pdfjs.preferences\", JSON.stringify(prefObj));\n  }\n\n  async _readFromStorage(prefObj) {\n    return JSON.parse(localStorage.getItem(\"pdfjs.preferences\"));\n  }\n\n}\n\nclass GenericExternalServices extends _app.DefaultExternalServices {\n  static createDownloadManager(options) {\n    return new _download_manager.DownloadManager(options);\n  }\n\n  static createPreferences() {\n    return new GenericPreferences();\n  }\n\n  static createL10n({\n    locale = \"en-US\"\n  }) {\n    return new _genericl10n.GenericL10n(locale);\n  }\n\n}\n\n_app.PDFViewerApplication.externalServices = GenericExternalServices;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BasePreferences = void 0;\n\nvar _app_options = __webpack_require__(3);\n\nlet defaultPreferences = null;\n\nfunction getDefaultPreferences() {\n  if (!defaultPreferences) {\n    defaultPreferences = Promise.resolve({\n      \"cursorToolOnLoad\": 0,\n      \"defaultZoomValue\": \"\",\n      \"disablePageLabels\": false,\n      \"enablePermissions\": false,\n      \"enablePrintAutoRotate\": false,\n      \"enableWebGL\": false,\n      \"externalLinkTarget\": 0,\n      \"historyUpdateUrl\": false,\n      \"ignoreDestinationZoom\": false,\n      \"pdfBugEnabled\": false,\n      \"renderer\": \"canvas\",\n      \"renderInteractiveForms\": false,\n      \"sidebarViewOnLoad\": -1,\n      \"scrollModeOnLoad\": -1,\n      \"spreadModeOnLoad\": -1,\n      \"textLayerMode\": 1,\n      \"useOnlyCssZoom\": false,\n      \"viewOnLoad\": 0,\n      \"disableAutoFetch\": false,\n      \"disableFontFace\": false,\n      \"disableRange\": false,\n      \"disableStream\": false\n    });\n  }\n\n  return defaultPreferences;\n}\n\nclass BasePreferences {\n  constructor() {\n    if (this.constructor === BasePreferences) {\n      throw new Error(\"Cannot initialize BasePreferences.\");\n    }\n\n    this.prefs = null;\n    this._initializedPromise = getDefaultPreferences().then(defaults => {\n      Object.defineProperty(this, \"defaults\", {\n        value: Object.freeze(defaults),\n        writable: false,\n        enumerable: true,\n        configurable: false\n      });\n      this.prefs = Object.assign(Object.create(null), defaults);\n      return this._readFromStorage(defaults);\n    }).then(prefs => {\n      if (!prefs) {\n        return;\n      }\n\n      for (const name in prefs) {\n        const defaultValue = this.defaults[name],\n              prefValue = prefs[name];\n\n        if (defaultValue === undefined || typeof prefValue !== typeof defaultValue) {\n          continue;\n        }\n\n        this.prefs[name] = prefValue;\n      }\n    });\n  }\n\n  async _writeToStorage(prefObj) {\n    throw new Error(\"Not implemented: _writeToStorage\");\n  }\n\n  async _readFromStorage(prefObj) {\n    throw new Error(\"Not implemented: _readFromStorage\");\n  }\n\n  async reset() {\n    await this._initializedPromise;\n    this.prefs = Object.assign(Object.create(null), this.defaults);\n    return this._writeToStorage(this.defaults);\n  }\n\n  async set(name, value) {\n    await this._initializedPromise;\n    const defaultValue = this.defaults[name];\n\n    if (defaultValue === undefined) {\n      throw new Error(`Set preference: \"${name}\" is undefined.`);\n    } else if (value === undefined) {\n      throw new Error(\"Set preference: no value is specified.\");\n    }\n\n    const valueType = typeof value;\n    const defaultType = typeof defaultValue;\n\n    if (valueType !== defaultType) {\n      if (valueType === \"number\" && defaultType === \"string\") {\n        value = value.toString();\n      } else {\n        throw new Error(`Set preference: \"${value}\" is a ${valueType}, ` + `expected a ${defaultType}.`);\n      }\n    } else {\n      if (valueType === \"number\" && !Number.isInteger(value)) {\n        throw new Error(`Set preference: \"${value}\" must be an integer.`);\n      }\n    }\n\n    this.prefs[name] = value;\n    return this._writeToStorage(this.prefs);\n  }\n\n  async get(name) {\n    await this._initializedPromise;\n    const defaultValue = this.defaults[name];\n\n    if (defaultValue === undefined) {\n      throw new Error(`Get preference: \"${name}\" is undefined.`);\n    } else {\n      const prefValue = this.prefs[name];\n\n      if (prefValue !== undefined) {\n        return prefValue;\n      }\n    }\n\n    return defaultValue;\n  }\n\n  async getAll() {\n    await this._initializedPromise;\n    return Object.assign(Object.create(null), this.defaults, this.prefs);\n  }\n\n}\n\nexports.BasePreferences = BasePreferences;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DownloadManager = void 0;\n\nvar _pdfjsLib = __webpack_require__(5);\n\nvar _viewer_compatibility = __webpack_require__(4);\n\n;\nconst DISABLE_CREATE_OBJECT_URL = _viewer_compatibility.viewerCompatibilityParams.disableCreateObjectURL || false;\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n\n  a.href = blobUrl;\n  a.target = \"_parent\";\n\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n\n  (document.body || document.documentElement).appendChild(a);\n  a.click();\n  a.remove();\n}\n\nclass DownloadManager {\n  constructor({\n    disableCreateObjectURL = DISABLE_CREATE_OBJECT_URL\n  }) {\n    this.disableCreateObjectURL = disableCreateObjectURL;\n  }\n\n  downloadUrl(url, filename) {\n    if (!(0, _pdfjsLib.createValidAbsoluteUrl)(url, \"http://example.com\")) {\n      return;\n    }\n\n    download(url + \"#pdfjs.action=download\", filename);\n  }\n\n  downloadData(data, filename, contentType) {\n    if (navigator.msSaveBlob) {\n      navigator.msSaveBlob(new Blob([data], {\n        type: contentType\n      }), filename);\n      return;\n    }\n\n    const blobUrl = (0, _pdfjsLib.createObjectURL)(data, contentType, this.disableCreateObjectURL);\n    download(blobUrl, filename);\n  }\n\n  download(blob, url, filename) {\n    if (navigator.msSaveBlob) {\n      if (!navigator.msSaveBlob(blob, filename)) {\n        this.downloadUrl(url, filename);\n      }\n\n      return;\n    }\n\n    if (this.disableCreateObjectURL) {\n      this.downloadUrl(url, filename);\n      return;\n    }\n\n    const blobUrl = URL.createObjectURL(blob);\n    download(blobUrl, filename);\n  }\n\n}\n\nexports.DownloadManager = DownloadManager;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GenericL10n = void 0;\n\n__webpack_require__(37);\n\nconst webL10n = document.webL10n;\n\nclass GenericL10n {\n  constructor(lang) {\n    this._lang = lang;\n    this._ready = new Promise((resolve, reject) => {\n      webL10n.setLanguage(lang, () => {\n        resolve(webL10n);\n      });\n    });\n  }\n\n  async getLanguage() {\n    const l10n = await this._ready;\n    return l10n.getLanguage();\n  }\n\n  async getDirection() {\n    const l10n = await this._ready;\n    return l10n.getDirection();\n  }\n\n  async get(property, args, fallback) {\n    const l10n = await this._ready;\n    return l10n.get(property, args, fallback);\n  }\n\n  async translate(element) {\n    const l10n = await this._ready;\n    return l10n.translate(element);\n  }\n\n}\n\nexports.GenericL10n = GenericL10n;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\ndocument.webL10n = function (window, document, undefined) {\n  var gL10nData = {};\n  var gTextData = '';\n  var gTextProp = 'textContent';\n  var gLanguage = '';\n  var gMacros = {};\n  var gReadyState = 'loading';\n  var gAsyncResourceLoading = true;\n\n  function getL10nResourceLinks() {\n    return document.querySelectorAll('link[type=\"application/l10n\"]');\n  }\n\n  function getL10nDictionary() {\n    var script = document.querySelector('script[type=\"application/l10n\"]');\n    return script ? JSON.parse(script.innerHTML) : null;\n  }\n\n  function getTranslatableChildren(element) {\n    return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n  }\n\n  function getL10nAttributes(element) {\n    if (!element) return {};\n    var l10nId = element.getAttribute('data-l10n-id');\n    var l10nArgs = element.getAttribute('data-l10n-args');\n    var args = {};\n\n    if (l10nArgs) {\n      try {\n        args = JSON.parse(l10nArgs);\n      } catch (e) {\n        console.warn('could not parse arguments for #' + l10nId);\n      }\n    }\n\n    return {\n      id: l10nId,\n      args: args\n    };\n  }\n\n  function xhrLoadText(url, onSuccess, onFailure) {\n    onSuccess = onSuccess || function _onSuccess(data) {};\n\n    onFailure = onFailure || function _onFailure() {};\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, gAsyncResourceLoading);\n\n    if (xhr.overrideMimeType) {\n      xhr.overrideMimeType('text/plain; charset=utf-8');\n    }\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200 || xhr.status === 0) {\n          onSuccess(xhr.responseText);\n        } else {\n          onFailure();\n        }\n      }\n    };\n\n    xhr.onerror = onFailure;\n    xhr.ontimeout = onFailure;\n\n    try {\n      xhr.send(null);\n    } catch (e) {\n      onFailure();\n    }\n  }\n\n  function parseResource(href, lang, successCallback, failureCallback) {\n    var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n    function evalString(text) {\n      if (text.lastIndexOf('\\\\') < 0) return text;\n      return text.replace(/\\\\\\\\/g, '\\\\').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\b/g, '\\b').replace(/\\\\f/g, '\\f').replace(/\\\\{/g, '{').replace(/\\\\}/g, '}').replace(/\\\\\"/g, '\"').replace(/\\\\'/g, \"'\");\n    }\n\n    function parseProperties(text, parsedPropertiesCallback) {\n      var dictionary = {};\n      var reBlank = /^\\s*|\\s*$/;\n      var reComment = /^\\s*#|^\\s*$/;\n      var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n      var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n      var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/;\n\n      function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n        var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n        var currentLang = '*';\n        var genericLang = lang.split('-', 1)[0];\n        var skipLang = false;\n        var match = '';\n\n        function nextEntry() {\n          while (true) {\n            if (!entries.length) {\n              parsedRawLinesCallback();\n              return;\n            }\n\n            var line = entries.shift();\n            if (reComment.test(line)) continue;\n\n            if (extendedSyntax) {\n              match = reSection.exec(line);\n\n              if (match) {\n                currentLang = match[1].toLowerCase();\n                skipLang = currentLang !== '*' && currentLang !== lang && currentLang !== genericLang;\n                continue;\n              } else if (skipLang) {\n                continue;\n              }\n\n              match = reImport.exec(line);\n\n              if (match) {\n                loadImport(baseURL + match[1], nextEntry);\n                return;\n              }\n            }\n\n            var tmp = line.match(reSplit);\n\n            if (tmp && tmp.length == 3) {\n              dictionary[tmp[1]] = evalString(tmp[2]);\n            }\n          }\n        }\n\n        nextEntry();\n      }\n\n      function loadImport(url, callback) {\n        xhrLoadText(url, function (content) {\n          parseRawLines(content, false, callback);\n        }, function () {\n          console.warn(url + ' not found.');\n          callback();\n        });\n      }\n\n      parseRawLines(text, true, function () {\n        parsedPropertiesCallback(dictionary);\n      });\n    }\n\n    xhrLoadText(href, function (response) {\n      gTextData += response;\n      parseProperties(response, function (data) {\n        for (var key in data) {\n          var id,\n              prop,\n              index = key.lastIndexOf('.');\n\n          if (index > 0) {\n            id = key.substring(0, index);\n            prop = key.substring(index + 1);\n          } else {\n            id = key;\n            prop = gTextProp;\n          }\n\n          if (!gL10nData[id]) {\n            gL10nData[id] = {};\n          }\n\n          gL10nData[id][prop] = data[key];\n        }\n\n        if (successCallback) {\n          successCallback();\n        }\n      });\n    }, failureCallback);\n  }\n\n  function loadLocale(lang, callback) {\n    if (lang) {\n      lang = lang.toLowerCase();\n    }\n\n    callback = callback || function _callback() {};\n\n    clear();\n    gLanguage = lang;\n    var langLinks = getL10nResourceLinks();\n    var langCount = langLinks.length;\n\n    if (langCount === 0) {\n      var dict = getL10nDictionary();\n\n      if (dict && dict.locales && dict.default_locale) {\n        console.log('using the embedded JSON directory, early way out');\n        gL10nData = dict.locales[lang];\n\n        if (!gL10nData) {\n          var defaultLocale = dict.default_locale.toLowerCase();\n\n          for (var anyCaseLang in dict.locales) {\n            anyCaseLang = anyCaseLang.toLowerCase();\n\n            if (anyCaseLang === lang) {\n              gL10nData = dict.locales[lang];\n              break;\n            } else if (anyCaseLang === defaultLocale) {\n              gL10nData = dict.locales[defaultLocale];\n            }\n          }\n        }\n\n        callback();\n      } else {\n        console.log('no resource to load, early way out');\n      }\n\n      gReadyState = 'complete';\n      return;\n    }\n\n    var onResourceLoaded = null;\n    var gResourceCount = 0;\n\n    onResourceLoaded = function () {\n      gResourceCount++;\n\n      if (gResourceCount >= langCount) {\n        callback();\n        gReadyState = 'complete';\n      }\n    };\n\n    function L10nResourceLink(link) {\n      var href = link.href;\n\n      this.load = function (lang, callback) {\n        parseResource(href, lang, callback, function () {\n          console.warn(href + ' not found.');\n          console.warn('\"' + lang + '\" resource not found');\n          gLanguage = '';\n          callback();\n        });\n      };\n    }\n\n    for (var i = 0; i < langCount; i++) {\n      var resource = new L10nResourceLink(langLinks[i]);\n      resource.load(lang, onResourceLoaded);\n    }\n  }\n\n  function clear() {\n    gL10nData = {};\n    gTextData = '';\n    gLanguage = '';\n  }\n\n  function getPluralRules(lang) {\n    var locales2rules = {\n      'af': 3,\n      'ak': 4,\n      'am': 4,\n      'ar': 1,\n      'asa': 3,\n      'az': 0,\n      'be': 11,\n      'bem': 3,\n      'bez': 3,\n      'bg': 3,\n      'bh': 4,\n      'bm': 0,\n      'bn': 3,\n      'bo': 0,\n      'br': 20,\n      'brx': 3,\n      'bs': 11,\n      'ca': 3,\n      'cgg': 3,\n      'chr': 3,\n      'cs': 12,\n      'cy': 17,\n      'da': 3,\n      'de': 3,\n      'dv': 3,\n      'dz': 0,\n      'ee': 3,\n      'el': 3,\n      'en': 3,\n      'eo': 3,\n      'es': 3,\n      'et': 3,\n      'eu': 3,\n      'fa': 0,\n      'ff': 5,\n      'fi': 3,\n      'fil': 4,\n      'fo': 3,\n      'fr': 5,\n      'fur': 3,\n      'fy': 3,\n      'ga': 8,\n      'gd': 24,\n      'gl': 3,\n      'gsw': 3,\n      'gu': 3,\n      'guw': 4,\n      'gv': 23,\n      'ha': 3,\n      'haw': 3,\n      'he': 2,\n      'hi': 4,\n      'hr': 11,\n      'hu': 0,\n      'id': 0,\n      'ig': 0,\n      'ii': 0,\n      'is': 3,\n      'it': 3,\n      'iu': 7,\n      'ja': 0,\n      'jmc': 3,\n      'jv': 0,\n      'ka': 0,\n      'kab': 5,\n      'kaj': 3,\n      'kcg': 3,\n      'kde': 0,\n      'kea': 0,\n      'kk': 3,\n      'kl': 3,\n      'km': 0,\n      'kn': 0,\n      'ko': 0,\n      'ksb': 3,\n      'ksh': 21,\n      'ku': 3,\n      'kw': 7,\n      'lag': 18,\n      'lb': 3,\n      'lg': 3,\n      'ln': 4,\n      'lo': 0,\n      'lt': 10,\n      'lv': 6,\n      'mas': 3,\n      'mg': 4,\n      'mk': 16,\n      'ml': 3,\n      'mn': 3,\n      'mo': 9,\n      'mr': 3,\n      'ms': 0,\n      'mt': 15,\n      'my': 0,\n      'nah': 3,\n      'naq': 7,\n      'nb': 3,\n      'nd': 3,\n      'ne': 3,\n      'nl': 3,\n      'nn': 3,\n      'no': 3,\n      'nr': 3,\n      'nso': 4,\n      'ny': 3,\n      'nyn': 3,\n      'om': 3,\n      'or': 3,\n      'pa': 3,\n      'pap': 3,\n      'pl': 13,\n      'ps': 3,\n      'pt': 3,\n      'rm': 3,\n      'ro': 9,\n      'rof': 3,\n      'ru': 11,\n      'rwk': 3,\n      'sah': 0,\n      'saq': 3,\n      'se': 7,\n      'seh': 3,\n      'ses': 0,\n      'sg': 0,\n      'sh': 11,\n      'shi': 19,\n      'sk': 12,\n      'sl': 14,\n      'sma': 7,\n      'smi': 7,\n      'smj': 7,\n      'smn': 7,\n      'sms': 7,\n      'sn': 3,\n      'so': 3,\n      'sq': 3,\n      'sr': 11,\n      'ss': 3,\n      'ssy': 3,\n      'st': 3,\n      'sv': 3,\n      'sw': 3,\n      'syr': 3,\n      'ta': 3,\n      'te': 3,\n      'teo': 3,\n      'th': 0,\n      'ti': 4,\n      'tig': 3,\n      'tk': 3,\n      'tl': 4,\n      'tn': 3,\n      'to': 0,\n      'tr': 0,\n      'ts': 3,\n      'tzm': 22,\n      'uk': 11,\n      'ur': 3,\n      've': 3,\n      'vi': 0,\n      'vun': 3,\n      'wa': 4,\n      'wae': 3,\n      'wo': 0,\n      'xh': 3,\n      'xog': 3,\n      'yo': 0,\n      'zh': 0,\n      'zu': 3\n    };\n\n    function isIn(n, list) {\n      return list.indexOf(n) !== -1;\n    }\n\n    function isBetween(n, start, end) {\n      return start <= n && n <= end;\n    }\n\n    var pluralRules = {\n      '0': function (n) {\n        return 'other';\n      },\n      '1': function (n) {\n        if (isBetween(n % 100, 3, 10)) return 'few';\n        if (n === 0) return 'zero';\n        if (isBetween(n % 100, 11, 99)) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '2': function (n) {\n        if (n !== 0 && n % 10 === 0) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '3': function (n) {\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '4': function (n) {\n        if (isBetween(n, 0, 1)) return 'one';\n        return 'other';\n      },\n      '5': function (n) {\n        if (isBetween(n, 0, 2) && n != 2) return 'one';\n        return 'other';\n      },\n      '6': function (n) {\n        if (n === 0) return 'zero';\n        if (n % 10 == 1 && n % 100 != 11) return 'one';\n        return 'other';\n      },\n      '7': function (n) {\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '8': function (n) {\n        if (isBetween(n, 3, 6)) return 'few';\n        if (isBetween(n, 7, 10)) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '9': function (n) {\n        if (n === 0 || n != 1 && isBetween(n % 100, 1, 19)) return 'few';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '10': function (n) {\n        if (isBetween(n % 10, 2, 9) && !isBetween(n % 100, 11, 19)) return 'few';\n        if (n % 10 == 1 && !isBetween(n % 100, 11, 19)) return 'one';\n        return 'other';\n      },\n      '11': function (n) {\n        if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n        if (n % 10 === 0 || isBetween(n % 10, 5, 9) || isBetween(n % 100, 11, 14)) return 'many';\n        if (n % 10 == 1 && n % 100 != 11) return 'one';\n        return 'other';\n      },\n      '12': function (n) {\n        if (isBetween(n, 2, 4)) return 'few';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '13': function (n) {\n        if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n        if (n != 1 && isBetween(n % 10, 0, 1) || isBetween(n % 10, 5, 9) || isBetween(n % 100, 12, 14)) return 'many';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '14': function (n) {\n        if (isBetween(n % 100, 3, 4)) return 'few';\n        if (n % 100 == 2) return 'two';\n        if (n % 100 == 1) return 'one';\n        return 'other';\n      },\n      '15': function (n) {\n        if (n === 0 || isBetween(n % 100, 2, 10)) return 'few';\n        if (isBetween(n % 100, 11, 19)) return 'many';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '16': function (n) {\n        if (n % 10 == 1 && n != 11) return 'one';\n        return 'other';\n      },\n      '17': function (n) {\n        if (n == 3) return 'few';\n        if (n === 0) return 'zero';\n        if (n == 6) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '18': function (n) {\n        if (n === 0) return 'zero';\n        if (isBetween(n, 0, 2) && n !== 0 && n != 2) return 'one';\n        return 'other';\n      },\n      '19': function (n) {\n        if (isBetween(n, 2, 10)) return 'few';\n        if (isBetween(n, 0, 1)) return 'one';\n        return 'other';\n      },\n      '20': function (n) {\n        if ((isBetween(n % 10, 3, 4) || n % 10 == 9) && !(isBetween(n % 100, 10, 19) || isBetween(n % 100, 70, 79) || isBetween(n % 100, 90, 99))) return 'few';\n        if (n % 1000000 === 0 && n !== 0) return 'many';\n        if (n % 10 == 2 && !isIn(n % 100, [12, 72, 92])) return 'two';\n        if (n % 10 == 1 && !isIn(n % 100, [11, 71, 91])) return 'one';\n        return 'other';\n      },\n      '21': function (n) {\n        if (n === 0) return 'zero';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '22': function (n) {\n        if (isBetween(n, 0, 1) || isBetween(n, 11, 99)) return 'one';\n        return 'other';\n      },\n      '23': function (n) {\n        if (isBetween(n % 10, 1, 2) || n % 20 === 0) return 'one';\n        return 'other';\n      },\n      '24': function (n) {\n        if (isBetween(n, 3, 10) || isBetween(n, 13, 19)) return 'few';\n        if (isIn(n, [2, 12])) return 'two';\n        if (isIn(n, [1, 11])) return 'one';\n        return 'other';\n      }\n    };\n    var index = locales2rules[lang.replace(/-.*$/, '')];\n\n    if (!(index in pluralRules)) {\n      console.warn('plural form unknown for [' + lang + ']');\n      return function () {\n        return 'other';\n      };\n    }\n\n    return pluralRules[index];\n  }\n\n  gMacros.plural = function (str, param, key, prop) {\n    var n = parseFloat(param);\n    if (isNaN(n)) return str;\n    if (prop != gTextProp) return str;\n\n    if (!gMacros._pluralRules) {\n      gMacros._pluralRules = getPluralRules(gLanguage);\n    }\n\n    var index = '[' + gMacros._pluralRules(n) + ']';\n\n    if (n === 0 && key + '[zero]' in gL10nData) {\n      str = gL10nData[key + '[zero]'][prop];\n    } else if (n == 1 && key + '[one]' in gL10nData) {\n      str = gL10nData[key + '[one]'][prop];\n    } else if (n == 2 && key + '[two]' in gL10nData) {\n      str = gL10nData[key + '[two]'][prop];\n    } else if (key + index in gL10nData) {\n      str = gL10nData[key + index][prop];\n    } else if (key + '[other]' in gL10nData) {\n      str = gL10nData[key + '[other]'][prop];\n    }\n\n    return str;\n  };\n\n  function getL10nData(key, args, fallback) {\n    var data = gL10nData[key];\n\n    if (!data) {\n      console.warn('#' + key + ' is undefined.');\n\n      if (!fallback) {\n        return null;\n      }\n\n      data = fallback;\n    }\n\n    var rv = {};\n\n    for (var prop in data) {\n      var str = data[prop];\n      str = substIndexes(str, args, key, prop);\n      str = substArguments(str, args, key);\n      rv[prop] = str;\n    }\n\n    return rv;\n  }\n\n  function substIndexes(str, args, key, prop) {\n    var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n    var reMatch = reIndex.exec(str);\n    if (!reMatch || !reMatch.length) return str;\n    var macroName = reMatch[1];\n    var paramName = reMatch[2];\n    var param;\n\n    if (args && paramName in args) {\n      param = args[paramName];\n    } else if (paramName in gL10nData) {\n      param = gL10nData[paramName];\n    }\n\n    if (macroName in gMacros) {\n      var macro = gMacros[macroName];\n      str = macro(str, param, key, prop);\n    }\n\n    return str;\n  }\n\n  function substArguments(str, args, key) {\n    var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return str.replace(reArgs, function (matched_text, arg) {\n      if (args && arg in args) {\n        return args[arg];\n      }\n\n      if (arg in gL10nData) {\n        return gL10nData[arg];\n      }\n\n      console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n      return matched_text;\n    });\n  }\n\n  function translateElement(element) {\n    var l10n = getL10nAttributes(element);\n    if (!l10n.id) return;\n    var data = getL10nData(l10n.id, l10n.args);\n\n    if (!data) {\n      console.warn('#' + l10n.id + ' is undefined.');\n      return;\n    }\n\n    if (data[gTextProp]) {\n      if (getChildElementCount(element) === 0) {\n        element[gTextProp] = data[gTextProp];\n      } else {\n        var children = element.childNodes;\n        var found = false;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n            if (found) {\n              children[i].nodeValue = '';\n            } else {\n              children[i].nodeValue = data[gTextProp];\n              found = true;\n            }\n          }\n        }\n\n        if (!found) {\n          var textNode = document.createTextNode(data[gTextProp]);\n          element.insertBefore(textNode, element.firstChild);\n        }\n      }\n\n      delete data[gTextProp];\n    }\n\n    for (var k in data) {\n      element[k] = data[k];\n    }\n  }\n\n  function getChildElementCount(element) {\n    if (element.children) {\n      return element.children.length;\n    }\n\n    if (typeof element.childElementCount !== 'undefined') {\n      return element.childElementCount;\n    }\n\n    var count = 0;\n\n    for (var i = 0; i < element.childNodes.length; i++) {\n      count += element.nodeType === 1 ? 1 : 0;\n    }\n\n    return count;\n  }\n\n  function translateFragment(element) {\n    element = element || document.documentElement;\n    var children = getTranslatableChildren(element);\n    var elementCount = children.length;\n\n    for (var i = 0; i < elementCount; i++) {\n      translateElement(children[i]);\n    }\n\n    translateElement(element);\n  }\n\n  return {\n    get: function (key, args, fallbackString) {\n      var index = key.lastIndexOf('.');\n      var prop = gTextProp;\n\n      if (index > 0) {\n        prop = key.substring(index + 1);\n        key = key.substring(0, index);\n      }\n\n      var fallback;\n\n      if (fallbackString) {\n        fallback = {};\n        fallback[prop] = fallbackString;\n      }\n\n      var data = getL10nData(key, args, fallback);\n\n      if (data && prop in data) {\n        return data[prop];\n      }\n\n      return '{{' + key + '}}';\n    },\n    getData: function () {\n      return gL10nData;\n    },\n    getText: function () {\n      return gTextData;\n    },\n    getLanguage: function () {\n      return gLanguage;\n    },\n    setLanguage: function (lang, callback) {\n      loadLocale(lang, function () {\n        if (callback) callback();\n      });\n    },\n    getDirection: function () {\n      var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n      var shortCode = gLanguage.split('-', 1)[0];\n      return rtlList.indexOf(shortCode) >= 0 ? 'rtl' : 'ltr';\n    },\n    translate: translateFragment,\n    getReadyState: function () {\n      return gReadyState;\n    },\n    ready: function (callback) {\n      if (!callback) {\n        return;\n      } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n        window.setTimeout(function () {\n          callback();\n        });\n      } else if (document.addEventListener) {\n        document.addEventListener('localized', function once() {\n          document.removeEventListener('localized', once);\n          callback();\n        });\n      }\n    }\n  };\n}(window, document);\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPrintService = PDFPrintService;\n\nvar _ui_utils = __webpack_require__(2);\n\nvar _app = __webpack_require__(1);\n\nvar _app_options = __webpack_require__(3);\n\nlet activeService = null;\nlet overlayManager = null;\n\nfunction renderPage(activeServiceOnEntry, pdfDocument, pageNumber, size) {\n  const scratchCanvas = activeService.scratchCanvas;\n  const PRINT_RESOLUTION = _app_options.AppOptions.get(\"printResolution\") || 150;\n  const PRINT_UNITS = PRINT_RESOLUTION / 72.0;\n  scratchCanvas.width = Math.floor(size.width * PRINT_UNITS);\n  scratchCanvas.height = Math.floor(size.height * PRINT_UNITS);\n  const width = Math.floor(size.width * _ui_utils.CSS_UNITS) + \"px\";\n  const height = Math.floor(size.height * _ui_utils.CSS_UNITS) + \"px\";\n  const ctx = scratchCanvas.getContext(\"2d\");\n  ctx.save();\n  ctx.fillStyle = \"rgb(255, 255, 255)\";\n  ctx.fillRect(0, 0, scratchCanvas.width, scratchCanvas.height);\n  ctx.restore();\n  return pdfDocument.getPage(pageNumber).then(function (pdfPage) {\n    const renderContext = {\n      canvasContext: ctx,\n      transform: [PRINT_UNITS, 0, 0, PRINT_UNITS, 0, 0],\n      viewport: pdfPage.getViewport({\n        scale: 1,\n        rotation: size.rotation\n      }),\n      intent: \"print\"\n    };\n    return pdfPage.render(renderContext).promise;\n  }).then(function () {\n    return {\n      width,\n      height\n    };\n  });\n}\n\nfunction PDFPrintService(pdfDocument, pagesOverview, printContainer, l10n) {\n  this.pdfDocument = pdfDocument;\n  this.pagesOverview = pagesOverview;\n  this.printContainer = printContainer;\n  this.l10n = l10n || _ui_utils.NullL10n;\n  this.disableCreateObjectURL = _app_options.AppOptions.get(\"disableCreateObjectURL\");\n  this.currentPage = -1;\n  this.scratchCanvas = document.createElement(\"canvas\");\n}\n\nPDFPrintService.prototype = {\n  layout() {\n    this.throwIfInactive();\n    const body = document.querySelector(\"body\");\n    body.setAttribute(\"data-pdfjsprinting\", true);\n    const hasEqualPageSizes = this.pagesOverview.every(function (size) {\n      return size.width === this.pagesOverview[0].width && size.height === this.pagesOverview[0].height;\n    }, this);\n\n    if (!hasEqualPageSizes) {\n      console.warn(\"Not all pages have the same size. The printed \" + \"result may be incorrect!\");\n    }\n\n    this.pageStyleSheet = document.createElement(\"style\");\n    const pageSize = this.pagesOverview[0];\n    this.pageStyleSheet.textContent = \"@supports ((size:A4) and (size:1pt 1pt)) {\" + \"@page { size: \" + pageSize.width + \"pt \" + pageSize.height + \"pt;}\" + \"}\";\n    body.appendChild(this.pageStyleSheet);\n  },\n\n  destroy() {\n    if (activeService !== this) {\n      return;\n    }\n\n    this.printContainer.textContent = \"\";\n    const body = document.querySelector(\"body\");\n    body.removeAttribute(\"data-pdfjsprinting\");\n\n    if (this.pageStyleSheet) {\n      this.pageStyleSheet.remove();\n      this.pageStyleSheet = null;\n    }\n\n    this.scratchCanvas.width = this.scratchCanvas.height = 0;\n    this.scratchCanvas = null;\n    activeService = null;\n    ensureOverlay().then(function () {\n      if (overlayManager.active !== \"printServiceOverlay\") {\n        return;\n      }\n\n      overlayManager.close(\"printServiceOverlay\");\n    });\n  },\n\n  renderPages() {\n    const pageCount = this.pagesOverview.length;\n\n    const renderNextPage = (resolve, reject) => {\n      this.throwIfInactive();\n\n      if (++this.currentPage >= pageCount) {\n        renderProgress(pageCount, pageCount, this.l10n);\n        resolve();\n        return;\n      }\n\n      const index = this.currentPage;\n      renderProgress(index, pageCount, this.l10n);\n      renderPage(this, this.pdfDocument, index + 1, this.pagesOverview[index]).then(this.useRenderedPage.bind(this)).then(function () {\n        renderNextPage(resolve, reject);\n      }, reject);\n    };\n\n    return new Promise(renderNextPage);\n  },\n\n  useRenderedPage(printItem) {\n    this.throwIfInactive();\n    const img = document.createElement(\"img\");\n    img.style.width = printItem.width;\n    img.style.height = printItem.height;\n    const scratchCanvas = this.scratchCanvas;\n\n    if (\"toBlob\" in scratchCanvas && !this.disableCreateObjectURL) {\n      scratchCanvas.toBlob(function (blob) {\n        img.src = URL.createObjectURL(blob);\n      });\n    } else {\n      img.src = scratchCanvas.toDataURL();\n    }\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.appendChild(img);\n    this.printContainer.appendChild(wrapper);\n    return new Promise(function (resolve, reject) {\n      img.onload = resolve;\n      img.onerror = reject;\n    });\n  },\n\n  performPrint() {\n    this.throwIfInactive();\n    return new Promise(resolve => {\n      setTimeout(() => {\n        if (!this.active) {\n          resolve();\n          return;\n        }\n\n        print.call(window);\n        setTimeout(resolve, 20);\n      }, 0);\n    });\n  },\n\n  get active() {\n    return this === activeService;\n  },\n\n  throwIfInactive() {\n    if (!this.active) {\n      throw new Error(\"This print request was cancelled or completed.\");\n    }\n  }\n\n};\nconst print = window.print;\n\nwindow.print = function () {\n  if (activeService) {\n    console.warn(\"Ignored window.print() because of a pending print job.\");\n    return;\n  }\n\n  ensureOverlay().then(function () {\n    if (activeService) {\n      overlayManager.open(\"printServiceOverlay\");\n    }\n  });\n\n  try {\n    dispatchEvent(\"beforeprint\");\n  } finally {\n    if (!activeService) {\n      console.error(\"Expected print service to be initialized.\");\n      ensureOverlay().then(function () {\n        if (overlayManager.active === \"printServiceOverlay\") {\n          overlayManager.close(\"printServiceOverlay\");\n        }\n      });\n      return;\n    }\n\n    const activeServiceOnEntry = activeService;\n    activeService.renderPages().then(function () {\n      return activeServiceOnEntry.performPrint();\n    }).catch(function () {}).then(function () {\n      if (activeServiceOnEntry.active) {\n        abort();\n      }\n    });\n  }\n};\n\nfunction dispatchEvent(eventType) {\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventType, false, false, \"custom\");\n  window.dispatchEvent(event);\n}\n\nfunction abort() {\n  if (activeService) {\n    activeService.destroy();\n    dispatchEvent(\"afterprint\");\n  }\n}\n\nfunction renderProgress(index, total, l10n) {\n  const progressContainer = document.getElementById(\"printServiceOverlay\");\n  const progress = Math.round(100 * index / total);\n  const progressBar = progressContainer.querySelector(\"progress\");\n  const progressPerc = progressContainer.querySelector(\".relative-progress\");\n  progressBar.value = progress;\n  l10n.get(\"print_progress_percent\", {\n    progress\n  }, progress + \"%\").then(msg => {\n    progressPerc.textContent = msg;\n  });\n}\n\nwindow.addEventListener(\"keydown\", function (event) {\n  if (event.keyCode === 80 && (event.ctrlKey || event.metaKey) && !event.altKey && (!event.shiftKey || window.chrome || window.opera)) {\n    window.print();\n    event.preventDefault();\n\n    if (event.stopImmediatePropagation) {\n      event.stopImmediatePropagation();\n    } else {\n      event.stopPropagation();\n    }\n  }\n}, true);\n\nif (\"onbeforeprint\" in window) {\n  const stopPropagationIfNeeded = function (event) {\n    if (event.detail !== \"custom\" && event.stopImmediatePropagation) {\n      event.stopImmediatePropagation();\n    }\n  };\n\n  window.addEventListener(\"beforeprint\", stopPropagationIfNeeded);\n  window.addEventListener(\"afterprint\", stopPropagationIfNeeded);\n}\n\nlet overlayPromise;\n\nfunction ensureOverlay() {\n  if (!overlayPromise) {\n    overlayManager = _app.PDFViewerApplication.overlayManager;\n\n    if (!overlayManager) {\n      throw new Error(\"The overlay manager has not yet been initialized.\");\n    }\n\n    overlayPromise = overlayManager.register(\"printServiceOverlay\", document.getElementById(\"printServiceOverlay\"), abort, true);\n    document.getElementById(\"printCancel\").onclick = abort;\n  }\n\n  return overlayPromise;\n}\n\n_app.PDFPrintServiceFactory.instance = {\n  supportsPrinting: true,\n\n  createPrintService(pdfDocument, pagesOverview, printContainer, l10n) {\n    if (activeService) {\n      throw new Error(\"The print service is created and active.\");\n    }\n\n    activeService = new PDFPrintService(pdfDocument, pagesOverview, printContainer, l10n);\n    return activeService;\n  }\n\n};\n\n/***/ })\n/******/ ]);\n}","import Rectangle from \"../../datastructure/Rectangle\";\n\n/**\n * Class utils to convert a set of coordinates from one space to another.\n * \n * Different spaces:\n * - Shape coordinates: coordinates of the ShapeCommand\n * - Viewer coordinates: coordinates of the dom element in the viewer\n */\nclass _PosUtils {\n    getDPI() {\n        if (window.devicePixelRatio) {\n            return window.devicePixelRatio\n        }\n        return 1;\n    }\n\n    getPageViewerRect(page : number) : Rectangle {\n        const PDFViewerApplication = window['PDFViewerApplication'];\n        const pageView = PDFViewerApplication.pdfViewer.getPageView(page);\n        if (pageView) {\n            const pageDiv = PDFViewerApplication.pdfViewer.getPageView(page).div;\n            const margin = 9; // Page divs have a 9 pixel margin (see css)\n    \n            return new Rectangle(pageDiv.offsetLeft+margin, pageDiv.offsetTop+margin, pageDiv.offsetWidth, pageDiv.offsetHeight)\n        }\n        return new Rectangle(0, 0, 0, 0);\n    }\n\n    shapeToViewerCoord(page : number, x : number, y : number, width : number, height : number, pageRect : Rectangle = undefined) : Rectangle {\n        const _pageRect = pageRect? pageRect : this.getPageViewerRect(page);\n        return new Rectangle(x/PosUtils.getDPI()+_pageRect.x, y/PosUtils.getDPI()+_pageRect.y, width/PosUtils.getDPI(), height/PosUtils.getDPI()); // For some reason (rendering quality?) the canvas is always twice as big as the div\n    }\n\n    viewerToShapeCoord(page : number, x : number, y : number, width : number, height : number) : Rectangle {\n        const pageRect = this.getPageViewerRect(page);\n        return new Rectangle((x-pageRect.x)*PosUtils.getDPI(), (y-pageRect.y)*PosUtils.getDPI(), width*PosUtils.getDPI(), height*PosUtils.getDPI());\n    }\n}\n\n\nexport const PosUtils = new _PosUtils();","import React, { useState } from 'react';\n\nimport Rectangle from '../../datastructure/Rectangle';\nimport ShapeCommand from '../../datastructure/ShapeCommand';\nimport { PosUtils } from './PosUtils';\n\nexport const PDFSelection = ({children, onShapesSelected}) => {\n  const [isSelecting, setIsSelecting] = useState(false)\n  const [startPos, setStartPos] = useState({ x: 0, y: 0, page: 0, onText: false});\n  const [endPos, setEndPos] = useState({ x: 0, y: 0 });\n\n\n  function getPageFromMouseEvent(mouseEvent) {\n    let pageDiv = mouseEvent.target;\n    while (pageDiv !== null) {\n      if (pageDiv.className === \"page\") {\n        return pageDiv;\n      }\n\n      pageDiv = pageDiv.parentElement;\n    }\n\n    return null;\n  }\n\n  function onMouseDownPage(event) {\n    if (event.target.tagName === \"BUTTON\") {\n      // Those should not be considered as to not break exisiting mechanisms\n      return;\n    }\n    if (event.buttons === 1) { // Click on the page\n      const pageDiv = getPageFromMouseEvent(event);\n      if (pageDiv !== null) {\n        setIsSelecting(true);\n        const pageRect = PosUtils.getPageViewerRect(pageDiv.dataset.pageNumber-1);\n        const vy = event.clientY - pageDiv.getBoundingClientRect().top-9+pageRect.y;\n        const vx = event.clientX - pageDiv.getBoundingClientRect().left-9+pageRect.x;\n        const startPos = { x: vx, y: vy, page: pageDiv.dataset.pageNumber-1, onText: event.target.tagName === \"SPAN\" };\n        const endPos = { x: vx, y: vy}\n        setEndPos(endPos);\n        setStartPos(startPos);\n      }\n    }\n  }\n\n  function onMouseMovePage(event) {\n    const pageDiv = getPageFromMouseEvent(event);\n    if (event.buttons === 1 && isSelecting) {\n      const pageRect = PosUtils.getPageViewerRect(startPos.page);\n      const PDFViewerApplication = window['PDFViewerApplication'];\n      const pageDiv = PDFViewerApplication.pdfViewer.getPageView(startPos.page).div\n\n      const vy = event.clientY - pageDiv.getBoundingClientRect().top-9+pageRect.y;\n      const vx = event.clientX - pageDiv.getBoundingClientRect().left-9+pageRect.x;\n      const endPos = { x: vx, y: vy};\n      setEndPos(endPos);\n    }\n  }\n\n  //let lastSelection = null;\n  function onMouseUpPage(event) {\n    if (event.button === 0) {\n      setIsSelecting(false);\n      const selection = getSelection();\n      onShapesSelected(selection.shapes, selection.rect);\n    }\n  }\n\n  /**\n   * Retrieve the shapes included within the selection\n   */\n  function getSelection() : {shapes: ShapeCommand[], rect: Rectangle} {\n    const pageIdx = startPos.page;\n    const selectionRectangle = new Rectangle(Math.min(startPos.x, endPos.x), Math.min(startPos.y, endPos.y), Math.abs(endPos.x - startPos.x), Math.abs(endPos.y - startPos.y));\n    const selectRect = PosUtils.viewerToShapeCoord(pageIdx, Math.min(startPos.x, endPos.x), Math.min(startPos.y, endPos.y), Math.abs(endPos.x - startPos.x), Math.abs(endPos.y - startPos.y));\n    \n    var selectedShapes : ShapeCommand[] = [];\n    // Only can select if the shapes were properly extracted from the page\n    if (window['PDFViewerApplication'].pageShapeCommands && window['PDFViewerApplication'].pageShapeCommands[pageIdx]) {\n        const commands = window['PDFViewerApplication'].pageShapeCommands[pageIdx];\n\n        for (let i = 0; i < commands.length; ++i) {\n          if (commands[i].isContained(selectRect)) {\n            const cmd = commands[i];\n            /*if (cmd.text === undefined) {\n              selectedShapes = selectedShapes.concat(ShapeUtils.splitIntoSubShapes(cmd));\n            } else {*/\n              selectedShapes.push(cmd);\n            //}\n            \n          }\n        }\n    }\n\n    return {shapes: selectedShapes, rect : selectRect};\n  }\n\n\n  return (<>\n  <div onMouseDown={onMouseDownPage} onMouseUp={onMouseUpPage} onMouseMove={onMouseMovePage}>\n    { isSelecting && <div id=\"rectangularSelection\" \n      style={{ pointerEvents: 'none',\n      background: \"#D7E1EC50\",\n      left: Math.min(startPos.x, endPos.x), top: Math.min(startPos.y, endPos.y), border: 'dashed 2px #8E959C', width: Math.abs(startPos.x-endPos.x), height: Math.abs(startPos.y-endPos.y), \n      position: 'absolute', zIndex: 9999 }} />}\n    {children}\n  </div></>);\n}","import React from 'react';\nimport { loadViewer } from './libs/viewer.js';\nimport './PDFJSViewer.css'\nimport { PDFSelection } from './PDFSelection';\nimport ShapeCommand from '../../datastructure/ShapeCommand'\nimport Rectangle from '../../datastructure/Rectangle'\nimport { jsPDF } from 'jspdf'\nimport { svg2pdf } from 'svg2pdf.js';\n\ninterface PDFJSViewerProps {\n  onShapesSelected : (shapes : ShapeCommand[], rect : Rectangle) => void;\n}\n\ninterface PDFJsViewerState {\n  showLoadingPopup : boolean\n}\n\nexport default class PDFJSViewer extends React.Component<PDFJSViewerProps, PDFJsViewerState> {\n\n  constructor(props) {\n    super(props);\n    this.state = {showLoadingPopup: true};\n  }\n\n  componentDidMount() {\n    if (window[\"pdfViewerLoaded\"] === undefined) {\n      window[\"pdfViewerLoaded\"] = loadViewer;\n      loadViewer();\n    }\n  }\n\n  onFileLoaded(event) {\n    const file = event.target.files[0];\n    const PDFViewerApplication = window['PDFViewerApplication'];\n\n    // If it is an SVG file, we need to first convert it to PDF\n    if (file.name.endsWith(\".svg\")) {\n      var fileReader = new FileReader();\n      var self = this;\n      fileReader.onload = function () {\n        var svgContainer = document.getElementById(\"svg-container\");\n        svgContainer.innerHTML = this.result as any;\n  \n        const svgElement = svgContainer.firstElementChild as any\n        svgElement.getBoundingClientRect() \n        const width = svgElement.width.baseVal.value\n        const height = svgElement.height.baseVal.value\n    \n        const pdf = new jsPDF(width > height ? 'l' : 'p', 'pt', [width, height]) as any\n  \n  \n        svg2pdf(svgElement, pdf, { width: width, height: height }).then((doc) => {\n          PDFViewerApplication.open(doc.output('datauristring'))\n        })\n      };\n\n      fileReader.readAsText(file)\n    } else {\n      PDFViewerApplication.setTitleUsingUrl(file.name);\n      const fileReader = new FileReader();\n\n      fileReader.onload = function webViewerChangeFileReaderOnload(event) {\n        const buffer = event.target.result as any;\n        PDFViewerApplication.open(new Uint8Array(buffer));\n      };\n\n      fileReader.readAsArrayBuffer(file);\n    }\n    console.log(file)\n  }\n\n\n  render(): JSX.Element {\n    return (<>\n      <>\n        <div id=\"outerContainer\">\n          <div id=\"sidebarContainer\">\n            <div id=\"toolbarSidebar\">\n              <div className=\"splitToolbarButton toggled\">\n                <button\n                  id=\"viewThumbnail\"\n                  className=\"toolbarButton toggled\"\n                  title=\"Show Thumbnails\"\n                  tabIndex={2}\n                  data-l10n-id=\"thumbs\"\n                >\n                  <span data-l10n-id=\"thumbs_label\">Thumbnails</span>\n                </button>\n                <button\n                  id=\"viewOutline\"\n                  className=\"toolbarButton\"\n                  title=\"Show Document Outline (double-click to expand/collapse all items)\"\n                  tabIndex={3}\n                  data-l10n-id=\"document_outline\"\n                >\n                  <span data-l10n-id=\"document_outline_label\">Document Outline</span>\n                </button>\n                <button\n                  id=\"viewAttachments\"\n                  className=\"toolbarButton\"\n                  title=\"Show Attachments\"\n                  tabIndex={4}\n                  data-l10n-id=\"attachments\"\n                >\n                  <span data-l10n-id=\"attachments_label\">Attachments</span>\n                </button>\n              </div>\n            </div>\n            <div id=\"sidebarContent\">\n              <div id=\"thumbnailView\"></div>\n              <div id=\"outlineView\" className=\"hidden\"></div>\n              <div id=\"attachmentsView\" className=\"hidden\"></div>\n            </div>\n            <div id=\"sidebarResizer\" className=\"hidden\" />\n          </div>{\" \"}\n          {/* sidebarContainer */}\n          <div id=\"mainContainer\">\n            <div className=\"findbar hidden doorHanger\" id=\"findbar\">\n              <div id=\"findbarInputContainer\">\n                <input\n                  id=\"findInput\"\n                  className=\"toolbarField\"\n                  title=\"Find\"\n                  placeholder=\"Find in document…\"\n                  tabIndex={91}\n                  data-l10n-id=\"find_input\"\n                />\n                <div className=\"splitToolbarButton\">\n                  <button\n                    id=\"findPrevious\"\n                    className=\"toolbarButton findPrevious\"\n                    title=\"Find the previous occurrence of the phrase\"\n                    tabIndex={92}\n                    data-l10n-id=\"find_previous\"\n                  >\n                    <span data-l10n-id=\"find_previous_label\">Previous</span>\n                  </button>\n                  <div className=\"splitToolbarButtonSeparator\" />\n                  <button\n                    id=\"findNext\"\n                    className=\"toolbarButton findNext\"\n                    title=\"Find the next occurrence of the phrase\"\n                    tabIndex={93}\n                    data-l10n-id=\"find_next\"\n                  >\n                    <span data-l10n-id=\"find_next_label\">Next</span>\n                  </button>\n                </div>\n              </div>\n              <div id=\"findbarOptionsOneContainer\">\n                <input\n                  type=\"checkbox\"\n                  id=\"findHighlightAll\"\n                  className=\"toolbarField\"\n                  tabIndex={94}\n                />\n                <label\n                  htmlFor=\"findHighlightAll\"\n                  className=\"toolbarLabel\"\n                  data-l10n-id=\"find_highlight\"\n                >\n                  Highlight all\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"findMatchCase\"\n                  className=\"toolbarField\"\n                  tabIndex={95}\n                />\n                <label\n                  htmlFor=\"findMatchCase\"\n                  className=\"toolbarLabel\"\n                  data-l10n-id=\"find_match_case_label\"\n                >\n                  Match case\n                </label>\n              </div>\n              <div id=\"findbarOptionsTwoContainer\">\n                <input\n                  type=\"checkbox\"\n                  id=\"findEntireWord\"\n                  className=\"toolbarField\"\n                  tabIndex={96}\n                />\n                <label\n                  htmlFor=\"findEntireWord\"\n                  className=\"toolbarLabel\"\n                  data-l10n-id=\"find_entire_word_label\"\n                >\n                  Whole words\n                </label>\n                <span id=\"findResultsCount\" className=\"toolbarLabel hidden\" />\n              </div>\n              <div id=\"findbarMessageContainer\">\n                <span id=\"findMsg\" className=\"toolbarLabel\" />\n              </div>\n            </div>{\" \"}\n            {/* findbar */}\n            <div\n              id=\"secondaryToolbar\"\n              className=\"secondaryToolbar hidden doorHangerRight\"\n            >\n              <div id=\"secondaryToolbarButtonContainer\">\n                <button\n                  id=\"secondaryPresentationMode\"\n                  className=\"secondaryToolbarButton presentationMode visibleLargeView\"\n                  title=\"Switch to Presentation Mode\"\n                  tabIndex={51}\n                  data-l10n-id=\"presentation_mode\"\n                >\n                  <span data-l10n-id=\"presentation_mode_label\">\n                    Presentation Mode\n                  </span>\n                </button>\n                <button\n                  id=\"secondaryOpenFile\"\n                  className=\"secondaryToolbarButton openFile visibleLargeView\"\n                  title=\"Open File\"\n                  tabIndex={52}\n                  data-l10n-id=\"open_file\"\n                >\n                  <span data-l10n-id=\"open_file_label\">Open</span>\n                </button>\n                <button\n                  id=\"secondaryPrint\"\n                  className=\"secondaryToolbarButton print visibleMediumView\"\n                  title=\"Print\"\n                  tabIndex={53}\n                  data-l10n-id=\"print\"\n                >\n                  <span data-l10n-id=\"print_label\">Print</span>\n                </button>\n                <button\n                  id=\"secondaryDownload\"\n                  className=\"secondaryToolbarButton download visibleMediumView\"\n                  title=\"Download\"\n                  tabIndex={54}\n                  data-l10n-id=\"download\"\n                >\n                  <span data-l10n-id=\"download_label\">Download</span>\n                </button>\n                <a\n                  href=\"#\"\n                  id=\"secondaryViewBookmark\"\n                  className=\"secondaryToolbarButton bookmark visibleSmallView\"\n                  title=\"Current view (copy or open in new window)\"\n                  tabIndex={55}\n                  data-l10n-id=\"bookmark\"\n                >\n                  <span data-l10n-id=\"bookmark_label\">Current View</span>\n                </a>\n                <div className=\"horizontalToolbarSeparator visibleLargeView\" />\n                <button\n                  id=\"firstPage\"\n                  className=\"secondaryToolbarButton firstPage\"\n                  title=\"Go to First Page\"\n                  tabIndex={56}\n                  data-l10n-id=\"first_page\"\n                >\n                  <span data-l10n-id=\"first_page_label\">Go to First Page</span>\n                </button>\n                <button\n                  id=\"lastPage\"\n                  className=\"secondaryToolbarButton lastPage\"\n                  title=\"Go to Last Page\"\n                  tabIndex={57}\n                  data-l10n-id=\"last_page\"\n                >\n                  <span data-l10n-id=\"last_page_label\">Go to Last Page</span>\n                </button>\n                <div className=\"horizontalToolbarSeparator\" />\n                <button\n                  id=\"pageRotateCw\"\n                  className=\"secondaryToolbarButton rotateCw\"\n                  title=\"Rotate Clockwise\"\n                  tabIndex={58}\n                  data-l10n-id=\"page_rotate_cw\"\n                >\n                  <span data-l10n-id=\"page_rotate_cw_label\">Rotate Clockwise</span>\n                </button>\n                <button\n                  id=\"pageRotateCcw\"\n                  className=\"secondaryToolbarButton rotateCcw\"\n                  title=\"Rotate Counterclockwise\"\n                  tabIndex={59}\n                  data-l10n-id=\"page_rotate_ccw\"\n                >\n                  <span data-l10n-id=\"page_rotate_ccw_label\">\n                    Rotate Counterclockwise\n                  </span>\n                </button>\n                <div className=\"horizontalToolbarSeparator\" />\n                <button\n                  id=\"cursorSelectTool\"\n                  className=\"secondaryToolbarButton selectTool toggled\"\n                  title=\"Enable Text Selection Tool\"\n                  tabIndex={60}\n                  data-l10n-id=\"cursor_text_select_tool\"\n                >\n                  <span data-l10n-id=\"cursor_text_select_tool_label\">\n                    Text Selection Tool\n                  </span>\n                </button>\n                <button\n                  id=\"cursorHandTool\"\n                  className=\"secondaryToolbarButton handTool\"\n                  title=\"Enable Hand Tool\"\n                  tabIndex={61}\n                  data-l10n-id=\"cursor_hand_tool\"\n                >\n                  <span data-l10n-id=\"cursor_hand_tool_label\">Hand Tool</span>\n                </button>\n                <div className=\"horizontalToolbarSeparator\" />\n                <button\n                  id=\"scrollVertical\"\n                  className=\"secondaryToolbarButton scrollModeButtons scrollVertical toggled\"\n                  title=\"Use Vertical Scrolling\"\n                  tabIndex={62}\n                  data-l10n-id=\"scroll_vertical\"\n                >\n                  <span data-l10n-id=\"scroll_vertical_label\">Vertical Scrolling</span>\n                </button>\n                <button\n                  id=\"scrollHorizontal\"\n                  className=\"secondaryToolbarButton scrollModeButtons scrollHorizontal\"\n                  title=\"Use Horizontal Scrolling\"\n                  tabIndex={63}\n                  data-l10n-id=\"scroll_horizontal\"\n                >\n                  <span data-l10n-id=\"scroll_horizontal_label\">\n                    Horizontal Scrolling\n                  </span>\n                </button>\n                <button\n                  id=\"scrollWrapped\"\n                  className=\"secondaryToolbarButton scrollModeButtons scrollWrapped\"\n                  title=\"Use Wrapped Scrolling\"\n                  tabIndex={64}\n                  data-l10n-id=\"scroll_wrapped\"\n                >\n                  <span data-l10n-id=\"scroll_wrapped_label\">Wrapped Scrolling</span>\n                </button>\n                <div className=\"horizontalToolbarSeparator scrollModeButtons\" />\n                <button\n                  id=\"spreadNone\"\n                  className=\"secondaryToolbarButton spreadModeButtons spreadNone toggled\"\n                  title=\"Do not join page spreads\"\n                  tabIndex={65}\n                  data-l10n-id=\"spread_none\"\n                >\n                  <span data-l10n-id=\"spread_none_label\">No Spreads</span>\n                </button>\n                <button\n                  id=\"spreadOdd\"\n                  className=\"secondaryToolbarButton spreadModeButtons spreadOdd\"\n                  title=\"Join page spreads starting with odd-numbered pages\"\n                  tabIndex={66}\n                  data-l10n-id=\"spread_odd\"\n                >\n                  <span data-l10n-id=\"spread_odd_label\">Odd Spreads</span>\n                </button>\n                <button\n                  id=\"spreadEven\"\n                  className=\"secondaryToolbarButton spreadModeButtons spreadEven\"\n                  title=\"Join page spreads starting with even-numbered pages\"\n                  tabIndex={67}\n                  data-l10n-id=\"spread_even\"\n                >\n                  <span data-l10n-id=\"spread_even_label\">Even Spreads</span>\n                </button>\n                <div className=\"horizontalToolbarSeparator spreadModeButtons\" />\n                <button\n                  id=\"documentProperties\"\n                  className=\"secondaryToolbarButton documentProperties\"\n                  title=\"Document Properties…\"\n                  tabIndex={68}\n                  data-l10n-id=\"document_properties\"\n                >\n                  <span data-l10n-id=\"document_properties_label\">\n                    Document Properties…\n                  </span>\n                </button>\n              </div>\n            </div>{\" \"}\n            {/* secondaryToolbar */}\n            <div className=\"toolbar\">\n              <div id=\"toolbarContainer\">\n                <div id=\"toolbarViewer\">\n                  <div id=\"toolbarViewerLeft\">\n                    <button\n                      id=\"sidebarToggle\"\n                      className=\"toolbarButton\"\n                      title=\"Toggle Sidebar\"\n                      tabIndex={11}\n                      data-l10n-id=\"toggle_sidebar\"\n                    >\n                      <span data-l10n-id=\"toggle_sidebar_label\">Toggle Sidebar</span>\n                    </button>\n                    <div className=\"toolbarButtonSpacer\" />\n                    <button\n                      id=\"viewFind\"\n                      className=\"toolbarButton\"\n                      title=\"Find in Document\"\n                      tabIndex={12}\n                      data-l10n-id=\"findbar\"\n                    >\n                      <span data-l10n-id=\"findbar_label\">Find</span>\n                    </button>\n                    <div className=\"splitToolbarButton hiddenSmallView\">\n                      <button\n                        className=\"toolbarButton pageUp\"\n                        title=\"Previous Page\"\n                        id=\"previous\"\n                        tabIndex={13}\n                        data-l10n-id=\"previous\"\n                      >\n                        <span data-l10n-id=\"previous_label\">Previous</span>\n                      </button>\n                      <div className=\"splitToolbarButtonSeparator\" />\n                      <button\n                        className=\"toolbarButton pageDown\"\n                        title=\"Next Page\"\n                        id=\"next\"\n                        tabIndex={14}\n                        data-l10n-id=\"next\"\n                      >\n                        <span data-l10n-id=\"next_label\">Next</span>\n                      </button>\n                    </div>\n                    <input\n                      type=\"number\"\n                      id=\"pageNumber\"\n                      className=\"toolbarField pageNumber\"\n                      title=\"Page\"\n                      defaultValue={1}\n                      size={4}\n                      min={1}\n                      tabIndex={15}\n                      data-l10n-id=\"page\"\n                      autoComplete=\"off\"\n                    />\n                    <span id=\"numPages\" className=\"toolbarLabel\" />\n                  </div>\n                  <div id=\"toolbarViewerRight\">\n                    <button\n                      id=\"presentationMode\"\n                      className=\"toolbarButton presentationMode hiddenLargeView\"\n                      title=\"Switch to Presentation Mode\"\n                      tabIndex={31}\n                      data-l10n-id=\"presentation_mode\"\n                    >\n                      <span data-l10n-id=\"presentation_mode_label\">\n                        Presentation Mode\n                      </span>\n                    </button>\n                    <button\n                      id=\"openFile\"\n                      className=\"toolbarButton openFile hiddenLargeView\"\n                      title=\"Open File\"\n                      tabIndex={32}\n                      data-l10n-id=\"open_file\"\n                    >\n                      <span data-l10n-id=\"open_file_label\">Open</span>\n                    </button>\n                    <button\n                      id=\"print\"\n                      className=\"toolbarButton print hiddenMediumView\"\n                      title=\"Print\"\n                      tabIndex={33}\n                      data-l10n-id=\"print\"\n                    >\n                      <span data-l10n-id=\"print_label\">Print</span>\n                    </button>\n                    <button\n                      id=\"download\"\n                      className=\"toolbarButton download hiddenMediumView\"\n                      title=\"Download\"\n                      tabIndex={34}\n                      data-l10n-id=\"download\"\n                    >\n                      <span data-l10n-id=\"download_label\">Download</span>\n                    </button>\n                    <a\n                      href=\"#\"\n                      id=\"viewBookmark\"\n                      className=\"toolbarButton bookmark hiddenSmallView\"\n                      title=\"Current view (copy or open in new window)\"\n                      tabIndex={35}\n                      data-l10n-id=\"bookmark\"\n                    >\n                      <span data-l10n-id=\"bookmark_label\">Current View</span>\n                    </a>\n                    <div className=\"verticalToolbarSeparator hiddenSmallView\" />\n                    <button\n                      id=\"secondaryToolbarToggle\"\n                      className=\"toolbarButton\"\n                      title=\"Tools\"\n                      tabIndex={36}\n                      data-l10n-id=\"tools\"\n                    >\n                      <span data-l10n-id=\"tools_label\">Tools</span>\n                    </button>\n                  </div>\n                  <div id=\"toolbarViewerMiddle\">\n                    <div className=\"splitToolbarButton\">\n                      <button\n                        id=\"zoomOut\"\n                        className=\"toolbarButton zoomOut\"\n                        title=\"Zoom Out\"\n                        tabIndex={21}\n                        data-l10n-id=\"zoom_out\"\n                      >\n                        <span data-l10n-id=\"zoom_out_label\">Zoom Out</span>\n                      </button>\n                      <div className=\"splitToolbarButtonSeparator\" />\n                      <button\n                        id=\"zoomIn\"\n                        className=\"toolbarButton zoomIn\"\n                        title=\"Zoom In\"\n                        tabIndex={22}\n                        data-l10n-id=\"zoom_in\"\n                      >\n                        <span data-l10n-id=\"zoom_in_label\">Zoom In</span>\n                      </button>\n                    </div>\n                    <span id=\"scaleSelectContainer\" className=\"dropdownToolbarButton\">\n                      <select\n                        id=\"scaleSelect\"\n                        title=\"Zoom\"\n                        tabIndex={23}\n                        defaultValue=\"pageAutoOption\"\n                        data-l10n-id=\"zoom\"\n                      >\n                        <option\n                          id=\"pageAutoOption\"\n                          title=\"\"\n                          value=\"auto\"\n                          data-l10n-id=\"page_scale_auto\"\n                        >\n                          Automatic Zoom\n                        </option>\n                        <option\n                          id=\"pageActualOption\"\n                          title=\"\"\n                          value=\"page-actual\"\n                          data-l10n-id=\"page_scale_actual\"\n                        >\n                          Actual Size\n                        </option>\n                        <option\n                          id=\"pageFitOption\"\n                          title=\"\"\n                          value=\"page-fit\"\n                          data-l10n-id=\"page_scale_fit\"\n                        >\n                          Page Fit\n                        </option>\n                        <option\n                          id=\"pageWidthOption\"\n                          title=\"\"\n                          value=\"page-width\"\n                          data-l10n-id=\"page_scale_width\"\n                        >\n                          Page Width\n                        </option>\n                        <option\n                          id=\"customScaleOption\"\n                          title=\"\"\n                          value=\"custom\"\n                          disabled={true}\n                          hidden={true}\n                        />\n                        <option\n                          title=\"\"\n                          value=\"0.5\"\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 50 }'\n                        >\n                          50%\n                        </option>\n                        <option\n                          title=\"\"\n                          value=\"0.75\"\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 75 }'\n                        >\n                          75%\n                        </option>\n                        <option\n                          title=\"\"\n                          value={1}\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 100 }'\n                        >\n                          100%\n                        </option>\n                        <option\n                          title=\"\"\n                          value=\"1.25\"\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 125 }'\n                        >\n                          125%\n                        </option>\n                        <option\n                          title=\"\"\n                          value=\"1.5\"\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 150 }'\n                        >\n                          150%\n                        </option>\n                        <option\n                          title=\"\"\n                          value={2}\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 200 }'\n                        >\n                          200%\n                        </option>\n                        <option\n                          title=\"\"\n                          value={3}\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 300 }'\n                        >\n                          300%\n                        </option>\n                        <option\n                          title=\"\"\n                          value={4}\n                          data-l10n-id=\"page_scale_percent\"\n                          data-l10n-args='{ \"scale\": 400 }'\n                        >\n                          400%\n                        </option>\n                      </select>\n                    </span>\n                  </div>\n                </div>\n                <div id=\"loadingBar\">\n                  <div className=\"progress\">\n                    <div className=\"glimmer\"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <menu type=\"context\" id=\"viewerContextMenu\">\n              <div\n                id=\"contextFirstPage\"\n                aria-label=\"First Page\"\n                data-l10n-id=\"first_page\"\n              />\n              <div\n                id=\"contextLastPage\"\n                aria-label=\"Last Page\"\n                data-l10n-id=\"last_page\"\n              />\n              <div\n                id=\"contextPageRotateCw\"\n                aria-label=\"Rotate Clockwise\"\n                data-l10n-id=\"page_rotate_cw\"\n              />\n              <div\n                id=\"contextPageRotateCcw\"\n                aria-label=\"Rotate Counter-Clockwise\"\n                data-l10n-id=\"page_rotate_ccw\"\n\n              />\n            </menu>\n            <div id=\"viewerContainer\" tabIndex={0}>\n            <PDFSelection onShapesSelected={this.props.onShapesSelected}>\n              <div id=\"viewer\" className=\"pdfViewer\" />\n            </PDFSelection>\n            </div>\n            <div style={{opacity: 0, pointerEvents: 'none'}} id=\"svg-container\"></div>\n            {this.state.showLoadingPopup && <div style={{position: 'absolute', bottom: 50, left: '50%', fontSize: 25, zIndex: 9999, transform: 'translate(-50%, 0)', borderRadius: 5, background: 'rgba(20, 20, 20, 0.8)', padding: 30, color: 'white'}}>\n               <input type=\"file\" id=\"file-input\" accept=\".pdf,.svg\" style={{display: 'none'}} onChange={this.onFileLoaded.bind(this)}/> \n               <div onClick={() => {this.setState({showLoadingPopup: false})}} className={\"exitButton\"} style={{position: 'absolute', right: 5, top: 0}}><i className={\"fa fa-times-circle\"} aria-hidden={\"true\"}></i></div>\n               <i className={\"fa fa-mouse-pointer\"} aria-hidden={\"true\"}></i> Select a chart to extract<br/>\n               Or <button style={{fontSize: 25, paddingLeft: 5, paddingRight: 5}} onClick={() => {\n                 document.getElementById(\"file-input\").click()\n               }}> <i className={\"fa fa-file-pdf-o\"} aria-hidden={\"true\"}></i> load a PDF/SVG</button>.\n            </div> }\n            <div id=\"errorWrapper\" hidden={true}>\n              <div id=\"errorMessageLeft\">\n                <span id=\"errorMessage\" />\n                <button id=\"errorShowMore\" data-l10n-id=\"error_more_info\">\n                  More Information\n                </button>\n                <button\n                  id=\"errorShowLess\"\n                  data-l10n-id=\"error_less_info\"\n                  hidden={true}\n                >\n                  Less Information\n                </button>\n              </div>\n              <div id=\"errorMessageRight\">\n                <button id=\"errorClose\" data-l10n-id=\"error_close\">\n                  Close\n                </button>\n              </div>\n              <div className=\"clearBoth\" />\n              <textarea\n                id=\"errorMoreInfo\"\n                hidden={true}\n                readOnly={true}\n                defaultValue={\"\"}\n              />\n            </div>\n          </div>{\" \"}\n          {/* mainContainer */}\n          <div id=\"overlayContainer\" className=\"hidden\">\n            <div id=\"passwordOverlay\" className=\"container hidden\">\n              <div className=\"dialog\">\n                <div className=\"row\">\n                  <p id=\"passwordText\" data-l10n-id=\"password_label\">\n                    Enter the password to open this PDF file:\n                  </p>\n                </div>\n                <div className=\"row\">\n                  <input type=\"password\" id=\"password\" className=\"toolbarField\" />\n                </div>\n                <div className=\"buttonRow\">\n                  <button id=\"passwordCancel\" className=\"overlayButton\">\n                    <span data-l10n-id=\"password_cancel\">Cancel</span>\n                  </button>\n                  <button id=\"passwordSubmit\" className=\"overlayButton\">\n                    <span data-l10n-id=\"password_ok\">OK</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div id=\"documentPropertiesOverlay\" className=\"container hidden\">\n              <div className=\"dialog\">\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_file_name\">File name:</span>{\" \"}\n                  <p id=\"fileNameField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_file_size\">File size:</span>{\" \"}\n                  <p id=\"fileSizeField\">-</p>\n                </div>\n                <div className=\"separator\" />\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_title\">Title:</span>{\" \"}\n                  <p id=\"titleField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_author\">Author:</span>{\" \"}\n                  <p id=\"authorField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_subject\">Subject:</span>{\" \"}\n                  <p id=\"subjectField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_keywords\">Keywords:</span>{\" \"}\n                  <p id=\"keywordsField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_creation_date\">\n                    Creation Date:\n                  </span>{\" \"}\n                  <p id=\"creationDateField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_modification_date\">\n                    Modification Date:\n                  </span>{\" \"}\n                  <p id=\"modificationDateField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_creator\">Creator:</span>{\" \"}\n                  <p id=\"creatorField\">-</p>\n                </div>\n                <div className=\"separator\" />\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_producer\">\n                    PDF Producer:\n                  </span>{\" \"}\n                  <p id=\"producerField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_version\">PDF Version:</span>{\" \"}\n                  <p id=\"versionField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_page_count\">\n                    Page Count:\n                  </span>{\" \"}\n                  <p id=\"pageCountField\">-</p>\n                </div>\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_page_size\">Page Size:</span>{\" \"}\n                  <p id=\"pageSizeField\">-</p>\n                </div>\n                <div className=\"separator\" />\n                <div className=\"row\">\n                  <span data-l10n-id=\"document_properties_linearized\">\n                    Fast Web View:\n                  </span>{\" \"}\n                  <p id=\"linearizedField\">-</p>\n                </div>\n                <div className=\"buttonRow\">\n                  <button id=\"documentPropertiesClose\" className=\"overlayButton\">\n                    <span data-l10n-id=\"document_properties_close\">Close</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div id=\"printServiceOverlay\" className=\"container hidden\">\n              <div className=\"dialog\">\n                <div className=\"row\">\n                  <span data-l10n-id=\"print_progress_message\">\n                    Preparing document for printing…\n                  </span>\n                </div>\n                <div className=\"row\">\n                  <progress value={0} max={100} />\n                  <span\n                    data-l10n-id=\"print_progress_percent\"\n                    data-l10n-args='{ \"progress\": 0 }'\n                    className=\"relative-progress\"\n                  >\n                    0%\n                  </span>\n                </div>\n                <div className=\"buttonRow\">\n                  <button id=\"printCancel\" className=\"overlayButton\">\n                    <span data-l10n-id=\"print_progress_close\">Cancel</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>{\" \"}\n          {/* overlayContainer */}\n        </div>{\" \"}\n        {/* outerContainer */}\n        <div id=\"printContainer\" />\n      </>\n\n    </>\n    )\n  }\n}","import './App.css';\nimport React from 'react';\n\n\nimport ChartExtractor from './view/ChartExtractor';\nimport PDFJSViewer from './view/pdfViewer/PDFJSViewer';\nimport ShapeCommand from './datastructure/ShapeCommand';\nimport Rectangle from './datastructure/Rectangle';\n\ninterface AppState {\n  chartSelection : any;\n}\n\nexport default class App extends React.Component<any, AppState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartSelection: {}\n    }\n  }\n\n  setSelectedChart(shapes : ShapeCommand[], rect : Rectangle) : void {\n    if (shapes.length > 0) {\n      this.setState({chartSelection: {shapes: shapes, rect: rect}});\n\n    }\n  }\n\n  getChart() : any {\n    return { rect: this.state.chartSelection.rect, shapes: this.state.chartSelection.shapes };\n  }\n\n  render() : JSX.Element {\n    if (this.state.chartSelection.shapes === undefined) {\n      // If no shapes are selected, show the PDFViewer so that\n      // the user can select the chart. Usually happens when the app was just loaded.\n      return (\n        <div className=\"App\">\n          <PDFJSViewer onShapesSelected={this.setSelectedChart.bind(this)}></PDFJSViewer>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"App\">\n          <ChartExtractor chart={this.getChart()}/>\n        </div>\n      )\n    }\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '../node_modules/react-grid-layout/css/styles.css'\nimport '../node_modules/react-resizable/css/styles.css'\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 42;"],"sourceRoot":""}